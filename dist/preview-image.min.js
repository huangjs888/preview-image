!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).PreviewImage={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r=function(t){return t&&t.Math==Math&&t},i=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||function(){return this}()||e||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},a=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),s=Function.prototype,u=s.apply,l=s.call,c="object"==typeof Reflect&&Reflect.apply||(a?l.bind(u):function(){return l.apply(u,arguments)}),f=a,h=Function.prototype,p=h.call,v=f&&h.bind.bind(p,p),d=f?v:function(t){return function(){return p.apply(t,arguments)}},m=d,g=m({}.toString),y=m("".slice),w=function(t){return y(g(t),8,-1)},_=w,b=d,T=function(t){if("Function"===_(t))return b(t)},x="object"==typeof document&&document.all,P={all:x,IS_HTMLDDA:void 0===x&&void 0!==x},S=P.all,E=P.IS_HTMLDDA?function(t){return"function"==typeof t||t===S}:function(t){return"function"==typeof t},C={},M=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),D=Function.prototype.call,O=a?D.bind(D):function(){return D.apply(D,arguments)},k={},A={}.propertyIsEnumerable,I=Object.getOwnPropertyDescriptor,L=I&&!A.call({1:2},1);k.f=L?function(t){var e=I(this,t);return!!e&&e.enumerable}:A;var j,R,B=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},F=o,z=w,U=Object,H=d("".split),N=F((function(){return!U("z").propertyIsEnumerable(0)}))?function(t){return"String"==z(t)?H(t,""):U(t)}:U,X=function(t){return null==t},q=X,Y=TypeError,G=function(t){if(q(t))throw Y("Can't call method on "+t);return t},V=N,W=G,$=function(t){return V(W(t))},J=E,Z=P.all,Q=P.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:J(t)||t===Z}:function(t){return"object"==typeof t?null!==t:J(t)},K={},tt=K,et=i,nt=E,rt=function(t){return nt(t)?t:void 0},it=function(t,e){return 2>arguments.length?rt(tt[t])||rt(et[t]):tt[t]&&tt[t][e]||et[t]&&et[t][e]},ot=d({}.isPrototypeOf),at="undefined"!=typeof navigator&&navigator.userAgent+""||"",st=at,ut=i.process,lt=i.Deno,ct=ut&&ut.versions||lt&&lt.version,ft=ct&&ct.v8;ft&&(R=(j=ft.split("."))[0]>0&&4>j[0]?1:+(j[0]+j[1])),!R&&st&&((j=st.match(/Edge\/(\d+)/))&&74>j[1]||(j=st.match(/Chrome\/(\d+)/))&&(R=+j[1]));var ht=R,pt=ht,vt=i.String,dt=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!vt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&pt&&41>pt})),mt=dt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,gt=it,yt=E,wt=ot,_t=Object,bt=mt?function(t){return"symbol"==typeof t}:function(t){var e=gt("Symbol");return yt(e)&&wt(e.prototype,_t(t))},Tt=String,xt=function(t){try{return Tt(t)}catch(t){return"Object"}},Pt=E,St=xt,Et=TypeError,Ct=function(t){if(Pt(t))return t;throw Et(St(t)+" is not a function")},Mt=Ct,Dt=X,Ot=function(t,e){var n=t[e];return Dt(n)?void 0:Mt(n)},kt=O,At=E,It=Q,Lt=TypeError,jt={exports:{}},Rt=i,Bt=Object.defineProperty,Ft="__core-js_shared__",zt=i[Ft]||function(t,e){try{Bt(Rt,t,{value:e,configurable:!0,writable:!0})}catch(n){Rt[t]=e}return e}(Ft,{}),Ut=zt;(jt.exports=function(t,e){return Ut[t]||(Ut[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.32.0",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Ht=jt.exports,Nt=G,Xt=Object,qt=function(t){return Xt(Nt(t))},Yt=qt,Gt=d({}.hasOwnProperty),Vt=Object.hasOwn||function(t,e){return Gt(Yt(t),e)},Wt=d,$t=0,Jt=Math.random(),Zt=Wt(1..toString),Qt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Zt(++$t+Jt,36)},Kt=Vt,te=Qt,ee=dt,ne=mt,re=i.Symbol,ie=Ht("wks"),oe=ne?re.for||re:re&&re.withoutSetter||te,ae=function(t){return Kt(ie,t)||(ie[t]=ee&&Kt(re,t)?re[t]:oe("Symbol."+t)),ie[t]},se=O,ue=Q,le=bt,ce=Ot,fe=function(t,e){var n,r;if("string"===e&&At(n=t.toString)&&!It(r=kt(n,t)))return r;if(At(n=t.valueOf)&&!It(r=kt(n,t)))return r;if("string"!==e&&At(n=t.toString)&&!It(r=kt(n,t)))return r;throw Lt("Can't convert object to primitive value")},he=TypeError,pe=ae("toPrimitive"),ve=function(t,e){if(!ue(t)||le(t))return t;var n,r=ce(t,pe);if(r){if(void 0===e&&(e="default"),n=se(r,t,e),!ue(n)||le(n))return n;throw he("Can't convert object to primitive value")}return void 0===e&&(e="number"),fe(t,e)},de=bt,me=function(t){var e=ve(t,"string");return de(e)?e:e+""},ge=Q,ye=i.document,we=ge(ye)&&ge(ye.createElement),_e=function(t){return we?ye.createElement(t):{}},be=_e,Te=!M&&!o((function(){return 7!=Object.defineProperty(be("div"),"a",{get:function(){return 7}}).a})),xe=O,Pe=k,Se=B,Ee=$,Ce=me,Me=Vt,De=Te,Oe=Object.getOwnPropertyDescriptor;C.f=M?Oe:function(t,e){if(t=Ee(t),e=Ce(e),De)try{return Oe(t,e)}catch(t){}if(Me(t,e))return Se(!xe(Pe.f,t,e),t[e])};var ke=o,Ae=E,Ie=/#|\.prototype\./,Le=function(t,e){var n=Re[je(t)];return n==Fe||n!=Be&&(Ae(e)?ke(e):!!e)},je=Le.normalize=function(t){return(t+"").replace(Ie,".").toLowerCase()},Re=Le.data={},Be=Le.NATIVE="N",Fe=Le.POLYFILL="P",ze=Le,Ue=Ct,He=a,Ne=T(T.bind),Xe=function(t,e){return Ue(t),void 0===e?t:He?Ne(t,e):function(){return t.apply(e,arguments)}},qe={},Ye=M&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ge=Q,Ve=String,We=TypeError,$e=function(t){if(Ge(t))return t;throw We(Ve(t)+" is not an object")},Je=Te,Ze=$e,Qe=me,Ke=TypeError,tn=Object.defineProperty,en=Object.getOwnPropertyDescriptor,nn="enumerable",rn="configurable",on="writable";qe.f=M?Ye?function(t,e,n){if(Ze(t),e=Qe(e),Ze(n),"function"==typeof t&&"prototype"===e&&"value"in n&&on in n&&!n[on]){var r=en(t,e);r&&r[on]&&(t[e]=n.value,n={configurable:rn in n?n[rn]:r[rn],enumerable:nn in n?n[nn]:r[nn],writable:!1})}return tn(t,e,n)}:tn:function(t,e,n){if(Ze(t),e=Qe(e),Ze(n),Je)try{return tn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ke("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var an=qe,sn=B,un=M?function(t,e,n){return an.f(t,e,sn(1,n))}:function(t,e,n){return t[e]=n,t},ln=i,cn=c,fn=T,hn=E,pn=C.f,vn=ze,dn=K,mn=Xe,gn=un,yn=Vt,wn=function(t){var e=function(n,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,i)}return cn(t,this,arguments)};return e.prototype=t.prototype,e},_n=function(t,e){var n,r,i,o,a,s,u,l,c,f=t.target,h=t.global,p=t.stat,v=t.proto,d=h?ln:p?ln[f]:(ln[f]||{}).prototype,m=h?dn:dn[f]||gn(dn,f,{})[f],g=m.prototype;for(o in e)r=!(n=vn(h?o:f+(p?".":"#")+o,t.forced))&&d&&yn(d,o),s=m[o],r&&(u=t.dontCallGetSet?(c=pn(d,o))&&c.value:d[o]),a=r&&u?u:e[o],r&&typeof s==typeof a||(l=t.bind&&r?mn(a,ln):t.wrap&&r?wn(a):v&&hn(a)?fn(a):a,(t.sham||a&&a.sham||s&&s.sham)&&gn(l,"sham",!0),gn(m,o,l),v&&(yn(dn,i=f+"Prototype")||gn(dn,i,{}),gn(dn[i],o,a),t.real&&g&&(n||!g[o])&&gn(g,o,a)))},bn=Math.ceil,Tn=Math.floor,xn=Math.trunc||function(t){var e=+t;return(e>0?Tn:bn)(e)},Pn=function(t){var e=+t;return e!=e||0===e?0:xn(e)},Sn=Pn,En=Math.max,Cn=Math.min,Mn=function(t,e){var n=Sn(t);return 0>n?En(n+e,0):Cn(n,e)},Dn=Pn,On=Math.min,kn=function(t){return t>0?On(Dn(t),9007199254740991):0},An=function(t){return kn(t.length)},In=$,Ln=Mn,jn=An,Rn=function(t){return function(e,n,r){var i,o=In(e),a=jn(o),s=Ln(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},Bn={includes:Rn(!0),indexOf:Rn(!1)},Fn={},zn=Vt,Un=$,Hn=Bn.indexOf,Nn=Fn,Xn=d([].push),qn=function(t,e){var n,r=Un(t),i=0,o=[];for(n in r)!zn(Nn,n)&&zn(r,n)&&Xn(o,n);for(;e.length>i;)zn(r,n=e[i++])&&(~Hn(o,n)||Xn(o,n));return o},Yn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Gn=qn,Vn=Yn,Wn=Object.keys||function(t){return Gn(t,Vn)},$n={};$n.f=Object.getOwnPropertySymbols;var Jn=M,Zn=O,Qn=o,Kn=Wn,tr=$n,er=k,nr=qt,rr=N,ir=Object.assign,or=Object.defineProperty,ar=d([].concat),sr=!ir||Qn((function(){if(Jn&&1!==ir({b:1},ir(or({},"a",{enumerable:!0,get:function(){or(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=ir({},t)[n]||Kn(ir({},e)).join("")!=r}))?function(t,e){for(var n=nr(t),r=arguments.length,i=1,o=tr.f,a=er.f;r>i;)for(var s,u=rr(arguments[i++]),l=o?ar(Kn(u),o(u)):Kn(u),c=l.length,f=0;c>f;)s=l[f++],Jn&&!Zn(a,u,s)||(n[s]=u[s]);return n}:ir;_n({target:"Object",stat:!0,arity:2,forced:Object.assign!==sr},{assign:sr});var ur=n(K.Object.assign),lr=d([].slice),cr=d,fr=Ct,hr=Q,pr=Vt,vr=lr,dr=a,mr=Function,gr=cr([].concat),yr=cr([].join),wr={},_r=dr?mr.bind:function(t){var e=fr(this),n=e.prototype,r=vr(arguments,1),i=function(){var n=gr(r,vr(arguments));return this instanceof i?function(t,e,n){if(!pr(wr,e)){for(var r=[],i=0;e>i;i++)r[i]="a["+i+"]";wr[e]=mr("C,a","return new C("+yr(r,",")+")")}return wr[e](t,n)}(e,n.length,n):e.apply(t,n)};return hr(n)&&(i.prototype=n),i};_n({target:"Function",proto:!0,forced:Function.bind!==_r},{bind:_r});var br=K,Tr=function(t){return br[t+"Prototype"]},xr=Tr("Function").bind,Pr=ot,Sr=xr,Er=Function.prototype,Cr=n((function(t){var e=t.bind;return t===Er||Pr(Er,t)&&e===Er.bind?Sr:e}));function Mr(){var t;return Mr=ur?Cr(t=ur).call(t):function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mr.apply(this,arguments)}function Dr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Or={},kr=qe,Ar=$e,Ir=$,Lr=Wn;Or.f=M&&!Ye?Object.defineProperties:function(t,e){Ar(t);for(var n,r=Ir(e),i=Lr(e),o=i.length,a=0;o>a;)kr.f(t,n=i[a++],r[n]);return t};var jr,Rr=it("document","documentElement"),Br=Qt,Fr=Ht("keys"),zr=function(t){return Fr[t]||(Fr[t]=Br(t))},Ur=$e,Hr=Or,Nr=Yn,Xr=Fn,qr=Rr,Yr=_e,Gr="prototype",Vr="script",Wr=zr("IE_PROTO"),$r=function(){},Jr=function(t){return"<"+Vr+">"+t+"</"+Vr+">"},Zr=function(t){t.write(Jr("")),t.close();var e=t.parentWindow.Object;return t=null,e},Qr=function(){try{jr=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Qr="undefined"!=typeof document?document.domain&&jr?Zr(jr):(e=Yr("iframe"),n="java"+Vr+":",e.style.display="none",qr.appendChild(e),e.src=n+"",(t=e.contentWindow.document).open(),t.write(Jr("document.F=Object")),t.close(),t.F):Zr(jr);for(var r=Nr.length;r--;)delete Qr[Gr][Nr[r]];return Qr()};Xr[Wr]=!0;var Kr=Object.create||function(t,e){var n;return null!==t?($r[Gr]=Ur(t),n=new $r,$r[Gr]=null,n[Wr]=t):n=Qr(),void 0===e?n:Hr.f(n,e)};_n({target:"Object",stat:!0,sham:!M},{create:Kr});var ti=K.Object,ei=n((function(t,e){return ti.create(t,e)})),ni=d,ri=Ct,ii=E,oi=String,ai=TypeError,si=function(t,e,n){try{return ni(ri(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},ui=$e,li=function(t){if("object"==typeof t||ii(t))return t;throw ai("Can't set "+oi(t)+" as a prototype")},ci=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=si(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return ui(n),li(r),e?t(n,r):n.__proto__=r,n}}():void 0);_n({target:"Object",stat:!0},{setPrototypeOf:ci});var fi=n(K.Object.setPrototypeOf);function hi(t,e){var n;return hi=fi?Cr(n=fi).call(n):function(t,e){return t.__proto__=e,t},hi(t,e)}function pi(t,e){t.prototype=ei(e.prototype),t.prototype.constructor=t,hi(t,e)}_n({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var vi=n(K.Number.isNaN),di=qt,mi=Wn;_n({target:"Object",stat:!0,forced:o((function(){mi(1)}))},{keys:function(t){return mi(di(t))}});var gi,yi=K.Object.keys,wi=n(yi),_i=n(yi);function bi(t){if("undefined"==typeof document)return 0;if(t||void 0===gi){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),gi=i-o}return gi}function Ti(t){var e=t.match(/^(.*)px$/),n=Number(null==e?void 0:e[1]);return vi(n)?bi():n}var xi=/^(?:-border(?:-top|-right|-bottom|-left)?(?:-width|)|(?:-margin|-padding)?(?:-top|-right|-bottom|-left)?|(?:-min|-max)?(?:-width|-height))$/;function Pi(t,e){if(t&&e){var n="";_i(e).forEach((function(r){var i=r.replace(/([A-Z])/g,"-$1").toLocaleLowerCase(),o=e[r];if(o||0===o){var a="number"==typeof o&&/^[a-z]/.test(i)&&xi.test("-"+i)?"px":"";n+=i+": "+o+a+";"}else t.style.removeProperty(i)})),t.style.cssText+=n}return t}function Si(t,e){return!(!t||!e)&&t.classList.contains(e)}function Ei(t,e){return t&&e&&(Array.isArray(e)?e:e.split(" ")).forEach((function(e){return e&&t.classList.add(e)})),t}function Ci(t,e){return t&&e&&(Array.isArray(e)?e:e.split(" ")).forEach((function(e){return e&&t.classList.remove(e)})),t}function Mi(t){var e=t;return"string"==typeof t&&(e=document.querySelector(t)),"function"==typeof t&&(e=t()),e||null}function Di(t,e,n,r){var i,o,a,s,u;"string"==typeof t?(o=t,a=e||{},s=Array.isArray(n)?n:[n],u=r):(o="div",a=t||{},s=Array.isArray(e)?e:[e],u=n);var l=Pi(Ei(document.createElement(o),a.className),a.style),c=a.attrs||{};return _i(c).forEach((function(t){"innerHTML"!==t&&"className"!==t&&"style"!==t&&t in l&&(l[t]=c[t])})),s.forEach((function(t){t instanceof Element?null==l||l.appendChild(t):l&&null!=t&&(l.innerHTML=t+"")})),null==(i=Mi(u))||i.appendChild(l),l}function Oi(t){if(t){var e=t.getBoundingClientRect();return{left:e.left,top:e.top,width:e.width,height:e.height}}return{left:0,top:0,width:0,height:0}}var ki=w,Ai=Array.isArray||function(t){return"Array"==ki(t)},Ii=Ai,Li=TypeError,ji=Object.getOwnPropertyDescriptor,Ri=M&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(Ii(t)&&!ji(t,"length").writable)throw Li("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Bi=TypeError,Fi={};Fi[ae("toStringTag")]="z";var zi=Fi+""=="[object z]",Ui=zi,Hi=E,Ni=w,Xi=ae("toStringTag"),qi=Object,Yi="Arguments"==Ni(function(){return arguments}()),Gi=Ui?Ni:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=qi(t),Xi))?n:Yi?Ni(e):"Object"==(r=Ni(e))&&Hi(e.callee)?"Arguments":r},Vi=E,Wi=zt,$i=d(Function.toString);Vi(Wi.inspectSource)||(Wi.inspectSource=function(t){return $i(t)});var Ji=Wi.inspectSource,Zi=d,Qi=o,Ki=E,to=Gi,eo=Ji,no=function(){},ro=[],io=it("Reflect","construct"),oo=/^\s*(?:class|function)\b/,ao=Zi(oo.exec),so=!oo.exec(no),uo=function(t){if(!Ki(t))return!1;try{return io(no,ro,t),!0}catch(t){return!1}},lo=function(t){if(!Ki(t))return!1;switch(to(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return so||!!ao(oo,eo(t))}catch(t){return!0}};lo.sham=!0;var co=!io||Qi((function(){var t;return uo(uo.call)||!uo(Object)||!uo((function(){t=!0}))||t}))?lo:uo,fo=Ai,ho=co,po=Q,vo=ae("species"),mo=Array,go=function(t){var e;return fo(t)&&(ho(e=t.constructor)&&(e===mo||fo(e.prototype))||po(e)&&null===(e=e[vo]))&&(e=void 0),void 0===e?mo:e},yo=function(t,e){return new(go(t))(0===e?0:e)},wo=me,_o=qe,bo=B,To=function(t,e,n){var r=wo(e);r in t?_o.f(t,r,bo(0,n)):t[r]=n},xo=xt,Po=TypeError,So=o,Eo=ht,Co=ae("species"),Mo=function(t){return Eo>=51||!So((function(){var e=[];return(e.constructor={})[Co]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Do=_n,Oo=qt,ko=Mn,Ao=Pn,Io=An,Lo=Ri,jo=function(t){if(t>9007199254740991)throw Bi("Maximum allowed index exceeded");return t},Ro=yo,Bo=To,Fo=function(t,e){if(!delete t[e])throw Po("Cannot delete property "+xo(e)+" of "+xo(t))},zo=Mo("splice"),Uo=Math.max,Ho=Math.min;Do({target:"Array",proto:!0,forced:!zo},{splice:function(t,e){var n,r,i,o,a,s,u=Oo(this),l=Io(u),c=ko(t,l),f=arguments.length;for(0===f?n=r=0:1===f?(n=0,r=l-c):(n=f-2,r=Ho(Uo(Ao(e),0),l-c)),jo(l+n-r),i=Ro(u,r),o=0;r>o;o++)(a=c+o)in u&&Bo(i,o,u[a]);if(i.length=r,r>n){for(o=c;l-r>o;o++)s=o+n,(a=o+r)in u?u[s]=u[a]:Fo(u,s);for(o=l;o>l-r+n;o--)Fo(u,o-1)}else if(n>r)for(o=l-r;o>c;o--)s=o+n-1,(a=o+r-1)in u?u[s]=u[a]:Fo(u,s);for(o=0;n>o;o++)u[o+c]=arguments[o+2];return Lo(u,l-r+n),i}});var No=Tr("Array").splice,Xo=ot,qo=No,Yo=Array.prototype,Go=n((function(t){var e=t.splice;return t===Yo||Xo(Yo,t)&&e===Yo.splice?qo:e})),Vo=function(){function t(){this.events={},this.events={}}var e=t.prototype;return e.one=function(t,e,n){var r=this,i="function"==typeof e?function(){for(var o=arguments.length,a=Array(o),s=0;o>s;s++)a[s]=arguments[s];e.apply(null,a),r.off(t,i,n)}:e;this.on(t,i,n)},e.on=function(t,e,n){var r=this.events[t]||{pool:[],single:-1};if("function"==typeof e)if(n)-1===r.single?r.single=r.pool.push(e)-1:r.pool[r.single]=e;else{for(var i=!0,o=0,a=r.pool.length;a>o;o++)if(r.pool[o]===e&&o!==r.single){i=!1;break}i&&r.pool.push(e)}else if(n&&-1!==r.single){var s;Go(s=r.pool).call(s,r.single,1),r.single=-1}this.events[t]=r},e.off=function(t,e,n){if(void 0===t)this.events={};else if(void 0===e)delete this.events[t];else if(n){var r,i=this.events[t];if(i&&-1!==i.single)Go(r=i.pool).call(r,i.single,1),i.single=-1}else{var o=this.events[t];if(o)for(var a=o.pool.length-1;a>=0;a--)if(o.pool[a]===e&&a!==o.single){var s;Go(s=o.pool).call(s,a,1);break}}},e.emit=function(t,e){var n=this.events[t];if(n)for(var r=0,i=n.pool.length;i>r;r++){var o=n.pool[r];if("function"==typeof o)if(!1===o.call(null,e,t))break}},t}(),Wo=Xe,$o=N,Jo=qt,Zo=An,Qo=yo,Ko=d([].push),ta=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,l,c,f){for(var h,p,v=Jo(u),d=$o(v),m=Wo(l,c),g=Zo(d),y=0,w=f||Qo,_=e?w(u,g):n||a?w(u,0):void 0;g>y;y++)if((s||y in d)&&(p=m(h=d[y],y,v),t))if(e)_[y]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:Ko(_,h)}else switch(t){case 4:return!1;case 7:Ko(_,h)}return o?-1:r||i?i:_}},ea={forEach:ta(0),map:ta(1),filter:ta(2),some:ta(3),every:ta(4),find:ta(5),findIndex:ta(6),filterReject:ta(7)},na=ea.map;_n({target:"Array",proto:!0,forced:!Mo("map")},{map:function(t){return na(this,t,arguments.length>1?arguments[1]:void 0)}});var ra=Tr("Array").map,ia=ot,oa=ra,aa=Array.prototype,sa=n((function(t){var e=t.map;return t===aa||ia(aa,t)&&e===aa.map?oa:e})),ua=ea.filter;_n({target:"Array",proto:!0,forced:!Mo("filter")},{filter:function(t){return ua(this,t,arguments.length>1?arguments[1]:void 0)}});var la=Tr("Array").filter,ca=ot,fa=la,ha=Array.prototype,pa=n((function(t){var e=t.filter;return t===ha||ca(ha,t)&&e===ha.filter?fa:e})),va=_n,da=Ai,ma=co,ga=Q,ya=Mn,wa=An,_a=$,ba=To,Ta=ae,xa=lr,Pa=Mo("slice"),Sa=Ta("species"),Ea=Array,Ca=Math.max;va({target:"Array",proto:!0,forced:!Pa},{slice:function(t,e){var n,r,i,o=_a(this),a=wa(o),s=ya(t,a),u=ya(void 0===e?a:e,a);if(da(o)&&((ma(n=o.constructor)&&(n===Ea||da(n.prototype))||ga(n)&&null===(n=n[Sa]))&&(n=void 0),n===Ea||void 0===n))return xa(o,s,u);for(r=new(void 0===n?Ea:n)(Ca(u-s,0)),i=0;u>s;s++,i++)s in o&&ba(r,i,o[s]);return r.length=i,r}});var Ma=Tr("Array").slice,Da=ot,Oa=Ma,ka=Array.prototype,Aa=n((function(t){var e=t.slice;return t===ka||Da(ka,t)&&e===ka.slice?Oa:e})),Ia=function(t,e){for(var n=t;n&&n!==e;)n=n.parentNode;return!!n};function La(t,e,n){return"number"!=typeof t||n>t?e:t}function ja(){return window.navigator.maxTouchPoints||"ontouchstart"in window.document}function Ra(t,e){if(void 0===e&&(e=!1),t.touches){var n;if(e){var r,i=sa(r=pa(Array.prototype).call(t.touches,(function(e){return Ia(e.target,t.currentTarget)}))).call(r,(function(t){return{pageX:t.pageX,pageY:t.pageY,identifier:t.identifier}}));return{points:i,isFirst:t.changedTouches.length===i.length}}return{points:sa(n=Aa(Array.prototype).call(t.changedTouches||[])).call(n,(function(t){return{pageX:t.pageX,pageY:t.pageY,identifier:t.identifier}}))}}return{points:[{pageX:t.pageX,pageY:t.pageY,identifier:-1}],isFirst:e}}function Ba(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return"number"==typeof n&&"number"==typeof i&&"number"==typeof r&&"number"==typeof o?Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)):0}function Fa(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return"number"==typeof n&&"number"==typeof i&&"number"==typeof r&&"number"==typeof o?180*Math.atan2(o-r,i-n)/Math.PI:0}function za(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a="number"==typeof n&&"number"==typeof r,s="number"==typeof i&&"number"==typeof o;return a||s?a&&!s?[n,r]:!a&&s?[i,o]:[(n+i)/2,(r+o)/2]:[0,0]}function Ua(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];if("number"==typeof n&&"number"==typeof i&&"number"==typeof r&&"number"==typeof o){var a=n-i,s=r-o;if(a!==s)return Math.abs(s)>Math.abs(a)?r-o>0?"Up":"Down":n-i>0?"Left":"Right"}return"None"}var Ha=function(t){function e(e){var n;return(n=t.call(this)||this).wheelDelay=350,n.longTapInterval=750,n.doubleTapInterval=250,n.doubleTapDistance=30,n.touchMoveDistance=3,n.swipeVelocity=.3,n.swipeDuration=100,n.raiseDuration=100,n._rotateAngle=0,n._singleTapTimer=0,n._longTapTimer=0,n._wheelTimerEnd=null,n._preventTap=!0,n._swipePoints=null,n._preventSingleTap=!0,n._preventDoubleTap=!0,n._firstPointer=null,n._pointer0=null,n._pointer1=null,n.resetOptions(e),n}pi(e,t);var n=e.prototype;return n.resetOptions=function(t){var e=t||{},n=e.longTapInterval,r=e.doubleTapInterval,i=e.doubleTapDistance,o=e.touchMoveDistance,a=e.swipeVelocity,s=e.swipeDuration,u=e.raiseDuration;this.wheelDelay=La(e.wheelDelay,350,1),this.longTapInterval=La(n,750,1),this.doubleTapInterval=La(r,250,1),this.doubleTapDistance=La(i,30,1),this.touchMoveDistance=La(o,3,0),this.swipeVelocity=La(a,.3,0),this.swipeDuration=La(s,100,1),this.raiseDuration=La(u,100,1)},n.preventAllTap=function(t){void 0===t&&(t=!0),this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,t&&(this._firstPointer=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=0)},e}(Vo);function Na(t){var e=this,n={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]}},r=Ra(t,!0),i=r.points;r.isFirst?(this._wheelTimerEnd&&(clearTimeout(this._wheelTimerEnd.timer),this._wheelTimerEnd.wheelEnd(),this._wheelTimerEnd=null),this._pointer0=null,this._pointer1=null):(this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1));for(var o=0,a=i.length;a>o;++o){var s=i[o],u=[s.pageX,s.pageY],l={start:u,previous:u,current:u,identifier:s.identifier,changed:!0};this._pointer0?this._pointer1||this._pointer0.identifier===s.identifier||(this._pointer1=l):this._pointer0=l}this.preventAllTap(!1),this._swipePoints=null,this._rotateAngle=0;var c=this._pointer0,f=this._pointer1;if(f&&c)this._firstPointer=null,n.pointers=[c,f],n.getPoint=function(){return za(c.current,f.current)},this.emit("gestureStart",n);else{if(!c)return;n.pointers=[c],n.getPoint=function(){return c.current},this._preventTap=!1,this._longTapTimer=+setTimeout((function(){e._preventTap=!0,e._preventSingleTap=!0,e._preventDoubleTap=!0,e._longTapTimer=0,e._firstPointer=null,n.waitTime=e.longTapInterval,e.emit("longTap",n)}),this.longTapInterval);var h=this._firstPointer,p=this._singleTapTimer;p&&h&&Ba(h.current,c.current)<this.doubleTapDistance?(clearTimeout(p),this._singleTapTimer=0,this._preventSingleTap=!0,this._preventDoubleTap=!1,n.getPoint=function(){return h.current}):(this._firstPointer=c,this._preventSingleTap=!1,this._preventDoubleTap=!0)}this.emit("pointerStart",n)}function Xa(t){var e={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]}};this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1);for(var n=Ra(t).points,r=0,i=n.length;i>r;++r){var o=n[r],a=[o.pageX,o.pageY];this._pointer0&&this._pointer0.identifier===o.identifier?(this._pointer0.changed=!0,this._pointer0.previous=this._pointer0.current,this._pointer0.current=a):this._pointer1&&this._pointer1.identifier===o.identifier&&(this._pointer1.changed=!0,this._pointer1.previous=this._pointer1.current,this._pointer1.current=a)}var s=this._pointer0,u=this._pointer1;if(s&&Ba(s.start,s.current)>this.touchMoveDistance||u&&Ba(u.start,u.current)>this.touchMoveDistance){if(this.preventAllTap(),u&&s){e.pointers=[s,u];var l=s.start,c=s.previous,f=s.current,h=u.start,p=u.previous,v=u.current,d=za(f,v),m=za(c,p),g=za(l,h);e.getPoint=function(t){return"start"===t?g:"previous"===t?m:d},e.direction=Ua(m,d),e.moveDirection=Ua(g,d),e.deltaX=d[0]-m[0],e.moveX=d[0]-g[0],e.deltaY=d[1]-m[1],e.moveY=d[1]-g[1];var y=Ba(f,v),w=Ba(c,p),_=Ba(l,h);_>0&&y>0&&w>0&&(e.scale=y/w,e.moveScale=y/_);var b=Fa(f,v)-Fa(c,p);-180>b?b+=360:b>180&&(b-=360),e.angle=b,this._rotateAngle+=b,e.moveAngle=this._rotateAngle,this.emit("rotate",e),_>0&&y>0&&w>0&&this.emit("scale",e),this.emit("multiPan",e),this.emit("gestureMove",e)}else{if(!s)return;e.pointers=[s];var T=s.start,x=s.previous,P=s.current;e.getPoint=function(t){return"start"===t?T:"previous"===t?x:P},e.direction=Ua(x,P),e.moveDirection=Ua(T,P),e.deltaX=P[0]-x[0],e.moveX=P[0]-T[0],e.deltaY=P[1]-x[1],e.moveY=P[1]-T[1];var S=Date.now(),E=this._swipePoints||[[],[]];S-((E[1][0]?E[1][0].timestamp:0)||0)>this.swipeDuration&&(E[0]=E[1],E[1]=[]),E[1].push({point:P,timestamp:S}),this._swipePoints=E,this.emit("pan",e)}this.emit("pointerMove",e)}}function qa(t){var e=this,n={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]}},r=null,i=null;this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1);for(var o,a,s=Ra(t).points,u=0,l=s.length;l>u;++u){var c=s[u];this._pointer0&&this._pointer0.identifier===c.identifier?(this._pointer0.changed=!0,r=this._pointer0,this._pointer0=null):this._pointer1&&this._pointer1.identifier===c.identifier&&(this._pointer1.changed=!0,i=this._pointer1,this._pointer1=null)}if(this._pointer1&&!this._pointer0&&(this._pointer0=this._pointer1,this._pointer1=null,i=r,r=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=0),this._pointer0){n.pointers=[this._pointer0],this._pointer1?n.pointers.push(this._pointer1):i&&(n.leavePointers=[i],this._rotateAngle=0);var f=za(this._pointer0.start,this._pointer1?this._pointer1.start:i?i.start:[]),h=za(this._pointer0.previous,this._pointer1?this._pointer1.previous:i?i.previous:[]),p=za(this._pointer0.current,this._pointer1?this._pointer1.current:i?i.current:[]);n.getPoint=function(t){return"start"===t?f:"previous"===t?h:p},this.emit("gestureEnd",n)}else if(r){n.leavePointers=[r],i&&n.leavePointers.push(i);var v=i?za(r.start,i.start):r.start,d=i?za(r.previous,i.previous):r.previous,m=i?za(r.current,i.current):r.current;if(n.getPoint=function(t){return"start"===t?v:"previous"===t?d:m},this._preventTap||(this.emit("tap",n),this._preventTap=!0),this._preventSingleTap||(this._singleTapTimer=+setTimeout((function(){e._singleTapTimer=0,n.delayTime=e.doubleTapInterval,e.emit("singleTap",n)}),this.doubleTapInterval),this._preventSingleTap=!0),!this._preventDoubleTap){var g=this._firstPointer;g&&(n.getPoint=function(){return g.current}),n.intervalTime=this.doubleTapInterval,this.emit("doubleTap",n),this._firstPointer=null,this._preventDoubleTap=!0}if(this._swipePoints){var y=this._swipePoints,w=y[0],_=y[1],b=_[_.length-1];if(Date.now()-b.timestamp<=this.raiseDuration){for(var T=_[0],x=w.length-1;x>=0&&b.timestamp-w[x].timestamp<=this.swipeDuration;x--)T=w[x];var P=(o=b.timestamp-T.timestamp,"number"!=typeof(a=Ba(T.point,b.point))||0===a||"number"!=typeof o||0===o?0:a/o);if(P>this.swipeVelocity){var S=Fa(T.point,b.point);n.direction=Ua(T.point,b.point),n.angle=S,n.velocity=P,n.swipeComputed=function(t,e){void 0===e&&(e=P);var n=0,r=0,i=0;t>1?(r=e/(n=t),i=e*n/2):t>0&&(n=e/(r=t),i=e*e/(2*r));var o=function(t,e){if("number"!=typeof t||"number"!=typeof e)return[0,0];var n=e*Math.PI/180;return[t*Math.cos(n),t*Math.sin(n)]}(i,S);return{duration:n,stretchX:o[0],stretchY:o[1],deceleration:r}},this.emit("swipe",n),this._swipePoints=null}}}}this.emit("pointerEnd",n)}function Ya(t){this.emit("pointerCancel",{sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]}}),qa.call(this,t)}function Ga(t){var e=this;function n(){"undefined"!=typeof window&&(window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",a),window.removeEventListener("blur",r),window.removeEventListener("dragstart",i),"onselectstart"in window.document.documentElement&&window.removeEventListener("selectstart",i))}function r(t){t.preventDefault(),t.stopPropagation(),n()}function i(t){t.preventDefault(),t.stopPropagation()}function o(n){if(0===t.button)Xa.call(e,n);else{var r={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]}},i=[n.pageX,n.pageY];if(e._pointer0){e._pointer0.previous=e._pointer0.current,e._pointer0.current=i,r.pointers=[e._pointer0];var o=e._pointer0,a=o.start,s=o.previous,u=o.current;r.getPoint=function(t){return"start"===t?a:"previous"===t?s:u},r.direction=Ua(s,u),r.moveDirection=Ua(a,u),r.deltaX=u[0]-s[0],r.moveX=u[0]-a[0],r.deltaY=u[1]-s[1],r.moveY=u[1]-a[1],r.angle=r.deltaX/4,r.moveAngle=r.moveX/4,e.emit("rotate",r)}}}function a(r){if(n(),0===t.button)qa.call(e,r);else{var i={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]}},o=[r.pageX,r.pageY];if(e._pointer0){var a=e._pointer0;e._pointer0=null,a.previous=a.current,a.current=o,i.leavePointers=[a];var s=a.start,u=a.previous,l=a.current;i.getPoint=function(t){return"start"===t?s:"previous"===t?u:l}}i.angle=NaN,e.emit("rotate",i)}}if("undefined"!=typeof window&&(window.addEventListener("mousemove",o),window.addEventListener("mouseup",a),window.addEventListener("blur",r),window.addEventListener("dragstart",i,{capture:!0,passive:!1}),"onselectstart"in window.document.documentElement&&window.addEventListener("selectstart",i,{capture:!0,passive:!1})),0===t.button)Na.call(e,t);else{e._wheelTimerEnd&&(clearTimeout(e._wheelTimerEnd.timer),e._wheelTimerEnd.wheelEnd(),e._wheelTimerEnd=null);var s=[t.pageX,t.pageY];e._pointer0={start:s,previous:s,current:s,identifier:-1,changed:!0}}}function Va(t){var e=this,n={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]}},r=[t.pageX,t.pageY];this._wheelTimerEnd?(this._pointer0&&(this._pointer0.previous=this._pointer0.current,this._pointer0.current=r),clearTimeout(this._wheelTimerEnd.timer)):this._pointer0={start:r,previous:r,current:r,identifier:-1,changed:!0};var i=function(){e._pointer0=null,e._wheelTimerEnd=null,n.timestamp=Date.now(),n.scale=NaN,e.emit("scale",n)};if(this._wheelTimerEnd={wheelEnd:i,timer:+setTimeout(i,this.wheelDelay),scale:this._wheelTimerEnd?this._wheelTimerEnd.scale:1},this._pointer0){n.pointers=[this._pointer0];var o=this._pointer0,a=o.start,s=o.previous,u=o.current;n.getPoint=function(t){return"start"===t?a:"previous"===t?s:u};var l=Math.pow(2,-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002));this._wheelTimerEnd.scale*=l,n.moveScale=this._wheelTimerEnd.scale,n.scale=l,this.emit("scale",n)}}var Wa=function(t){function e(e,n){var r;(r=t.call(this,n)||this).element=null,r._unbind=null;var i=Mi(e);if(!i)throw Error("Please pass in a valid element...");if(r.element=i,ja()){var o=Na.bind(Dr(r)),a=Xa.bind(Dr(r)),s=qa.bind(Dr(r)),u=Ya.bind(Dr(r));i.addEventListener("touchstart",o,!1),i.addEventListener("touchmove",a,!1),i.addEventListener("touchend",s,!1),i.addEventListener("touchcancel",u,!1),r._unbind=function(){i.removeEventListener("touchstart",o),i.removeEventListener("touchmove",a),i.removeEventListener("touchend",s),i.removeEventListener("touchcancel",u)}}else{var l=Ga.bind(Dr(r)),c=Va.bind(Dr(r));i.addEventListener("mousedown",l,!1),i.addEventListener("wheel",c,!1),r._unbind=function(){i.removeEventListener("mousedown",l),i.removeEventListener("wheel",c)}}return r}return pi(e,t),e.prototype.destory=function(){t.prototype.off.call(this),this._unbind&&(this._unbind(),this._unbind=null,this.element=null)},e}(Ha),$a=o,Ja=_n,Za=Bn.indexOf,Qa=function(t,e){var n=[][t];return!!n&&$a((function(){n.call(null,e||function(){return 1},1)}))},Ka=T([].indexOf),ts=!!Ka&&0>1/Ka([1],1,-0);Ja({target:"Array",proto:!0,forced:ts||!Qa("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return ts?Ka(this,t,e)||0:Za(this,t,e)}});var es=Tr("Array").indexOf,ns=ot,rs=es,is=Array.prototype,os=n((function(t){var e=t.indexOf;return t===is||ns(is,t)&&e===is.indexOf?rs:e}));function as(t,e){if(null==t)return{};var n,r,i={},o=wi(t);for(r=0;o.length>r;r++)n=o[r],0>os(e).call(e,n)&&(i[n]=t[n]);return i}var ss=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),us=Vt,ls=E,cs=qt,fs=ss,hs=zr("IE_PROTO"),ps=Object,vs=ps.prototype,ds=fs?ps.getPrototypeOf:function(t){var e=cs(t);if(us(e,hs))return e[hs];var n=e.constructor;return ls(n)&&e instanceof n?n.prototype:e instanceof ps?vs:null},ms={},gs=qn,ys=Yn.concat("length","prototype");ms.f=Object.getOwnPropertyNames||function(t){return gs(t,ys)};var ws=it,_s=ms,bs=$n,Ts=$e,xs=d([].concat),Ps=ws("Reflect","ownKeys")||function(t){var e=_s.f(Ts(t)),n=bs.f;return n?xs(e,n(t)):e},Ss=Vt,Es=Ps,Cs=C,Ms=qe,Ds=Q,Os=un,ks=Error,As=d("".replace),Is=ks("zxcasd").stack+"",Ls=/\n\s*at [^:]*:[^\n]*/,js=Ls.test(Is),Rs=B,Bs=!o((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Rs(1,7)),7!==t.stack)})),Fs=un,zs=function(t,e){if(js&&"string"==typeof t&&!ks.prepareStackTrace)for(;e--;)t=As(t,Ls,"");return t},Us=Bs,Hs=Error.captureStackTrace,Ns={},Xs=Ns,qs=ae("iterator"),Ys=Array.prototype,Gs=function(t){return void 0!==t&&(Xs.Array===t||Ys[qs]===t)},Vs=Gi,Ws=Ot,$s=X,Js=Ns,Zs=ae("iterator"),Qs=function(t){if(!$s(t))return Ws(t,Zs)||Ws(t,"@@iterator")||Js[Vs(t)]},Ks=O,tu=Ct,eu=$e,nu=xt,ru=Qs,iu=TypeError,ou=function(t,e){var n=2>arguments.length?ru(t):e;if(tu(n))return eu(Ks(n,t));throw iu(nu(t)+" is not iterable")},au=O,su=$e,uu=Ot,lu=function(t,e,n){var r,i;su(t);try{if(!(r=uu(t,"return"))){if("throw"===e)throw n;return n}r=au(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return su(r),n},cu=Xe,fu=O,hu=$e,pu=xt,vu=Gs,du=An,mu=ot,gu=ou,yu=Qs,wu=lu,_u=TypeError,bu=function(t,e){this.stopped=t,this.result=e},Tu=bu.prototype,xu=function(t,e,n){var r,i,o,a,s,u,l,c=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_RECORD),h=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=cu(e,n&&n.that),d=function(t){return r&&wu(r,"normal",t),new bu(!0,t)},m=function(t){return c?(hu(t),p?v(t[0],t[1],d):v(t[0],t[1])):p?v(t,d):v(t)};if(f)r=t.iterator;else if(h)r=t;else{if(!(i=yu(t)))throw _u(pu(t)+" is not iterable");if(vu(i)){for(o=0,a=du(t);a>o;o++)if((s=m(t[o]))&&mu(Tu,s))return s;return new bu(!1)}r=gu(t,i)}for(u=f?t.next:r.next;!(l=fu(u,r)).done;){try{s=m(l.value)}catch(t){wu(r,"throw",t)}if("object"==typeof s&&s&&mu(Tu,s))return s}return new bu(!1)},Pu=Gi,Su=String,Eu=function(t){if("Symbol"===Pu(t))throw TypeError("Cannot convert a Symbol value to a string");return Su(t)},Cu=Eu,Mu=_n,Du=ot,Ou=ds,ku=ci,Au=function(t,e,n){for(var r=Es(e),i=Ms.f,o=Cs.f,a=0;r.length>a;a++){var s=r[a];Ss(t,s)||n&&Ss(n,s)||i(t,s,o(e,s))}},Iu=Kr,Lu=un,ju=B,Ru=function(t,e){Ds(e)&&"cause"in e&&Os(t,"cause",e.cause)},Bu=function(t,e,n,r){Us&&(Hs?Hs(t,e):Fs(t,"stack",zs(n,r)))},Fu=xu,zu=function(t,e){return void 0===t?2>arguments.length?"":e:Cu(t)},Uu=ae("toStringTag"),Hu=Error,Nu=[].push,Xu=function(t,e){var n,r=Du(qu,this);ku?n=ku(Hu(),r?Ou(this):qu):(n=r?this:Iu(qu),Lu(n,Uu,"Error")),void 0!==e&&Lu(n,"message",zu(e)),Bu(n,Xu,n.stack,1),arguments.length>2&&Ru(n,arguments[2]);var i=[];return Fu(t,Nu,{that:i}),Lu(n,"errors",i),n};ku?ku(Xu,Hu):Au(Xu,Hu,{name:!0});var qu=Xu.prototype=Iu(Hu.prototype,{constructor:ju(1,Xu),message:ju(1,""),name:ju(1,"AggregateError")});Mu({global:!0,constructor:!0,arity:2},{AggregateError:Xu});var Yu,Gu,Vu,Wu=i.WeakMap,$u=E(Wu)&&/native code/.test(Wu+""),Ju=Q,Zu=un,Qu=Vt,Ku=zr,tl=Fn,el="Object already initialized",nl=i.TypeError;if($u||zt.state){var rl=zt.state||(zt.state=new(0,i.WeakMap));rl.get=rl.get,rl.has=rl.has,rl.set=rl.set,Yu=function(t,e){if(rl.has(t))throw nl(el);return e.facade=t,rl.set(t,e),e},Gu=function(t){return rl.get(t)||{}},Vu=function(t){return rl.has(t)}}else{var il=Ku("state");tl[il]=!0,Yu=function(t,e){if(Qu(t,il))throw nl(el);return e.facade=t,Zu(t,il,e),e},Gu=function(t){return Qu(t,il)?t[il]:{}},Vu=function(t){return Qu(t,il)}}var ol,al,sl,ul={set:Yu,get:Gu,has:Vu,enforce:function(t){return Vu(t)?Gu(t):Yu(t,{})},getterFor:function(t){return function(e){var n;if(!Ju(e)||(n=Gu(e)).type!==t)throw nl("Incompatible receiver, "+t+" required");return n}}},ll=M,cl=Function.prototype,fl=ll&&Object.getOwnPropertyDescriptor,hl=Vt(cl,"name"),pl={EXISTS:hl,PROPER:hl&&!1,CONFIGURABLE:hl&&(!ll||ll&&fl(cl,"name").configurable)},vl=un,dl=function(t,e,n,r){return r&&r.enumerable?t[e]=n:vl(t,e,n),t},ml=o,gl=E,yl=Q,wl=Kr,_l=ds,bl=dl,Tl=ae("iterator"),xl=!1;[].keys&&("next"in(sl=[].keys())?(al=_l(_l(sl)))!==Object.prototype&&(ol=al):xl=!0);var Pl=!yl(ol)||ml((function(){var t={};return ol[Tl].call(t)!==t}));gl((ol=Pl?{}:wl(ol))[Tl])||bl(ol,Tl,(function(){return this}));var Sl={IteratorPrototype:ol,BUGGY_SAFARI_ITERATORS:xl},El=Gi,Cl=zi,Ml=qe.f,Dl=un,Ol=Vt,kl=zi?{}.toString:function(){return"[object "+El(this)+"]"},Al=ae("toStringTag"),Il=function(t,e,n,r){if(t){var i=n?t:t.prototype;Ol(i,Al)||Ml(i,Al,{configurable:!0,value:e}),r&&!Cl&&Dl(i,"toString",kl)}},Ll=Sl.IteratorPrototype,jl=Kr,Rl=B,Bl=Il,Fl=Ns,zl=function(){return this},Ul=function(t,e,n,r){var i=e+" Iterator";return t.prototype=jl(Ll,{next:Rl(+!r,n)}),Bl(t,i,!1,!0),Fl[i]=zl,t},Hl=_n,Nl=O,Xl=pl,ql=Ul,Yl=ds,Gl=Il,Vl=dl,Wl=Ns,$l=Sl,Jl=Xl.PROPER,Zl=$l.BUGGY_SAFARI_ITERATORS,Ql=ae("iterator"),Kl="keys",tc="values",ec="entries",nc=function(){return this},rc=function(t,e,n,r,i,o,a){ql(n,e,r);var s,u,l,c=function(t){if(t===i&&d)return d;if(!Zl&&t in p)return p[t];switch(t){case Kl:case tc:case ec:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,p=t.prototype,v=p[Ql]||p["@@iterator"]||i&&p[i],d=!Zl&&v||c(i),m="Array"==e&&p.entries||v;if(m&&(s=Yl(m.call(new t)))!==Object.prototype&&s.next&&(Gl(s,f,!0,!0),Wl[f]=nc),Jl&&i==tc&&v&&v.name!==tc&&(h=!0,d=function(){return Nl(v,this)}),i)if(u={values:c(tc),keys:o?d:c(Kl),entries:c(ec)},a)for(l in u)(Zl||h||!(l in p))&&Vl(p,l,u[l]);else Hl({target:e,proto:!0,forced:Zl||h},u);return a&&p[Ql]!==d&&Vl(p,Ql,d,{name:i}),Wl[e]=d,u},ic=function(t,e){return{value:t,done:e}},oc=$,ac=Ns,sc=rc,uc=ic,lc="Array Iterator",cc=ul.set,fc=ul.getterFor(lc);sc(Array,"Array",(function(t,e){cc(this,{type:lc,target:oc(t),index:0,kind:e})}),(function(){var t=fc(this),e=t.target,n=t.kind,r=t.index++;return e&&e.length>r?uc("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1):(t.target=void 0,uc(void 0,!0))}),"values"),ac.Arguments=ac.Array;var hc,pc,vc,dc,mc="undefined"!=typeof process&&"process"==w(process),gc=qe,yc=function(t,e,n){return gc.f(t,e,n)},wc=it,_c=yc,bc=M,Tc=ae("species"),xc=ot,Pc=TypeError,Sc=function(t,e){if(xc(e,t))return t;throw Pc("Incorrect invocation")},Ec=co,Cc=xt,Mc=TypeError,Dc=$e,Oc=function(t){if(Ec(t))return t;throw Mc(Cc(t)+" is not a constructor")},kc=X,Ac=ae("species"),Ic=function(t,e){var n,r=Dc(t).constructor;return void 0===r||kc(n=Dc(r)[Ac])?e:Oc(n)},Lc=TypeError,jc=function(t,e){if(e>t)throw Lc("Not enough arguments");return t},Rc=/(?:ipad|iphone|ipod).*applewebkit/i.test(at),Bc=i,Fc=c,zc=Xe,Uc=E,Hc=Vt,Nc=o,Xc=Rr,qc=lr,Yc=_e,Gc=jc,Vc=Rc,Wc=mc,$c=Bc.setImmediate,Jc=Bc.clearImmediate,Zc=Bc.process,Qc=Bc.Dispatch,Kc=Bc.Function,tf=Bc.MessageChannel,ef=Bc.String,nf=0,rf={},of="onreadystatechange";Nc((function(){hc=Bc.location}));var af=function(t){if(Hc(rf,t)){var e=rf[t];delete rf[t],e()}},sf=function(t){return function(){af(t)}},uf=function(t){af(t.data)},lf=function(t){Bc.postMessage(ef(t),hc.protocol+"//"+hc.host)};$c&&Jc||($c=function(t){Gc(arguments.length,1);var e=Uc(t)?t:Kc(t),n=qc(arguments,1);return rf[++nf]=function(){Fc(e,void 0,n)},pc(nf),nf},Jc=function(t){delete rf[t]},Wc?pc=function(t){Zc.nextTick(sf(t))}:Qc&&Qc.now?pc=function(t){Qc.now(sf(t))}:tf&&!Vc?(dc=(vc=new tf).port2,vc.port1.onmessage=uf,pc=zc(dc.postMessage,dc)):Bc.addEventListener&&Uc(Bc.postMessage)&&!Bc.importScripts&&hc&&"file:"!==hc.protocol&&!Nc(lf)?(pc=lf,Bc.addEventListener("message",uf,!1)):pc=of in Yc("script")?function(t){Xc.appendChild(Yc("script"))[of]=function(){Xc.removeChild(this),af(t)}}:function(t){setTimeout(sf(t),0)});var cf={set:$c,clear:Jc},ff=function(){this.head=null,this.tail=null};ff.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var hf,pf,vf,df,mf,gf=ff,yf=/ipad|iphone|ipod/i.test(at)&&"undefined"!=typeof Pebble,wf=i,_f=Xe,bf=cf.set,Tf=gf,xf=Rc,Pf=yf,Sf=/web0s(?!.*chrome)/i.test(at),Ef=mc,Cf=wf.MutationObserver||wf.WebKitMutationObserver,Mf=wf.document,Df=wf.process,Of=wf.Promise,kf=(0,C.f)(wf,"queueMicrotask"),Af=kf&&kf.value;if(!Af){var If=new Tf,Lf=function(){var t,e;for(Ef&&(t=Df.domain)&&t.exit();e=If.get();)try{e()}catch(t){throw If.head&&hf(),t}t&&t.enter()};xf||Ef||Sf||!Cf||!Mf?!Pf&&Of&&Of.resolve?((df=Of.resolve(void 0)).constructor=Of,mf=_f(df.then,df),hf=function(){mf(Lf)}):Ef?hf=function(){Df.nextTick(Lf)}:(bf=_f(bf,wf),hf=function(){bf(Lf)}):(pf=!0,vf=Mf.createTextNode(""),new Cf(Lf).observe(vf,{characterData:!0}),hf=function(){vf.data=pf=!pf}),Af=function(t){If.head||hf(),If.add(t)}}var jf=Af,Rf=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Bf=i.Promise,Ff="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,zf=!Ff&&!mc&&"object"==typeof window&&"object"==typeof document,Uf=i,Hf=Bf,Nf=E,Xf=ze,qf=Ji,Yf=zf,Gf=Ff,Vf=ht,Wf=Hf&&Hf.prototype,$f=ae("species"),Jf=!1,Zf=Nf(Uf.PromiseRejectionEvent),Qf=Xf("Promise",(function(){var t=qf(Hf),e=t!==Hf+"";if(!e&&66===Vf)return!0;if(!Wf.catch||!Wf.finally)return!0;if(!Vf||51>Vf||!/native code/.test(t)){var n=new Hf((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[$f]=r,!(Jf=n.then((function(){}))instanceof r))return!0}return!e&&(Yf||Gf)&&!Zf})),Kf={CONSTRUCTOR:Qf,REJECTION_EVENT:Zf,SUBCLASSING:Jf},th={},eh=Ct,nh=TypeError,rh=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw nh("Bad Promise constructor");e=t,n=r})),this.resolve=eh(e),this.reject=eh(n)};th.f=function(t){return new rh(t)};var ih,oh,ah=_n,sh=mc,uh=i,lh=O,ch=dl,fh=Il,hh=function(t){var e=wc(t);bc&&e&&!e[Tc]&&_c(e,Tc,{configurable:!0,get:function(){return this}})},ph=Ct,vh=E,dh=Q,mh=Sc,gh=Ic,yh=cf.set,wh=jf,_h=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}},bh=Rf,Th=gf,xh=ul,Ph=Bf,Sh=Kf,Eh=th,Ch="Promise",Mh=Sh.CONSTRUCTOR,Dh=Sh.REJECTION_EVENT,Oh=xh.getterFor(Ch),kh=xh.set,Ah=Ph,Ih=Ph&&Ph.prototype,Lh=uh.TypeError,jh=uh.document,Rh=uh.process,Bh=Eh.f,Fh=Bh,zh=!!(jh&&jh.createEvent&&uh.dispatchEvent),Uh="unhandledrejection",Hh=function(t){var e;return!(!dh(t)||!vh(e=t.then))&&e},Nh=function(t,e){var n,r,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(a||(2===e.rejection&&Vh(e),e.rejection=1),!0===s?n=o:(c&&c.enter(),n=s(o),c&&(c.exit(),i=!0)),n===t.promise?l(Lh("Promise-chain cycle")):(r=Hh(n))?lh(r,n,u,l):u(n)):l(o)}catch(t){c&&!i&&c.exit(),l(t)}},Xh=function(t,e){t.notified||(t.notified=!0,wh((function(){for(var n,r=t.reactions;n=r.get();)Nh(n,t);t.notified=!1,e&&!t.rejection&&Yh(t)})))},qh=function(t,e,n){var r,i;zh?((r=jh.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),uh.dispatchEvent(r)):r={promise:e,reason:n},!Dh&&(i=uh["on"+t])?i(r):t===Uh&&_h("Unhandled promise rejection",n)},Yh=function(t){lh(yh,uh,(function(){var e,n=t.facade,r=t.value;if(Gh(t)&&(e=bh((function(){sh?Rh.emit("unhandledRejection",r,n):qh(Uh,n,r)})),t.rejection=sh||Gh(t)?2:1,e.error))throw e.value}))},Gh=function(t){return 1!==t.rejection&&!t.parent},Vh=function(t){lh(yh,uh,(function(){var e=t.facade;sh?Rh.emit("rejectionHandled",e):qh("rejectionhandled",e,t.value)}))},Wh=function(t,e,n){return function(r){t(e,r,n)}},$h=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Xh(t,!0))},Jh=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Lh("Promise can't be resolved itself");var r=Hh(e);r?wh((function(){var n={done:!1};try{lh(r,e,Wh(Jh,n,t),Wh($h,n,t))}catch(e){$h(n,e,t)}})):(t.value=e,t.state=1,Xh(t,!1))}catch(e){$h({done:!1},e,t)}}};Mh&&(Ah=function(t){mh(this,Ih),ph(t),lh(ih,this);var e=Oh(this);try{t(Wh(Jh,e),Wh($h,e))}catch(t){$h(e,t)}},(ih=function(t){kh(this,{type:Ch,done:!1,notified:!1,parent:!1,reactions:new Th,rejection:!1,state:0,value:void 0})}).prototype=ch(Ih=Ah.prototype,"then",(function(t,e){var n=Oh(this),r=Bh(gh(this,Ah));return n.parent=!0,r.ok=!vh(t)||t,r.fail=vh(e)&&e,r.domain=sh?Rh.domain:void 0,0==n.state?n.reactions.add(r):wh((function(){Nh(r,n)})),r.promise})),oh=function(){var t=new ih,e=Oh(t);this.promise=t,this.resolve=Wh(Jh,e),this.reject=Wh($h,e)},Eh.f=Bh=function(t){return t===Ah||undefined===t?new oh(t):Fh(t)}),ah({global:!0,constructor:!0,wrap:!0,forced:Mh},{Promise:Ah}),fh(Ah,Ch,!1,!0),hh(Ch);var Zh=ae("iterator"),Qh=!1;try{var Kh=0,tp={next:function(){return{done:!!Kh++}},return:function(){Qh=!0}};tp[Zh]=function(){return this},Array.from(tp,(function(){throw 2}))}catch(t){}var ep=Bf,np=function(t,e){if(!e&&!Qh)return!1;var n=!1;try{var r={};r[Zh]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},rp=Kf.CONSTRUCTOR||!np((function(t){ep.all(t).then(void 0,(function(){}))})),ip=O,op=Ct,ap=th,sp=Rf,up=xu;_n({target:"Promise",stat:!0,forced:rp},{all:function(t){var e=this,n=ap.f(e),r=n.resolve,i=n.reject,o=sp((function(){var n=op(e.resolve),o=[],a=0,s=1;up(t,(function(t){var u=a++,l=!1;s++,ip(n,e,t).then((function(t){l||(l=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise}});_n({target:"Promise",proto:!0,forced:Kf.CONSTRUCTOR,real:!0},{catch:function(t){return this.then(void 0,t)}});var lp=O,cp=Ct,fp=th,hp=Rf,pp=xu;_n({target:"Promise",stat:!0,forced:rp},{race:function(t){var e=this,n=fp.f(e),r=n.reject,i=hp((function(){var i=cp(e.resolve);pp(t,(function(t){lp(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var vp=O,dp=th;_n({target:"Promise",stat:!0,forced:Kf.CONSTRUCTOR},{reject:function(t){var e=dp.f(this);return vp(e.reject,void 0,t),e.promise}});var mp=$e,gp=Q,yp=th,wp=function(t,e){if(mp(t),gp(e)&&e.constructor===t)return e;var n=yp.f(t);return(0,n.resolve)(e),n.promise},_p=_n,bp=Bf,Tp=Kf.CONSTRUCTOR,xp=wp,Pp=it("Promise"),Sp=!Tp;_p({target:"Promise",stat:!0,forced:true},{resolve:function(t){return xp(Sp&&this===Pp?bp:this,t)}});var Ep=O,Cp=Ct,Mp=th,Dp=Rf,Op=xu;_n({target:"Promise",stat:!0,forced:rp},{allSettled:function(t){var e=this,n=Mp.f(e),r=n.resolve,i=n.reject,o=Dp((function(){var n=Cp(e.resolve),i=[],o=0,a=1;Op(t,(function(t){var s=o++,u=!1;a++,Ep(n,e,t).then((function(t){u||(u=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){u||(u=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var kp=O,Ap=Ct,Ip=it,Lp=th,jp=Rf,Rp=xu,Bp="No one promise resolved";_n({target:"Promise",stat:!0,forced:rp},{any:function(t){var e=this,n=Ip("AggregateError"),r=Lp.f(e),i=r.resolve,o=r.reject,a=jp((function(){var r=Ap(e.resolve),a=[],s=0,u=1,l=!1;Rp(t,(function(t){var c=s++,f=!1;u++,kp(r,e,t).then((function(t){f||l||(l=!0,i(t))}),(function(t){f||l||(f=!0,a[c]=t,--u||o(new n(a,Bp)))}))})),--u||o(new n(a,Bp))}));return a.error&&o(a.value),r.promise}});var Fp=it,zp=E,Up=Ic,Hp=wp,Np=Bf&&Bf.prototype;_n({target:"Promise",proto:!0,real:!0,forced:!!Bf&&o((function(){Np.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=Up(this,Fp("Promise")),n=zp(t);return this.then(n?function(n){return Hp(e,t()).then((function(){return n}))}:t,n?function(n){return Hp(e,t()).then((function(){throw n}))}:t)}});var Xp=d,qp=Pn,Yp=Eu,Gp=G,Vp=Xp("".charAt),Wp=Xp("".charCodeAt),$p=Xp("".slice),Jp=function(t){return function(e,n){var r,i,o=Yp(Gp(e)),a=qp(n),s=o.length;return 0>a||a>=s?t?"":void 0:55296>(r=Wp(o,a))||r>56319||a+1===s||56320>(i=Wp(o,a+1))||i>57343?t?Vp(o,a):r:t?$p(o,a,a+2):i-56320+(r-55296<<10)+65536}},Zp={codeAt:Jp(!1),charAt:Jp(!0)},Qp=Zp.charAt,Kp=Eu,tv=rc,ev=ic,nv="String Iterator",rv=ul.set,iv=ul.getterFor(nv);tv(String,"String",(function(t){rv(this,{type:nv,string:Kp(t),index:0})}),(function(){var t,e=iv(this),n=e.string,r=e.index;return n.length>r?(t=Qp(n,r),e.index+=t.length,ev(t,!1)):ev(void 0,!0)}));var ov=K.Promise,av={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},sv=i,uv=Gi,lv=un,cv=Ns,fv=ae("toStringTag");for(var hv in av){var pv=sv[hv],vv=pv&&pv.prototype;vv&&uv(vv)!==fv&&lv(vv,fv,hv),cv[hv]=cv.Array}var dv=ov,mv=th;_n({target:"Promise",stat:!0},{withResolvers:function(){var t=mv.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var gv=dv,yv=th,wv=Rf;_n({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=yv.f(this),n=wv(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}});var _v=n(gv),bv=_n,Tv=ea.findIndex,xv="findIndex",Pv=!0;xv in[]&&[,][xv]((function(){Pv=!1})),bv({target:"Array",proto:!0,forced:Pv},{findIndex:function(t){return Tv(this,t,arguments.length>1?arguments[1]:void 0)}});var Sv,Ev=Tr("Array").findIndex,Cv=ot,Mv=Ev,Dv=Array.prototype,Ov=n((function(t){var e=t.findIndex;return t===Dv||Cv(Dv,t)&&e===Dv.findIndex?Mv:e})),kv="undefined"==typeof window?global:window,Av=["moz","webkit"],Iv=kv.requestAnimationFrame,Lv=kv.cancelAnimationFrame||kv.cancelRequestAnimationFrame;if(!Iv||!Lv)for(var jv=0;2>jv;jv++)Iv=kv[Av[jv]+"RequestAnimationFrame"],Lv=kv[Av[jv]+"CancelAnimationFrame"]||kv[Av[jv]+"CancelRequestAnimationFrame"];Iv&&Lv||(Sv=0,Iv=function(t){var e=Date.now(),n=Math.max(0,16-(e-Sv));return Sv=e+n,window.setTimeout(t,n)},Lv=function(t){return window.clearTimeout(t)});var Rv=Iv,Bv=Lv,Fv=function(t,e){return e>0?+setTimeout(t,e):(t(Math.abs(e)),0)},zv=function(){function t(t){var e=void 0===t?{}:t,n=e.duration,r=e.easing,i=e.delay;this._delay=0,this._frameId=0,this._elapsed=0,this._sleepId=0,this._delayId=0,this._tick=null,this._delayFn=null,this.duration="number"==typeof n&&n>0?n:0,this.easing="function"!=typeof r?function(t){return t}:r,this.delay="number"!=typeof i?0:i}var e=t.prototype;return e.start=function(t){var e=this;if(!this._tick&&!this._delayFn){var n=this.duration,r=this.easing,i=this.delay;this._delayFn=function(i){if(e._delayId=0,e._delayFn=null,e._delay=0,n>0){var o=function i(o){var a=Date.now();e._elapsed+=a-o,n>e._elapsed?(e._frameId=Rv((function(){return i(a)})),t(r(e._elapsed/n))):(e._tick=null,e._frameId=0,e._elapsed=0,t(1))};e._tick=o,e._elapsed=i||0,o(Date.now())}else t(1)},this._delay=Date.now(),this._delayId=Fv(this._delayFn,i)}},e.restart=function(){if((this._tick||this._delayFn)&&(this.stop(),this._tick&&this._tick(Date.now()),this._delayFn)){var t=this.delay+this._delay;this._delay+=Date.now(),this._delayId=Fv(this._delayFn,t)}},e.sleep=function(t){var e=this;t&&t>0&&(this._tick||this._delayFn)&&(this.stop(),this._sleepId=+setTimeout((function(){e._sleepId=0,e.restart()}),t))},e.stop=function(){(this._tick||this._delayFn)&&(this._delayId&&(clearTimeout(this._delayId),this._delayId=0,this._delay-=Date.now()),this._frameId&&(Bv(this._frameId),this._frameId=0),this._sleepId&&(clearTimeout(this._sleepId),this._sleepId=0))},e.end=function(){(this._tick||this._delayFn)&&(this.stop(),this._tick&&this._tick(Date.now()+this._elapsed-this.duration),this._delayFn&&this._delayFn(this.duration))},t}(),Uv=function(){function t(t,e,n){var r=this.value="number"==typeof t?{default:t}:t;if("number"==typeof e){var i={};_i(r).forEach((function(t){i[t]=e||0})),this.precision=i}else e&&(this.precision=e);"function"==typeof n&&(this.transform=n)}return t.prototype.toRaw=function(){var t={value:this.value};return this.precision&&(t.precision=this.precision),this.transform&&(t.transform=this.transform),t},t}(),Hv=["value","precision"];var Nv=["value"],Xv=["before","after","cancel"],qv=function(){function t(t){var e=void 0===t?{}:t,n=e.cssProperties,r=e.apply;this.cssProperties={},this._cssProperties=null,this._animations=[],this._apply=r||function(){},n&&this.apply(n)}var e=t.prototype;return e.update=function(){!this.running()&&this._cssProperties&&(this.cssProperties=this._cssProperties,this._cssProperties=null);var t=this.cssProperties,e={};_i(t).forEach((function(n){var r=t[n],i=r.value,o=r.transform;e[n.replace(/([A-Z])/g,"-$1").toLocaleLowerCase()]=o(i)})),this._apply(e)},e.value=function(){var t=this._cssProperties||this.cssProperties,e={};return _i(t).forEach((function(n){e[n]=t[n].value})),e},e.apply=function(t,e){var n=this;this._cssProperties||(this._cssProperties=this.cssProperties);var r,i,o,a=function(t,e){var n=Mr({},t);if(e instanceof Uv){var r=_i(t)[0];if(r){var i=t[r],o=e.toRaw();n[r]=Mr({},i,o,{value:Mr({},i.value,o.value)})}}else _i(e).forEach((function(r){var i=t[r],o=e[r].toRaw();n[r]=i?Mr({},i,o,{value:Mr({},i.value,o.value)}):Mr({transform:function(t){var e;return sa(e=_i(t)).call(e,(function(e){return t[e]})).join(" ")},precision:{}},o)}));return n}(this._cssProperties,t),s=(i=a,o={},_i(r=this._cssProperties).forEach((function(t){var e=r[t].value,n=i[t],a=n.value,s=n.precision,u=as(n,Hv),l=null;_i(e).forEach((function(t){var n=a[t]-e[t];Math.abs(n)>(s[t]||0)&&(l||(l={}),l[t]=n)})),l&&(o[t]=Mr({value:l,precision:s},u))})),o);this._cssProperties=a;var u=_i(s),l={};u.forEach((function(t){var e=s[t],r=e.value,i=as(e,Nv);l[t]=Mr({value:Mr({},r)},i),n.cssProperties[t]=Mr({},n.cssProperties[t],i)}));var c=e&&0!==u.length?e:{};return new _v((function(t){var e=c.before,r=void 0===e?function(){}:e,i=c.after,o=void 0===i?function(){}:i,a=c.cancel,f=void 0===a||a,h=as(c,Xv),p=new zv(h);n._animations.push({animation:p,cancel:f,remain:l}),p.start((function(e){var i=r(e,n.value());if(!1!==i){var a=e;"number"==typeof i&&(a=i),u.forEach((function(t){var e=n.cssProperties[t].value,r=s[t].value,i=l[t].value;_i(r).forEach((function(t){var n=r[t]*(1-a);e[t]+=i[t]-n,i[t]=n}))})),n.update()}if(o(e,n.value()),1===e){var c,f,h=Ov(c=n._animations).call(c,(function(t){return p===t.animation}));if(-1!==h)Go(f=n._animations).call(f,h,1);n.update(),t(n.value())}}))}))},e.cancel=function(t){var e,n=this;void 0===t&&(t=!1);var r=0;return this._animations=pa(e=this._animations).call(e,(function(e){var i=e.remain;if(e.cancel){e.animation[t?"end":"stop"](),r+=1;var o=n._cssProperties;return o&&_i(i).forEach((function(t){if(o[t]){var e=i[t].value,n=o[t].value;_i(e).forEach((function(t){n[t]-=e[t]}))}})),!1}return!0})),this.update(),r},e.running=function(){return 0!==this._animations.length},t}(),Yv=function(t){function e(e,n){return t.call(this,Mr({apply:function(t){return Pi(Mi(e),t)}},n||{}))||this}return pi(e,t),e}(qv),Gv=function(t){return 1-(1-t)*(1-t)},Vv={cancel:!0,duration:500,easing:function(t){return 1-(1-t)*(1-t)*(1-t)*(1-t)}},Wv=["direction","itemModels","itemSize","enableSwipeClose","transitionEl"],$v=["before","after"],Jv=function(t){function e(e){var n,r=void 0===e?{}:e,i=r.direction,o=r.itemModels,a=r.itemSize,s=r.enableSwipeClose,u=r.transitionEl,l=as(r,Wv);return(n=t.call(this,u||null,l)||this)._direction="horizontal",n._itemModels=[],n._itemSize=0,n._activeIndex=-1,n._enableSwipeClose=!0,n._fgBehavior=0,n._moveTarget="none",n.apply({transform:new Uv(0,1,(function(t){return"translateX("+t.default+"px)"}))}),n.swipeClose(s),n.direction(i),n.itemSize(a),n.itemModels(o),n}pi(e,t);var n=e.prototype;return n.activeIndex=function(){return this._activeIndex},n.isHorizontal=function(){return"horizontal"===this._direction},n.isVertical=function(){return"vertical"===this._direction},n.swipeClose=function(t){return void 0!==t&&(this._enableSwipeClose=t),this._enableSwipeClose},n.direction=function(t){if(t){this._direction=t;var e="vertical"===t?"Y":"X";this.apply(new Uv(0,1,(function(t){return"translate"+e+"("+t.default+"px)"})))}return this._direction},n.itemSize=function(t){return void 0!==t&&(this._itemSize=t,this.apply(new Uv(-this.activeIndex()*t))),this._itemSize},n.itemModels=function(t,e){return void 0===t?this._itemModels:"number"==typeof t?this._itemModels[t]:Array.isArray(t)?(this._itemModels=t,t):(this._itemModels[e||0]=t,t)},n.currentItem=function(){return this.itemModels(this.activeIndex())},n.countItems=function(){return this.itemModels().length},n.slide=function(t,e){void 0===e&&(e={});var n=e.before,r=e.after,i=as(e,$v),o=Math.max(Math.min(t,this.countItems()-1),0),a=this.activeIndex()!==o;a&&(this._activeIndex=o,null==n||n(o));var s=-o*this.itemSize();return this.apply(new Uv(s),Mr({},Vv,i)).then((function(){return a&&(null==r||r(o)),o}))},n.next=function(t){return this.slide(this._activeIndex+1,t)},n.prev=function(t){return this.slide(this._activeIndex-1,t)},e}(Yv),Zv=Math.PI/180,Qv={multiply:function(t,e,n){var r=e[0],i=e[4],o=e[8],a=e[12],s=e[1],u=e[5],l=e[9],c=e[13],f=e[2],h=e[6],p=e[10],v=e[14],d=e[3],m=e[7],g=e[11],y=e[15],w=n[0],_=n[1],b=n[2],T=n[3],x=n[4],P=n[5],S=n[6],E=n[7],C=n[8],M=n[9],D=n[10],O=n[11],k=n[12],A=n[13],I=n[14],L=n[15];t[0]=r*w+i*x+o*C+a*k,t[4]=r*_+i*P+o*M+a*A,t[8]=r*b+i*S+o*D+a*I,t[12]=r*T+i*E+o*O+a*L,t[1]=s*w+u*x+l*C+c*k,t[5]=s*_+u*P+l*M+c*A,t[9]=s*b+u*S+l*D+c*I,t[13]=s*T+u*E+l*O+c*L,t[2]=f*w+h*x+p*C+v*k,t[6]=f*_+h*P+p*M+v*A,t[10]=f*b+h*S+p*D+v*I,t[14]=f*T+h*E+p*O+v*L,t[3]=d*w+m*x+g*C+y*k,t[7]=d*_+m*P+g*M+y*A,t[11]=d*b+m*S+g*D+y*I,t[15]=d*T+m*E+g*O+y*L},identity:function(t){for(var e=0;16>e;e++)t[e]=0;for(var n=0;16>n;n+=5)t[n]=1},translate:function(t,e,n,r){for(var i=0;4>i;i++)t[12+i]+=t[i]*e+t[4+i]*n+t[8+i]*r},scale:function(t,e,n,r){for(var i=0;4>i;i++)t[i]*=e,t[4+i]*=n,t[8+i]*=r},rotate:function(t,e,n,r,i){var o=new Float32Array(16);o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1;var a=e*Zv,s=Math.sin(a),u=Math.cos(a);if(1===n&&0===r&&0===i)o[5]=u,o[10]=u,o[6]=s,o[9]=-s,o[1]=0,o[2]=0,o[4]=0,o[8]=0,o[0]=1;else if(0===n&&0===r&&0===i)o[0]=u,o[10]=u,o[8]=s,o[2]=-s,o[1]=0,o[4]=0,o[6]=0,o[9]=0,o[5]=1;else if(0===n&&0===r&&1===i)o[0]=u,o[5]=u,o[1]=s,o[4]=-s,o[2]=0,o[6]=0,o[8]=0,o[9]=0,o[10]=1;else{var l=Math.sqrt(n*n+r*r+i*i);if(1!==l){var c=1/l;n*=c,r*=c,i*=c}var f=1-u,h=n*r,p=r*i,v=i*n,d=n*s,m=r*s,g=i*s;o[0]=n*n*f+u,o[4]=h*f-g,o[8]=v*f+m,o[1]=h*f+g,o[5]=r*r*f+u,o[9]=p*f-d,o[2]=v*f-m,o[6]=p*f+d,o[10]=i*i*f+u}Qv.multiply(t,t,o)},rotateEuler:function(t,e,n,r){var i=new Float32Array(16),o=e*Zv,a=n*Zv,s=r*Zv,u=Math.cos(o),l=Math.sin(o),c=Math.cos(a),f=Math.sin(a),h=Math.cos(s),p=Math.sin(s),v=u*f,d=l*f;i[0]=c*h,i[1]=-c*p,i[2]=f,i[3]=0,i[4]=v*h+u*p,i[5]=-v*p+u*h,i[6]=-l*c,i[7]=0,i[8]=-d*h+l*p,i[9]=d*p+l*h,i[10]=u*c,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,Qv.multiply(t,t,i)},perspective:function(t,e,n,r,i){var o=1/Math.tan(e*(Math.PI/360)),a=1/(r-i);t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0}},Kv=function(){function t(t){void 0===t&&(t={}),"number"==typeof t.a&&(this.a=t.a),"number"==typeof t.k&&(this.k=t.k),"number"==typeof t.x&&(this.x=t.x),"number"==typeof t.y&&(this.y=t.y)}t.identity=function(){return new t({a:0,k:1,x:0,y:0})};var e=t.prototype;return e.toRaw=function(){var t={};return"number"==typeof this.a&&(t.a=this.a),"number"==typeof this.k&&(t.k=this.k),"number"==typeof this.x&&(t.x=this.x),"number"==typeof this.y&&(t.y=this.y),t},e.toString=function(){var t=this.a,e=void 0===t?0:t,n=this.k,r=void 0===n?1:n,i=this.x,o=void 0===i?0:i,a=this.y,s=void 0===a?0:a,u=new Float32Array(16);return Qv.identity(u),Qv.translate(u,o,s,0),Qv.scale(u,r,r,r),Qv.rotate(u,-e,0,0,1),"matrix3d("+Aa(Array.prototype).call(u).join(",")+")"},t}();function td(t,e,n,r){return void 0===r&&(r=!1),1>t||1>e||r&&t>e||0>=n||n>1?t:r?Math.pow((e-1)*t/(e-t),1/n):e/(1+(e-1)/Math.pow(t,n))}function ed(t,e){if(void 0===e&&(e={}),0===t)return 0;var n=e.max,r=void 0===n?9999:n,i=e.mode,o=void 0===i?0:i,a=e.expo,s=void 0===a?.88:a,u=Math.abs(t);return(u=1>u?1===o?1/td(1/u,r,s):td(u+1,r,s)-1:td(u,r,s))*(t>0?1:-1)}function nd(t,e){if(void 0===e&&(e={}),0===t)return 0;var n=e.max,r=void 0===n?9999:n,i=e.mode,o=void 0===i?0:i,a=e.expo,s=void 0===a?.88:a,u=Math.abs(t);return(u=1>u?1===o?1/td(1/u,r,s,!0):td(u+1,r,s,!0)-1:td(u,r,s,!0))*(t>0?1:-1)}function rd(t,e,n){return t>(1-e)/(2*e)?(1+e-2*n)/(2*e)>t?(t-(1-n)/(2*e))/(1-n/e):.5:-.5}function id(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return"function"==typeof t?t.apply(void 0,n):t}function od(t,e){return t>=e[0]&&e[1]>=t}function ad(t,e,n){var r=e[0];return Math.max(Math.min(t,e[1]),r)}var sd=["sizePosition","dblAdjust","dblScale","damping","rotation","scalation","translation","transitionEl"],ud=function(t){function e(e){var n,r=void 0===e?{}:e,i=r.sizePosition,o=r.dblAdjust,a=r.dblScale,s=r.damping,u=r.rotation,l=r.scalation,c=r.translation,f=r.transitionEl,h=as(r,sd);return(n=t.call(this,f||null,h)||this)._dblAdjust=!0,n._dblScale=0,n._damping=[],n._rotation=[],n._scalation=[],n._translation=[],n._sizePosition={containerCenter:[0,0],containerWidth:0,containerHeight:0,naturalWidth:0,naturalHeight:0,elementWidth:0,elementHeight:0},n.apply({transform:new Uv({a:0,k:1,x:0,y:0},{a:.001,k:.001,x:1,y:1},(function(t){return""+new Kv(t)}))}),n.sizePosition(i),n.setDblAdjust(o),n.setDamping(s),n.setDblScale(a),n.setRotation(u),n.setScalation(l),n.setTranslation(c),n}pi(e,t);var n=e.prototype;return n.reset=function(t){void 0===t&&(t=0);var e=ad(0,this.getRotation()),n=ad(1,this.getScalation()),r=ad(0,this.getXTranslation(n)),i=ad(0,this.getYTranslation(n));this.apply(new Uv({a:e,k:n,x:r,y:i}),Mr({},Vv,{duration:t}))},n.sizePosition=function(t){if(t){var e=t.containerWidth,n=t.containerHeight,r=t.naturalWidth,i=t.naturalHeight,o=r/i,a=r;this._sizePosition={containerCenter:t.containerCenter,containerWidth:e,containerHeight:n,naturalWidth:r,naturalHeight:i,elementWidth:(a=e/n>o?1/2.2>o?Math.min(e,r):n*o:e)||0,elementHeight:a/o||0},this.reset()}return this._sizePosition},n.setRotation=function(t){this._rotation=!t||"number"!=typeof t[0]||"number"!=typeof t[1]||t[0]>t[1]?function(){return[0,0]}:t},n.getRotation=function(){return id(this._rotation)},n.setScalation=function(t){var e=this;this._scalation=t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]&&t[0]>0?t:function(){return[1,2*e.getDblScale()]}},n.getScalation=function(){return id(this._scalation)},n.setTranslation=function(t){this.setXTranslation(t&&t[0]),this.setYTranslation(t&&t[1])},n.getTranslation=function(t){return[this.getXTranslation(t),this.getYTranslation()]},n.setXTranslation=function(t){var e=this;this._translation[0]=!t||"number"!=typeof t[0]||"number"!=typeof t[1]||t[0]>t[1]?function(t){var n=e.sizePosition(),r=Math.max((n.elementWidth*t-n.containerWidth)/2,0);return[-r,r]}:t},n.getXTranslation=function(t){return id(this._translation[0],t||this.value().transform.k||1)},n.setYTranslation=function(t){var e=this;this._translation[1]=!t||"number"!=typeof t[0]||"number"!=typeof t[1]||t[0]>t[1]?function(t){var n=e.sizePosition(),r=Math.max((n.elementHeight*t-n.containerHeight)/2,0);return[-r,r]}:t},n.getYTranslation=function(t){return id(this._translation[1],t||this.value().transform.k||1)},n.setDblScale=function(t){var e=this;this._dblScale="number"==typeof t&&t>0?t:function(){var t=e.sizePosition(),n=t.containerWidth,r=t.containerHeight,i=t.naturalWidth,o=t.naturalHeight;return Math.max(2,Math.max(n/t.elementWidth,r/t.elementHeight),Math.min(i/n,o/r))||1}},n.getDblScale=function(){return id(this._dblScale)},n.setDblAdjust=function(t){void 0===t&&(t=!0),this._dblAdjust=t},n.getDblAdjust=function(){return this._dblAdjust},n.isDamping=function(t){var e;return-1!==(null==(e=this._damping)?void 0:e.indexOf(t))},n.setDamping=function(t){this._damping=t||["scale","translate"]},n.rotate=function(t){return this.transform(new Kv({a:t}))},n.rotateTo=function(t){return this.transformTo(new Kv({a:t}))},n.scale=function(t,e){return this.transform(new Kv({k:t}),e)},n.scaleTo=function(t,e){return this.transformTo(new Kv({k:t}),e)},n.translate=function(t,e){return this.transform(new Kv({x:t,y:e}))},n.translateTo=function(t,e){return this.transformTo(new Kv({x:t,y:e}))},n.translateX=function(t){return this.transform(new Kv({x:t}))},n.translateXTo=function(t){return this.transformTo(new Kv({x:t}))},n.translateY=function(t){return this.transform(new Kv({y:t}))},n.translateYTo=function(t){return this.transformTo(new Kv({y:t}))},n.transform=function(t,e,n){var r=this.value().transform,i=t.a,o=t.k,a=t.x,s=t.y;return"number"==typeof i&&(i+=r.a||0),"number"==typeof o&&(o*=r.k||1),"number"==typeof a&&(a+=r.x||0),"number"==typeof s&&(s+=r.y||0),this.transformTo(new Kv({a:i,k:o,x:a,y:s}),e,n)},n.transformTo=function(t,e,n){var r=e,i=n;n||Array.isArray(e)||(i=e,r=void 0);var o=t.a,a=t.k,s=t.x,u=t.y,l=new Kv;if("number"==typeof o&&(l.a=ad(o,this.getRotation())),"number"==typeof a){var c=l.k=ad(a,this.getScalation());if(Array.isArray(r)){var f=this.computeOffset(r,c),h=f[0],p=f[1],v=this.value().transform;l.x=ad(("number"==typeof s?s:v.x)+h,this.getXTranslation(c)),l.y=ad(("number"==typeof u?u:v.y)+p,this.getYTranslation(c))}else"number"==typeof s&&(l.x=ad(s,this.getXTranslation(c))),"number"==typeof u&&(l.y=ad(u,this.getYTranslation(c)))}else"number"==typeof s&&(l.x=ad(s,this.getXTranslation())),"number"==typeof u&&(l.y=ad(u,this.getYTranslation()));return this.apply(new Uv(l.toRaw()),Mr({},Vv,i))},n.computeOffset=function(t,e,n){void 0===n&&(n=!1);var r=this.sizePosition(),i=r.containerCenter,o=r.containerWidth,a=r.containerHeight,s=r.elementWidth,u=r.elementHeight,l=this.value().transform,c=e/l.k,f=i[0],h=i[1],p=("number"==typeof t[0]?t[0]:f)-(f+l.x),v=("number"==typeof t[1]?t[1]:h)-(h+l.y);if(n){var d=o/1,m=a/1,g=s/l.k,y=u/l.k;p=ad(g-(d-g)/(c-1),[0,g])*rd(p/g,c,ad(d/g,[1,2]))||0,v=ad(y-(m-y)/(c-1),[0,y])*rd(v/y,c,ad(m/y,[1,2]))||0}return[p*=1-c,v*=1-c]},n.moveBounce=function(t,e,n,r,i){void 0===i&&(i=[]);var o=this.value().transform,a=o.a,s=o.k,u=o.x,l=o.y,c=this.getRotation();if(this.isDamping("rotate")){var f=ad(a,c);a=f+nd(a-f,{max:180}),f=ad(a+=t,c),a=f+ed(a-f,{max:180})}else a=ad(a+=t,c);var h=this.getScalation();if(this.isDamping("scale")){var p=ad(s,h);s=p*nd(s/p,{max:2,mode:1}),p=ad(s*=e,h),s=p*ed(s/p,{max:2,mode:1})}else s=ad(s*=e,h);var v=this.computeOffset(i,s),d=v[0],m=v[1];if(this.isDamping("scale")){var g=this.sizePosition(),y=g.containerWidth,w=g.containerHeight,_=ad(u,this.getXTranslation());u=_+nd(u-_,{max:y}),_=ad(u+=d+n,this.getXTranslation(s)),u=_+ed(u-_,{max:y});var b=ad(l,this.getYTranslation());l=b+nd(l-b,{max:w}),b=ad(l+=m+r,this.getYTranslation(s)),l=b+ed(l-b,{max:w})}else u=ad(u+=d+n,this.getXTranslation(s)),l=ad(l+=m+r,this.getYTranslation(s));this.apply(new Uv({a:a,k:s,x:u,y:l}))},n.resetBounce=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=!1);var n=this.value().transform,r=n.a,i=n.k,o=n.x,a=n.y;if(this.isDamping("rotate")){var s=ad(r,this.getRotation());r=s+nd(r-s,{max:180})}if(this.isDamping("scale")){var u=ad(i,this.getScalation());i=u*nd(i/u,{max:2,mode:1})}if(this.isDamping("translate")){var l=this.sizePosition(),c=l.containerWidth,f=l.containerHeight,h=ad(o,this.getXTranslation());o=h+nd(o-h,{max:c});var p=ad(a,this.getYTranslation());a=p+nd(a-p,{max:f})}this.transformTo(new Kv({a:r,k:i,x:o,y:a}),t,{cancel:e})},n.dblScale=function(t){void 0===t&&(t=[]);var e=this.value().transform.k||1,n=ad(this.getDblScale(),this.getScalation()),r=ad(1,this.getScalation());if(n>r&&r>=e||r>n&&e>=r)if(this.getDblAdjust()){var i=this.computeOffset(t,n,this.getDblAdjust()),o=i[0],a=i[1],s=this.value().transform;this.transformTo(new Kv({a:0,k:n,x:s.x+o,y:s.y+a}),{cancel:!1})}else this.transformTo(new Kv({k:n}),t,{cancel:!1});else this.getDblAdjust()?this.transformTo(new Kv({a:0,k:r,x:0,y:0}),{cancel:!1}):this.transformTo(new Kv({k:r}),t,{cancel:!1})},n.swipeBounce=function(t,e,n,r){var i=this,o=this.sizePosition()["x"===n?"containerWidth":"containerHeight"],a=1.2*this.getDblScale(),s=this.value().transform[n]||0,u=this.getTranslation()["x"===n?0:1],l=e>0?1:-1,c=Math.max(1,Math.min(Math.abs(e),a*o))*l,f=Math.max(800,Math.min(2500,t));if(od(s+c,u)){var h;if("function"==typeof r)r(n,c,0,(function(){return{duration:f,easing:Gv}}));else this.apply(new Uv(((h={})[n]=s+c,h)),Mr({},Vv,{easing:Gv,duration:f}))}else{var p=ad(s+c,u)-s,v=0;if(this.isDamping("translate")){var d=(od(s,u)?Math.sqrt(1-Math.abs(p/c)):1)*(2*Math.abs(c)/f);v=Math.min(30*d,o/4)*l}if("function"==typeof r)r(n,p,v,(function(t){return{duration:(1-Math.sqrt(1-Math.abs(t/c)))*f,easing:Gv}}));else{var m,g,y=Math.max((p+v)*l,0)*l,w=1-Math.sqrt(1-Math.abs(y/c));if(0===y)this.apply(new Uv(((m={})[n]=ad(s+y,u),m)),Mr({},Vv));else this.apply(new Uv((g={},g[n]=s+y,g)),Mr({},Vv,{duration:w*f,easing:Gv})).then((function(){var t;i.apply(new Uv(((t={})[n]=ad(s+y,u),t)),Mr({},Vv))}))}}},e}(Yv),ld=o,cd=ae("iterator"),fd=!ld((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),n.delete("a",2),n.delete("b",void 0),!t.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b")||!e.size&&true||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||new URLSearchParams("?a=1")+""!="a=1"||!e[cd]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),hd=dl,pd=Mn,vd=An,dd=To,md=Array,gd=Math.max,yd=function(t,e,n){for(var r=vd(t),i=pd(e,r),o=pd(void 0===n?r:n,r),a=md(gd(o-i,0)),s=0;o>i;i++,s++)dd(a,s,t[i]);return a.length=s,a},wd=yd,_d=Math.floor,bd=function(t,e){var n=t.length,r=_d(n/2);return 8>n?Td(t,e):xd(t,bd(wd(t,0,r),e),bd(wd(t,r),e),e)},Td=function(t,e){for(var n,r,i=t.length,o=1;i>o;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},xd=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,s=0;i>a||o>s;)t[a+s]=i>a&&o>s?r(e[a],n[s])>0?n[s++]:e[a++]:i>a?e[a++]:n[s++];return t},Pd=_n,Sd=i,Ed=O,Cd=d,Md=M,Dd=fd,Od=dl,kd=yc,Ad=function(t,e,n){for(var r in e)n&&n.unsafe&&t[r]?t[r]=e[r]:hd(t,r,e[r],n);return t},Id=Il,Ld=Ul,jd=ul,Rd=Sc,Bd=E,Fd=Vt,zd=Xe,Ud=Gi,Hd=$e,Nd=Q,Xd=Eu,qd=Kr,Yd=B,Gd=ou,Vd=Qs,Wd=jc,$d=bd,Jd=ae("iterator"),Zd="URLSearchParams",Qd=Zd+"Iterator",Kd=jd.set,tm=jd.getterFor(Zd),em=jd.getterFor(Qd),nm=Object.getOwnPropertyDescriptor,rm=function(t){if(!Md)return Sd[t];var e=nm(Sd,t);return e&&e.value},im=rm("fetch"),om=rm("Request"),am=rm("Headers"),sm=om&&om.prototype,um=am&&am.prototype,lm=Sd.RegExp,cm=Sd.TypeError,fm=Sd.decodeURIComponent,hm=Sd.encodeURIComponent,pm=Cd("".charAt),vm=Cd([].join),dm=Cd([].push),mm=Cd("".replace),gm=Cd([].shift),ym=Cd([].splice),wm=Cd("".split),_m=Cd("".slice),bm=/\+/g,Tm=[,,,,],xm=function(t){return Tm[t-1]||(Tm[t-1]=lm("((?:%[\\da-f]{2}){"+t+"})","gi"))},Pm=function(t){try{return fm(t)}catch(e){return t}},Sm=function(t){var e=mm(t,bm," "),n=4;try{return fm(e)}catch(t){for(;n;)e=mm(e,xm(n--),Pm);return e}},Em=/[!'()~]|%20/g,Cm={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Mm=function(t){return Cm[t]},Dm=function(t){return mm(hm(t),Em,Mm)},Om=Ld((function(t,e){Kd(this,{type:Qd,iterator:Gd(tm(t).entries),kind:e})}),"Iterator",(function(){var t=em(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),km=function(t){this.entries=[],this.url=null,void 0!==t&&(Nd(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===pm(t,0)?_m(t,1):t:Xd(t)))};km.prototype={type:Zd,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,o,a,s,u=Vd(t);if(u)for(n=(e=Gd(t,u)).next;!(r=Ed(n,e)).done;){if(i=Gd(Hd(r.value)),(a=Ed(o=i.next,i)).done||(s=Ed(o,i)).done||!Ed(o,i).done)throw cm("Expected sequence with length 2");dm(this.entries,{key:Xd(a.value),value:Xd(s.value)})}else for(var l in t)Fd(t,l)&&dm(this.entries,{key:l,value:Xd(t[l])})},parseQuery:function(t){if(t)for(var e,n,r=wm(t,"&"),i=0;r.length>i;)(e=r[i++]).length&&(n=wm(e,"="),dm(this.entries,{key:Sm(gm(n)),value:Sm(vm(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;e.length>r;)t=e[r++],dm(n,Dm(t.key)+"="+Dm(t.value));return vm(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Am=function(){Rd(this,Im);var t=Kd(this,new km(arguments.length>0?arguments[0]:void 0));Md||(this.size=t.entries.length)},Im=Am.prototype;if(Ad(Im,{append:function(t,e){var n=tm(this);Wd(arguments.length,2),dm(n.entries,{key:Xd(t),value:Xd(e)}),Md||this.length++,n.updateURL()},delete:function(t){for(var e=tm(this),n=Wd(arguments.length,1),r=e.entries,i=Xd(t),o=2>n?void 0:arguments[1],a=void 0===o?o:Xd(o),s=0;r.length>s;){var u=r[s];if(u.key!==i||void 0!==a&&u.value!==a)s++;else if(ym(r,s,1),void 0!==a)break}Md||(this.size=r.length),e.updateURL()},get:function(t){var e=tm(this).entries;Wd(arguments.length,1);for(var n=Xd(t),r=0;e.length>r;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){var e=tm(this).entries;Wd(arguments.length,1);for(var n=Xd(t),r=[],i=0;e.length>i;i++)e[i].key===n&&dm(r,e[i].value);return r},has:function(t){for(var e=tm(this).entries,n=Wd(arguments.length,1),r=Xd(t),i=2>n?void 0:arguments[1],o=void 0===i?i:Xd(i),a=0;e.length>a;){var s=e[a++];if(s.key===r&&(void 0===o||s.value===o))return!0}return!1},set:function(t,e){var n=tm(this);Wd(arguments.length,1);for(var r,i=n.entries,o=!1,a=Xd(t),s=Xd(e),u=0;i.length>u;u++)(r=i[u]).key===a&&(o?ym(i,u--,1):(o=!0,r.value=s));o||dm(i,{key:a,value:s}),Md||(this.size=i.length),n.updateURL()},sort:function(){var t=tm(this);$d(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=tm(this).entries,r=zd(t,arguments.length>1?arguments[1]:void 0),i=0;n.length>i;)r((e=n[i++]).value,e.key,this)},keys:function(){return new Om(this,"keys")},values:function(){return new Om(this,"values")},entries:function(){return new Om(this,"entries")}},{enumerable:!0}),Od(Im,Jd,Im.entries,{name:"entries"}),Od(Im,"toString",(function(){return tm(this).serialize()}),{enumerable:!0}),Md&&kd(Im,"size",{get:function(){return tm(this).entries.length},configurable:!0,enumerable:!0}),Id(Am,Zd),Pd({global:!0,constructor:!0,forced:!Dd},{URLSearchParams:Am}),!Dd&&Bd(am)){var Lm=Cd(um.has),jm=Cd(um.set),Rm=function(t){if(Nd(t)){var e,n=t.body;if(Ud(n)===Zd)return e=t.headers?new am(t.headers):new am,Lm(e,"content-type")||jm(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),qd(t,{body:Yd(0,Xd(n)),headers:Yd(0,e)})}return t};if(Bd(im)&&Pd({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return im(t,arguments.length>1?Rm(arguments[1]):{})}}),Bd(om)){var Bm=function(t){return Rd(this,sm),new om(t,arguments.length>1?Rm(arguments[1]):{})};sm.constructor=Bm,Bm.prototype=sm,Pd({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Bm})}}var Fm,zm={URLSearchParams:Am,getState:tm},Um=$e,Hm=lu,Nm=Xe,Xm=O,qm=qt,Ym=function(t,e,n,r){try{return r?e(Um(n)[0],n[1]):e(n)}catch(e){Hm(t,"throw",e)}},Gm=Gs,Vm=co,Wm=An,$m=To,Jm=ou,Zm=Qs,Qm=Array,Km=d,tg=2147483647,eg=/[^\0-\u007E]/,ng=/[.\u3002\uFF0E\uFF61]/g,rg="Overflow: input needs wider integers to process",ig=RangeError,og=Km(ng.exec),ag=Math.floor,sg=String.fromCharCode,ug=Km("".charCodeAt),lg=Km([].join),cg=Km([].push),fg=Km("".replace),hg=Km("".split),pg=Km("".toLowerCase),vg=function(t){return t+22+75*(26>t)},dg=function(t,e,n){var r=0;for(t=n?ag(t/700):t>>1,t+=ag(t/e);t>455;)t=ag(t/35),r+=36;return ag(r+36*t/(t+38))},mg=function(t){var e=[];t=function(t){for(var e=[],n=0,r=t.length;r>n;){var i=ug(t,n++);if(55296>i||i>56319||n>=r)cg(e,i);else{var o=ug(t,n++);56320==(64512&o)?cg(e,((1023&i)<<10)+(1023&o)+65536):(cg(e,i),n--)}}return e}(t);var n,r,i=t.length,o=128,a=0,s=72;for(n=0;t.length>n;n++)128>(r=t[n])&&cg(e,sg(r));var u=e.length,l=u;for(u&&cg(e,"-");i>l;){var c=tg;for(n=0;t.length>n;n++)(r=t[n])>=o&&c>r&&(c=r);var f=l+1;if(c-o>ag((tg-a)/f))throw ig(rg);for(a+=(c-o)*f,o=c,n=0;t.length>n;n++){if(o>(r=t[n])&&++a>tg)throw ig(rg);if(r==o){for(var h=a,p=36;;){var v=p>s?s+26>p?p-s:26:1;if(v>h)break;var d=h-v,m=36-v;cg(e,sg(vg(v+d%m))),h=ag(d/m),p+=36}cg(e,sg(vg(h))),s=dg(a,f,l==u),a=0,l++}}a++,o++}return lg(e,"")},gg=_n,yg=M,wg=fd,_g=i,bg=Xe,Tg=d,xg=dl,Pg=yc,Sg=Sc,Eg=Vt,Cg=sr,Mg=function(t){var e=qm(t),n=Vm(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=Nm(i,r>2?arguments[2]:void 0));var a,s,u,l,c,f,h=Zm(e),p=0;if(!h||this===Qm&&Gm(h))for(a=Wm(e),s=n?new this(a):Qm(a);a>p;p++)f=o?i(e[p],p):e[p],$m(s,p,f);else for(c=(l=Jm(e,h)).next,s=n?new this:[];!(u=Xm(c,l)).done;p++)f=o?Ym(l,i,[u.value,p],!0):u.value,$m(s,p,f);return s.length=p,s},Dg=yd,Og=Zp.codeAt,kg=function(t){var e,n,r=[],i=hg(fg(pg(t),ng,"."),".");for(e=0;i.length>e;e++)cg(r,og(eg,n=i[e])?"xn--"+mg(n):n);return lg(r,".")},Ag=Eu,Ig=Il,Lg=jc,jg=zm,Rg=ul.set,Bg=ul.getterFor("URL"),Fg=jg.URLSearchParams,zg=jg.getState,Ug=_g.URL,Hg=_g.TypeError,Ng=_g.parseInt,Xg=Math.floor,qg=Math.pow,Yg=Tg("".charAt),Gg=Tg(/./.exec),Vg=Tg([].join),Wg=Tg(1..toString),$g=Tg([].pop),Jg=Tg([].push),Zg=Tg("".replace),Qg=Tg([].shift),Kg=Tg("".split),ty=Tg("".slice),ey=Tg("".toLowerCase),ny=Tg([].unshift),ry="Invalid scheme",iy="Invalid host",oy="Invalid port",ay=/[a-z]/i,sy=/[\d+-.a-z]/i,uy=/\d/,ly=/^0x/i,cy=/^[0-7]+$/,fy=/^\d+$/,hy=/^[\da-f]+$/i,py=/[\0\t\n\r #%/:<>?@[\\\]^|]/,vy=/[\0\t\n\r #/:<>?@[\\\]^|]/,dy=/^[\u0000-\u0020]+/,my=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,gy=/[\t\n\r]/g,yy=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;4>n;n++)ny(e,t%256),t=Xg(t/256);return Vg(e,".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;8>o;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;8>n;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=Wg(t[n],16),7>n&&(e+=":")));return"["+e+"]"}return t},wy={},_y=Cg({},wy,{" ":1,'"':1,"<":1,">":1,"`":1}),by=Cg({},_y,{"#":1,"?":1,"{":1,"}":1}),Ty=Cg({},by,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),xy=function(t,e){var n=Og(t,0);return n>32&&127>n&&!Eg(e,t)?t:encodeURIComponent(t)},Py={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Sy=function(t,e){var n;return 2==t.length&&Gg(ay,Yg(t,0))&&(":"==(n=Yg(t,1))||!e&&"|"==n)},Ey=function(t){var e;return t.length>1&&Sy(ty(t,0,2))&&(2==t.length||"/"===(e=Yg(t,2))||"\\"===e||"?"===e||"#"===e)},Cy=function(t){return"."===t||"%2e"===ey(t)},My={},Dy={},Oy={},ky={},Ay={},Iy={},Ly={},jy={},Ry={},By={},Fy={},zy={},Uy={},Hy={},Ny={},Xy={},qy={},Yy={},Gy={},Vy={},Wy={},$y=function(t,e,n){var r,i,o,a=Ag(t);if(e){if(i=this.parse(a))throw Hg(i);this.searchParams=null}else{if(void 0!==n&&(r=new $y(n,!0)),i=this.parse(a,null,r))throw Hg(i);(o=zg(new Fg)).bindURL(this),this.searchParams=o}};$y.prototype={type:"URL",parse:function(t,e,n){var r,i,o,a,s,u=this,l=e||My,c=0,f="",h=!1,p=!1,v=!1;for(t=Ag(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=Zg(t,dy,""),t=Zg(t,my,"$1")),t=Zg(t,gy,""),r=Mg(t);r.length>=c;){switch(i=r[c],l){case My:if(!i||!Gg(ay,i)){if(e)return ry;l=Oy;continue}f+=ey(i),l=Dy;break;case Dy:if(i&&(Gg(sy,i)||"+"==i||"-"==i||"."==i))f+=ey(i);else{if(":"!=i){if(e)return ry;f="",l=Oy,c=0;continue}if(e&&(u.isSpecial()!=Eg(Py,f)||"file"==f&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=f,e)return void(u.isSpecial()&&Py[u.scheme]==u.port&&(u.port=null));f="","file"==u.scheme?l=Hy:u.isSpecial()&&n&&n.scheme==u.scheme?l=ky:u.isSpecial()?l=jy:"/"==r[c+1]?(l=Ay,c++):(u.cannotBeABaseURL=!0,Jg(u.path,""),l=Gy)}break;case Oy:if(!n||n.cannotBeABaseURL&&"#"!=i)return ry;if(n.cannotBeABaseURL&&"#"==i){u.scheme=n.scheme,u.path=Dg(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,l=Wy;break}l="file"==n.scheme?Hy:Iy;continue;case ky:if("/"!=i||"/"!=r[c+1]){l=Iy;continue}l=Ry,c++;break;case Ay:if("/"==i){l=By;break}l=Yy;continue;case Iy:if(u.scheme=n.scheme,i==Fm)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=Dg(n.path),u.query=n.query;else if("/"==i||"\\"==i&&u.isSpecial())l=Ly;else if("?"==i)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=Dg(n.path),u.query="",l=Vy;else{if("#"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=Dg(n.path),u.path.length--,l=Yy;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=Dg(n.path),u.query=n.query,u.fragment="",l=Wy}break;case Ly:if(!u.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,l=Yy;continue}l=By}else l=Ry;break;case jy:if(l=Ry,"/"!=i||"/"!=Yg(f,c+1))continue;c++;break;case Ry:if("/"!=i&&"\\"!=i){l=By;continue}break;case By:if("@"==i){h&&(f="%40"+f),h=!0,o=Mg(f);for(var d=0;o.length>d;d++){var m=o[d];if(":"!=m||v){var g=xy(m,Ty);v?u.password+=g:u.username+=g}else v=!0}f=""}else if(i==Fm||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(h&&""==f)return"Invalid authority";c-=Mg(f).length+1,f="",l=Fy}else f+=i;break;case Fy:case zy:if(e&&"file"==u.scheme){l=Xy;continue}if(":"!=i||p){if(i==Fm||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(u.isSpecial()&&""==f)return iy;if(e&&""==f&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(f))return a;if(f="",l=qy,e)return;continue}"["==i?p=!0:"]"==i&&(p=!1),f+=i}else{if(""==f)return iy;if(a=u.parseHost(f))return a;if(f="",l=Uy,e==zy)return}break;case Uy:if(!Gg(uy,i)){if(i==Fm||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()||e){if(""!=f){var y=Ng(f,10);if(y>65535)return oy;u.port=u.isSpecial()&&y===Py[u.scheme]?null:y,f=""}if(e)return;l=qy;continue}return oy}f+=i;break;case Hy:if(u.scheme="file","/"==i||"\\"==i)l=Ny;else{if(!n||"file"!=n.scheme){l=Yy;continue}if(i==Fm)u.host=n.host,u.path=Dg(n.path),u.query=n.query;else if("?"==i)u.host=n.host,u.path=Dg(n.path),u.query="",l=Vy;else{if("#"!=i){Ey(Vg(Dg(r,c),""))||(u.host=n.host,u.path=Dg(n.path),u.shortenPath()),l=Yy;continue}u.host=n.host,u.path=Dg(n.path),u.query=n.query,u.fragment="",l=Wy}}break;case Ny:if("/"==i||"\\"==i){l=Xy;break}n&&"file"==n.scheme&&!Ey(Vg(Dg(r,c),""))&&(Sy(n.path[0],!0)?Jg(u.path,n.path[0]):u.host=n.host),l=Yy;continue;case Xy:if(i==Fm||"/"==i||"\\"==i||"?"==i||"#"==i){if(!e&&Sy(f))l=Yy;else if(""==f){if(u.host="",e)return;l=qy}else{if(a=u.parseHost(f))return a;if("localhost"==u.host&&(u.host=""),e)return;f="",l=qy}continue}f+=i;break;case qy:if(u.isSpecial()){if(l=Yy,"/"!=i&&"\\"!=i)continue}else if(e||"?"!=i)if(e||"#"!=i){if(i!=Fm&&(l=Yy,"/"!=i))continue}else u.fragment="",l=Wy;else u.query="",l=Vy;break;case Yy:if(i==Fm||"/"==i||"\\"==i&&u.isSpecial()||!e&&("?"==i||"#"==i)){if(".."===(s=ey(s=f))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(u.shortenPath(),"/"==i||"\\"==i&&u.isSpecial()||Jg(u.path,"")):Cy(f)?"/"==i||"\\"==i&&u.isSpecial()||Jg(u.path,""):("file"==u.scheme&&!u.path.length&&Sy(f)&&(u.host&&(u.host=""),f=Yg(f,0)+":"),Jg(u.path,f)),f="","file"==u.scheme&&(i==Fm||"?"==i||"#"==i))for(;u.path.length>1&&""===u.path[0];)Qg(u.path);"?"==i?(u.query="",l=Vy):"#"==i&&(u.fragment="",l=Wy)}else f+=xy(i,by);break;case Gy:"?"==i?(u.query="",l=Vy):"#"==i?(u.fragment="",l=Wy):i!=Fm&&(u.path[0]+=xy(i,wy));break;case Vy:e||"#"!=i?i!=Fm&&("'"==i&&u.isSpecial()?u.query+="%27":u.query+="#"==i?"%23":xy(i,wy)):(u.fragment="",l=Wy);break;case Wy:i!=Fm&&(u.fragment+=xy(i,_y))}c++}},parseHost:function(t){var e,n,r;if("["==Yg(t,0)){if("]"!=Yg(t,t.length-1))return iy;if(e=function(t){var e,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,f=0,h=function(){return Yg(t,f)};if(":"==h()){if(":"!=Yg(t,1))return;f+=2,c=++l}for(;h();){if(8==l)return;if(":"!=h()){for(e=n=0;4>n&&Gg(hy,h());)e=16*e+Ng(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,l>6)return;for(r=0;h();){if(i=null,r>0){if("."!=h()||r>=4)return;f++}if(!Gg(uy,h()))return;for(;Gg(uy,h());){if(o=Ng(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[l]=256*u[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;u[l++]=e}else{if(null!==c)return;f++,c=++l}}if(null!==c)for(a=l-c,l=7;0!=l&&a>0;)s=u[l],u[l--]=u[c+a-1],u[c+--a]=s;else if(8!=l)return;return u}(ty(t,1,-1)),!e)return iy;this.host=e}else if(this.isSpecial()){if(t=kg(t),Gg(py,t))return iy;if(e=function(t){var e,n,r,i,o,a,s,u=Kg(t,".");if(u.length&&""==u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(n=[],r=0;e>r;r++){if(""==(i=u[r]))return t;if(o=10,i.length>1&&"0"==Yg(i,0)&&(o=Gg(ly,i)?16:8,i=ty(i,8==o?1:2)),""===i)a=0;else{if(!Gg(10==o?fy:8==o?cy:hy,i))return t;a=Ng(i,o)}Jg(n,a)}for(r=0;e>r;r++)if(a=n[r],r==e-1){if(a>=qg(256,5-e))return null}else if(a>255)return null;for(s=$g(n),r=0;n.length>r;r++)s+=n[r]*qg(256,3-r);return s}(t),null===e)return iy;this.host=e}else{if(Gg(vy,t))return iy;for(e="",n=Mg(t),r=0;n.length>r;r++)e+=xy(n[r],wy);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return Eg(Py,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&Sy(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,l=e+":";return null!==i?(l+="//",t.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=yy(i),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+Vg(a,"/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},setHref:function(t){var e=this.parse(t);if(e)throw Hg(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Jy(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+yy(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(Ag(t)+":",My)},getUsername:function(){return this.username},setUsername:function(t){var e=Mg(Ag(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;e.length>n;n++)this.username+=xy(e[n],Ty)}},getPassword:function(){return this.password},setPassword:function(t){var e=Mg(Ag(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;e.length>n;n++)this.password+=xy(e[n],Ty)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?yy(t):yy(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Fy)},getHostname:function(){var t=this.host;return null===t?"":yy(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,zy)},getPort:function(){var t=this.port;return null===t?"":Ag(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=Ag(t))?this.port=null:this.parse(t,Uy))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+Vg(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,qy))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=Ag(t))?this.query=null:("?"==Yg(t,0)&&(t=ty(t,1)),this.query="",this.parse(t,Vy)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=Ag(t))?("#"==Yg(t,0)&&(t=ty(t,1)),this.fragment="",this.parse(t,Wy)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Jy=function(t){var e=Sg(this,Zy),n=Lg(arguments.length,1)>1?arguments[1]:void 0,r=Rg(e,new $y(t,!1,n));yg||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Zy=Jy.prototype,Qy=function(t,e){return{get:function(){return Bg(this)[t]()},set:e&&function(t){return Bg(this)[e](t)},configurable:!0,enumerable:!0}};if(yg&&(Pg(Zy,"href",Qy("serialize","setHref")),Pg(Zy,"origin",Qy("getOrigin")),Pg(Zy,"protocol",Qy("getProtocol","setProtocol")),Pg(Zy,"username",Qy("getUsername","setUsername")),Pg(Zy,"password",Qy("getPassword","setPassword")),Pg(Zy,"host",Qy("getHost","setHost")),Pg(Zy,"hostname",Qy("getHostname","setHostname")),Pg(Zy,"port",Qy("getPort","setPort")),Pg(Zy,"pathname",Qy("getPathname","setPathname")),Pg(Zy,"search",Qy("getSearch","setSearch")),Pg(Zy,"searchParams",Qy("getSearchParams")),Pg(Zy,"hash",Qy("getHash","setHash"))),xg(Zy,"toJSON",(function(){return Bg(this).serialize()}),{enumerable:!0}),xg(Zy,"toString",(function(){return Bg(this).serialize()}),{enumerable:!0}),Ug){var Ky=Ug.createObjectURL,tw=Ug.revokeObjectURL;Ky&&xg(Jy,"createObjectURL",bg(Ky,Ug)),tw&&xg(Jy,"revokeObjectURL",bg(tw,Ug))}Ig(Jy,"URL"),gg({global:!0,constructor:!0,forced:!wg,sham:!yg},{URL:Jy});var ew=_n,nw=o,rw=jc,iw=Eu,ow=fd,aw=it("URL");ew({target:"URL",stat:!0,forced:!(ow&&nw((function(){aw.canParse()})))},{canParse:function(t){var e=rw(arguments.length,1),n=iw(t),r=2>e||void 0===arguments[1]?void 0:iw(arguments[1]);try{return!!new aw(n,r)}catch(t){return!1}}});var sw=n(K.URL),uw=function(t,e){return new _v((function(n,r){var i=new Image,o=function(){i.onload=null,i.onprogress=null,i.onerror=null};i.onload=function(){n(i),o()},i.onerror=function(t){r(t),o()},"function"==typeof e&&(i.onprogress=function(t){return e(t.loaded/t.total)}),i.src=t}))};function lw(t,e){return"function"==typeof e?function(t,e){return new _v((function(n,r){var i=new XMLHttpRequest;i.onprogress=function(t){t.lengthComputable&&"function"==typeof e&&e(t)},i.onloadend=function(t){i.status>=200&&300>i.status||304===i.status?n(sw.createObjectURL(i.response)):r(t)},i.open("GET",t),i.responseType="blob",i.send()}))}(t,(function(t){return e(t.loaded/t.total)})).then((function(t){return uw(t).then((function(e){return sw.revokeObjectURL(t),e}))})).catch((function(){return uw(t)})):uw(t)}var cw=function(t){function e(e){var n,r=e.container,i=e.style,o=e.className,a=e.src,s=void 0===a?"":a,u=e.viewBox,l=e.loading,c=e.error,f=e.active,h=void 0===f||f,p=null;return(n=t.call(this,{transitionEl:function(){return null==p?void 0:p()},rotation:ja()?void 0:[-Number.MAX_VALUE,Number.MAX_VALUE],scalation:ja()?void 0:[.1,10]})||this)._viewBox=null,n._src="",n._active=!1,n._wrapper=Di({className:["preview-image__image__wrapper",o||""],style:i},null,r),n._loading=l||null,n._error=c||null,n.setViewBox(u),n.setSrc(s),n.setActive(h),p=function(){return n.getImageElement()},n}pi(e,t);var n=e.prototype;return n.getElement=function(){return this._wrapper},n.getImageElement=function(){return this._image||null},n.setActive=function(t){void 0===t&&(t=!0),this._active=t,this.load()},n.setSrc=function(t){this._src=t||"",this._image=void 0;var e=this.getElement();if(e){e.innerHTML="";var n=this._loading;!1!==n&&e.appendChild(Mi(n)||Di("span",{className:"preview-image__image__loading",style:{background:"url(data:image/svg+xml,%3Csvg%20width%3D%22100%25%22%20height%3D%22100%25%22%20viewBox%3D%220%200%2080%2080%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%3Cdefs%3E%20%20%20%20%3ClinearGradient%20%20%20%20%20%20x1%3D%2294.0869141%25%22%20%20%20%20%20%20y1%3D%220%25%22%20%20%20%20%20%20x2%3D%2294.0869141%25%22%20%20%20%20%20%20y2%3D%2290.559082%25%22%20%20%20%20%20%20id%3D%22linearGradient-1%22%20%20%20%20%3E%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23fff%22%20stop-opacity%3D%220%22%20offset%3D%220%25%22%20%2F%3E%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23fff%22%20stop-opacity%3D%220.3%22%20offset%3D%22100%25%22%20%2F%3E%20%20%20%20%3C%2FlinearGradient%3E%20%20%20%20%3ClinearGradient%20%20%20%20%20%20x1%3D%22100%25%22%20%20%20%20%20%20y1%3D%228.67370605%25%22%20%20%20%20%20%20x2%3D%22100%25%22%20%20%20%20%20%20y2%3D%2290.6286621%25%22%20%20%20%20%20%20id%3D%22linearGradient-2%22%20%20%20%20%3E%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23fff%22%20offset%3D%220%25%22%20%2F%3E%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23fff%22%20stop-opacity%3D%220.3%22%20offset%3D%22100%25%22%20%2F%3E%20%20%20%20%3C%2FlinearGradient%3E%20%20%3C%2Fdefs%3E%20%20%3Cg%20%20%20%20stroke%3D%22none%22%20%20%20%20stroke-width%3D%221%22%20%20%20%20fill%3D%22none%22%20%20%20%20fill-rule%3D%22evenodd%22%20%20%20%20opacity%3D%220.9%22%20%20%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%3Cpath%20%20%20%20%20%20%20%20d%3D%22M40%2C0%20C62.09139%2C0%2080%2C17.90861%2080%2C40%20C80%2C62.09139%2062.09139%2C80%2040%2C80%20L40%2C73%20C58.2253967%2C73%2073%2C58.2253967%2073%2C40%20C73%2C21.7746033%2058.2253967%2C7%2040%2C7%20L40%2C0%20Z%22%20%20%20%20%20%20%20%20fill%3D%22url%28%23linearGradient-1%29%22%20%20%20%20%20%20%2F%3E%20%20%20%20%20%20%3Cpath%20%20%20%20%20%20%20%20d%3D%22M40%2C0%20L40%2C7%20C21.7746033%2C7%207%2C21.7746033%207%2C40%20C7%2C58.2253967%2021.7746033%2C73%2040%2C73%20L40%2C80%20C17.90861%2C80%200%2C62.09139%200%2C40%20C0%2C17.90861%2017.90861%2C0%2040%2C0%20Z%22%20%20%20%20%20%20%20%20fill%3D%22url%28%23linearGradient-2%29%22%20%20%20%20%20%20%2F%3E%20%20%20%20%20%20%3Ccircle%20id%3D%22Oval%22%20fill%3D%22%23fff%22%20cx%3D%2240.5%22%20cy%3D%223.5%22%20r%3D%223.5%22%20%2F%3E%20%20%20%20%3C%2Fg%3E%20%20%20%20%3CanimateTransform%20%20%20%20%20%20attributeName%3D%22transform%22%20%20%20%20%20%20begin%3D%220s%22%20%20%20%20%20%20dur%3D%221s%22%20%20%20%20%20%20type%3D%22rotate%22%20%20%20%20%20%20values%3D%220%2040%2040%3B360%2040%2040%22%20%20%20%20%20%20repeatCount%3D%22indefinite%22%20%20%20%20%2F%3E%20%20%3C%2Fg%3E%3C%2Fsvg%3E)"}})),this._active&&this.load()}},n.setViewBox=function(t){this._viewBox=t||null,this.resize()},n.load=function(){var t=this,e=this.getElement();e&&void 0===this._image&&(this._image=null,lw(this._src).then((function(n){t._image=n,t.resize(),e.innerHTML="",e.appendChild(n)})).catch((function(){t._image=null,e.innerHTML="";var n=t._error;!1!==n&&e.appendChild(Mi(n)||Di({className:"preview-image__image__error"},[Di("span",{style:{background:"url(data:image/svg+xml,%3Csvg%20width%3D%22100%25%22%20height%3D%22100%25%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%23fff%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%3Cpath%20%20%20%20d%3D%22M12%2022C6.477%2022%202%2017.523%202%2012S6.477%202%2012%202s10%204.477%2010%2010-4.477%2010-10%2010zm-.763-15.864l.11%207.596h1.305l.11-7.596h-1.525zm.759%2010.967c.512%200%20.902-.383.902-.882%200-.5-.39-.882-.902-.882a.878.878%200%2000-.896.882c0%20.499.396.882.896.882z%22%20%2F%3E%3C%2Fsvg%3E)"}}),Di("span",{},"å¾çå è½½å¤±è´¥")]))})))},n.resize=function(){var e=this._image;if(e){var n=this._viewBox||{},r=n.left,i=n.top,o=n.width,a=void 0===o?0:o,s=n.height,u=void 0===s?0:s,l=t.prototype.sizePosition.call(this,{containerCenter:[(void 0===r?0:r)+a/2,(void 0===i?0:i)+u/2],containerWidth:a,containerHeight:u,naturalWidth:e.naturalWidth,naturalHeight:e.naturalHeight}),c=l.elementHeight;e.width=l.elementWidth,e.height=c}},n.destory=function(){this._wrapper=null,this._image=void 0,this._viewBox=null,this._loading=null,this._error=null},e}(ud);function fw(t){if(!ja()){var e=this.currentItem();if(!(this.running()||null!=e&&e.running())){var n=-this.activeIndex()*this.itemSize();if(0===Math.round(this.value().transform.default-n)){var r=t.angle,i=void 0===r?0:r;isNaN(i)?null==e||e.resetBounce():null==e||e.moveBounce(i,1,0,0)}}}}function hw(t){if(!ja()){var e=this.currentItem();if(!(this.running()||null!=e&&e.running())){var n=-this.activeIndex()*this.itemSize();if(0===Math.round(this.value().transform.default-n)){var r=t.scale,i=void 0===r?1:r;isNaN(i)?null==e||e.resetBounce():null==e||e.moveBounce(0,i,0,0)}}}}function pw(t,e){var n=e.popupMenu,r=this.currentItem();this.running()||null!=r&&r.running()||null==n||n(t)}function vw(t,e){var n=e.internalClose,r=this.currentItem();this.running()||null!=r&&r.running()||null==n||n(t)}function dw(t,e){var n=e.internalClose,r=e.slideBefore,i=e.slideAfter,o=this.currentItem();if(!(this.running()||null!=o&&o.running())){var a=t.direction,s="Right"===a&&this.isHorizontal()||"Down"===a&&this.isVertical(),u=-this.activeIndex()*this.itemSize(),l=this.value().transform.default-u,c=(s&&0>l||!s&&l>0)&&0!==Math.round(l)?-l:0;if("inside"!==this._moveTarget)if("closures"!==this._moveTarget){var f=this.itemSize(),h=0===f?0:-this.value().transform.default/f;this.slide(Math[s?"floor":"ceil"](h),{before:r,after:i})}else{this._moveTarget="none";var p="Down"===a&&this.isHorizontal()||"Right"===a&&this.isVertical();this.swipeClose()&&p&&(null==n||n(t))}else if(o){var v=t.velocity,d=t.swipeComputed;if((void 0===v?0:v)>0&&d){var m=this,g=function(t,e,n,r){if(0!==e){var i,a,s=r(e+n),f=s.duration,h=s.easing;if(0!==n)_v.all([0!==c?m.apply(new Uv(u),Mr({},Vv,{duration:f,easing:h,before:function(t){return Math.min(Math.abs(c+e+n)*t/Math.abs(c),1)}})):_v.resolve(),o.apply(new Uv((i={},i[t]=(o.value().transform[t]||0)+e,i)),Mr({},Vv,{duration:f,easing:h,before:function(t){return Math.min(Math.max((Math.abs(c+e+n)*t-Math.abs(c))/Math.abs(e),0),1)}})),m.apply(new Uv(u+n),Mr({},Vv,{duration:f,easing:h,before:function(t){return Math.max((Math.abs(c+e+n)*t-Math.abs(c)-Math.abs(e))/Math.abs(n),0)}}))]).then((function(){m.apply(new Uv(u),Mr({},Vv))}));else 0!==c&&m.apply(new Uv(u),Mr({},Vv,{duration:f,easing:h,before:function(t){return Math.min(Math.abs(c+e)*t/Math.abs(c),1)}})),o.apply(new Uv(((a={})[t]=(o.value().transform[t]||0)+e,a)),Mr({},Vv,{duration:f,easing:h,before:function(t){return Math.max((Math.abs(c+e)*t-Math.abs(c))/Math.abs(e),0)}}))}else{var p=l>0?1:-1,v=Math.max((n-l)*p,0)*p,d=r(v),g=d.duration,y=d.easing;0===v?m.apply(new Uv(u),Mr({},Vv)):m.apply(new Uv(u+l+v),Mr({},Vv,{duration:g,easing:y})).then((function(){m.apply(new Uv(u),Mr({},Vv))}))}},y=d(.003),w=y.duration,_=y.stretchX,b=y.stretchY;if(this.isVertical()){var T=o.getXTranslation();0===T[0]&&0===T[1]||o.swipeBounce(w,_,"x"),o.swipeBounce(w,b-c,"y",g)}else{o.swipeBounce(w,_-c,"x",g);var x=o.getYTranslation();0===x[0]&&0===x[1]||o.swipeBounce(w,b,"y")}}}else this.slide(this.activeIndex(),{before:r,after:i})}}function mw(t){var e=this.currentItem();if(!(this.running()||null!=e&&e.running())){var n=-this.activeIndex()*this.itemSize();0===Math.round(this.value().transform.default-n)&&(null==e||e.dblScale(t.getPoint()))}}var gw=["x","y"];function yw(t,e){var n=e.preventAllTap;0===this._fgBehavior&&t.pointers.length>1&&(this._fgBehavior=2);var r=0;r+=this.cancel();var i=this.currentItem();if((r+=(null==i?void 0:i.cancel())||0)>0){if(i){var o=i.value().transform,a=o.x,s=void 0===a?0:a,u=o.y,l=void 0===u?0:u,c=as(o,gw),f=i.getTranslation(),h=f[0],p=f[1],v=0===this.activeIndex(),d=this.activeIndex()===this.countItems()-1;this.isVertical()?od(s,h)||(l>p[0]||d)&&(p[1]>l||v)||i.apply(new Uv(Mr({x:ad(s,h),y:l},c))):od(l,p)||(s>h[0]||d)&&(h[1]>s||v)||i.apply(new Uv(Mr({x:s,y:ad(l,p)},c)))}null==n||n()}}var ww=function(t,e,n){var r=e[0],i=e[1],o=n[0],a=n[1];return t?Math.abs(r-o)>4*Math.abs(i-a)&&0>=r-o:Math.abs(i-a)>4*Math.abs(r-o)&&0>=i-a};function _w(t,e){var n=this,r=e.openStyleChange;0===this._fgBehavior&&1===t.pointers.length&&(this._fgBehavior=1);var i=this.currentItem();if(!(this.running()||null!=i&&i.running())){var o=1===t.pointers.length||1===this._fgBehavior,a={max:this.itemSize()},s=t.getPoint,u=t.direction,l=t.angle,c=void 0===l?0:l,f=t.scale,h=void 0===f?1:f,p=t.deltaX,v=void 0===p?0:p,d=t.deltaY,m=void 0===d?0:d,g=t.moveX,y=void 0===g?0:g,w=t.moveY,_=void 0===w?0:w,b=s();if("none"===this._moveTarget){var T=s("previous");if(i){if(this._moveTarget="inside",o){var x=0===this.activeIndex(),P=this.activeIndex()===this.countItems()-1,S=ww(this.isVertical(),T,b),E=i.value().transform,C=E.x,M=void 0===C?0:C,D=E.y,O=void 0===D?0:D,k=i.getTranslation(),A=k[0],I=k[1];if(this.isVertical())if(this.swipeClose()&&M>=A[1]&&S)this._moveTarget="closures";else{var L=0===A[0]&&0===A[1];(I[0]>=O&&(L?0>m:"Up"===u)&&!P||O>=I[1]&&(L?m>0:"Down"===u)&&!x)&&(this._moveTarget="outside")}else if(this.swipeClose()&&O>=I[1]&&S)this._moveTarget="closures";else{var j=0===I[0]&&0===I[1];(A[0]>=M&&(j?0>v:"Left"===u)&&!P||M>=A[1]&&(j?v>0:"Right"===u)&&!x)&&(this._moveTarget="outside")}}}else this._moveTarget=this.swipeClose()&&ww(this.isVertical(),T,b)?"closures":"outside"}if("inside"!==this._moveTarget)if("closures"!==this._moveTarget){var R=[(1-this.countItems())*this.itemSize(),0],B=ad(this.value().transform.default,R),F=B+nd(this.value().transform.default-B,a);B=ad(F+=this.isVertical()?m:v,R),F=B+ed(F-B,a),this.apply(new Uv(F))}else null==r||r((function(t,e){var r=e.width,i=void 0===r?0:r,o=e.height,a=void 0===o?0:o,s=e.left,u=void 0===s?0:s,l=e.top,c=void 0===l?0:l,f=Math.min(Math.max(1-((n.isVertical()?y/i:_/a)||0),.3),1),h=t.k,p=void 0===h?1:h,d=t.x,g=void 0===d?0:d,w=t.y,T=void 0===w?0:w;return{o:.01+.99*(f-.3)/.7,k:f,x:g+v+(b[0]-(g+u+i/2))*(1-f/p),y:T+m+(b[1]-(T+c+a/2))*(1-f/p)}}));else if(i){var z=-this.activeIndex()*this.itemSize(),U=nd(this.value().transform.default-z,a),H=v,N=m;if(this.isVertical()?N+=U:H+=U,o){var X=i.value().transform,q=X.x,Y=void 0===q?0:q,G=X.y,V=void 0===G?0:G,W=i.getTranslation(),$=W[0],J=W[1],Z=0;if(this.isVertical())Z=N,H=0===$[0]&&0===$[1]?0:H,Z-=N=ad(N+V,J)-V;else Z=H,N=0===J[0]&&0===J[1]?0:N,Z-=H=ad(H+Y,$)-Y;i.moveBounce(0,1,H,N,b),this.apply(new Uv(z+ed(Z,a)))}else i.moveBounce(c,h,H,N,b),0!==U&&this.apply(new Uv(z))}}}function bw(t,e){var n=e.openStyleChange,r=e.slideBefore,i=e.slideAfter,o=this._moveTarget,a=1===t.leavePointers.length||1===this._fgBehavior;if(0===t.pointers.length)this._fgBehavior=0,this._moveTarget="none";else if(1===this._fgBehavior){if(!this.running()&&"outside"===o){var s=this.itemSize(),u=0===s?0:-this.value().transform.default/s;this.slide(Math.round(u),{before:r,after:i})}return}var l=this.currentItem();if(!(this.running()||null!=l&&l.running()))if("closures"!==o){null==l||l.resetBounce(t.getPoint(),a);var c=this.activeIndex();if("outside"===o){var f=this.itemSize();c=Math.round(0===f?0:-this.value().transform.default/f)}this.slide(c,{before:r,after:i})}else null==n||n((function(){return{o:1,k:1,x:0,y:0,t:300}}))}var Tw=function(t){function e(e){var n,r=e.container,i=e.style,o=e.className,a=e.backdropStyle,s=e.backdropClassName,u=e.wrapperStyle,l=e.wrapperClassName,c=e.indicatorStyle,f=e.indicatorClassName,h=e.current,p=void 0===h?0:h,v=e.imageUrls,d=void 0===v?[]:v,m=e.direction,g=void 0===m?"horizontal":m,y=e.itemGap,w=void 0===y?20:y,_=e.isLazy,b=void 0===_||_,T=e.hasIndicator,x=void 0===T||T,P=e.destroyOnClose,S=void 0!==P&&P,E=e.enableSwipeClose,C=void 0===E||E,M=e.loading,D=e.error,O=e.originBox,k=e.onPopupMenu,A=e.onChange,I=e.onAfterChange,L=e.onClose,j=e.onAfterClose,R=e.onAfterOpenChange,B=null;(n=t.call(this,{transitionEl:function(){return null==B?void 0:B()}})||this)._openStyle=null,n._originBox=null,n._viewBox=null,n._overflow="",n._destoryOnClose=!1,n._itemGap=0;var F=d.length,z=p&&p>=0&&F>p?p:0,U=n._container=Di({className:["preview-image__gallery__container","preview-image__gallery__container-"+g,o||""],style:i},null,Mi(r)||document.body),H=n._backdrop=Di({className:["preview-image__gallery__backdrop",s||""],style:Mr({backgroundColor:"#000f"},a||{})},null,U),N=n._wrapper=Di({className:["preview-image__gallery__wrapper",l||""],style:u},null,U),X=n._indicator=x&&F>1?Di({className:["preview-image__gallery__indicator",f||""],style:c},null,U):null,q=[];d.forEach((function(e,r){X&&q.push(Di("span",{className:["preview-image__gallery__indicator-item",z===r?"active":""]},null,X));var i=new cw({container:N,src:e,active:!b||z===r,loading:M,error:D});t.prototype.itemModels.call(Dr(n),i,r)})),n.setOriginBox(O),n.setDestoryOnClose(S),n.setItemGap(w),n.setDirection(g),n.enableSwipeClose(C),n.slide(z,{duration:0,before:A,after:I});var Y=new Wa(U),G=function(e,r){e.call(Dr(n),r,{preventAllTap:function(){Y.preventAllTap()},popupMenu:function(t){null==k||k(t)},internalClose:function(t){null==L||L(t)},openStyleChange:function(t){n.openStyle(t(n._openStyle||{},n._viewBox||{}))},slideBefore:function(e){t.prototype.itemModels.call(Dr(n)).forEach((function(t,n){t.setActive(e===n);var r=q[n];n!==e&&Si(r,"active")&&Ci(r,"active"),n!==e||Si(r,"active")||Ei(r,"active")})),null==A||A(e)},slideAfter:function(t){return null==I?void 0:I(t)}})};Y.on("pointerStart",(function(t){return G(yw,t)})),Y.on("pointerMove",(function(t){return G(_w,t)})),Y.on("pointerEnd",(function(t){return G(bw,t)})),Y.on("doubleTap",(function(t){return G(mw,t)})),Y.on("singleTap",(function(t){return G(vw,t)})),Y.on("longTap",(function(t){return G(pw,t)})),Y.on("rotate",(function(t){return G(fw,t)})),Y.on("scale",(function(t){return G(hw,t)})),Y.on("swipe",(function(t){return G(dw,t)}));var V=function(t){if(t.target===H&&"opacity"===t.propertyName){var e=n._openStyle||{},r=e.o,i=e.k,o=e.x,a=e.y,s=e.end,u=e.open,l=void 0!==u&&u;s&&(l||null==j||j(),null==R||R(l)),n.openStyle({o:r,k:i,x:o,y:a}),null==s||s()}};H.addEventListener("transitionend",V);var W=function(t){t.preventDefault(),t.stopPropagation()},$=function(){return n.updateViewBox()};return window.addEventListener("resize",$),window.addEventListener("contextmenu",W),n._unbind=function(){Y.destory(),H.removeEventListener("transitionend",V),window.removeEventListener("resize",$),window.removeEventListener("contextmenu",W)},B=function(){return N},n}pi(e,t);var n=e.prototype;return n.updateViewBox=function(){var e=this._viewBox=Oi(this._container);t.prototype.itemModels.call(this).forEach((function(t){return t.setViewBox(e)})),this.updateImageSize()},n.updateImageGap=function(){var e=this;t.prototype.itemModels.call(this).forEach((function(t,n){return Pi(t.getElement(),{marginTop:e.isVertical()&&0!==n?e._itemGap:0,marginLeft:e.isVertical()||0===n?0:e._itemGap})}))},n.updateImageSize=function(){var e=this._viewBox||{},n=e.width,r=void 0===n?0:n,i=e.height,o=void 0===i?0:i,a=this.isVertical()?o:r;t.prototype.itemSize.call(this,a=a?a+this._itemGap:0),a=a*this.countItems()-this._itemGap,this.isVertical()?o=a:r=a,Pi(this._wrapper,{width:r,height:o})},n.setDestoryOnClose=function(t){this._destoryOnClose=t||!1},n.setOriginBox=function(t){this._originBox=t||null},n.setItemGap=function(t){this._itemGap=t||0,this.updateImageGap(),this.updateImageSize()},n.setDirection=function(e){var n=e||"horizontal";Ei(Ci(this._container,"preview-image__gallery__container-"+t.prototype.direction.call(this)),"preview-image__gallery__container-"+n),t.prototype.direction.call(this,n),this.updateImageGap(),this.updateImageSize()},n.currentItem=function(e){void 0===e&&(e=!0);var n=t.prototype.currentItem.call(this);return!e||null!=n&&n.getImageElement()?n:null},n.enableSwipeClose=function(e){t.prototype.swipeClose.call(this,e||!1)},n.destory=function(){var e,n;null==(e=this._unbind)||e.call(this),null==(n=this._container)||null==(n=n.parentNode)||n.removeChild(this._container),t.prototype.itemModels.call(this,[]),this._indicator=null,this._backdrop=null,this._wrapper=null,this._container=null,this._openStyle=null,this._originBox=null,this._viewBox=null,this._unbind=null},n.animateOpen=function(t,e){var n=this.currentItem(!1);null==n||n.reset();var r=(null==n?void 0:n.sizePosition())||{},i=r.elementWidth,o=void 0===i?0:i,a=r.elementHeight,s=void 0===a?0:a,u=this._originBox||{},l=u.left,c=u.top,f=u.width,h=void 0===f?0:f,p=u.height,v=void 0===p?0:p,d=this._viewBox||{},m=d.left,g=d.top,y=d.width,w=void 0===y?0:y,_=d.height,b=void 0===_?0:_,T=.001,x=0,P=0,S=0,E=0;if(w>0&&b>0&&h>0&&v>0&&(x=(void 0===l?0:l)+h/2-((void 0===m?0:m)+w/2),P=(void 0===c?0:c)+v/2-((void 0===g?0:g)+b/2)),o>0&&s>0&&h>0&&v>0){var C=o/s>h/v;T=C?v/s:h/o,S=C?s*(h/v):o,E=C?s:o/(h/v)}var M={o:0,k:T,x:x,y:P,w:S,h:E},D={o:1,k:1,x:0,y:0,w:o,h:s};this.openStyle(Mr({},t?M:Mr({},D,this._openStyle))),Oi(this._container),this.openStyle(Mr({},t?D:M,{t:300,end:e,open:t}))},n.openStyle=function(t){this._openStyle=t;var e=t.k,n=t.x,r=t.y,i=t.w,o=t.h,a=t.t;Pi(this._backdrop,{opacity:t.o,transition:a?"opacity "+a+"ms":""});var s=this.currentItem(!1);Pi(null==s?void 0:s.getElement(),{transform:"translate("+n+"px,"+r+"px) scale("+e+")",transition:a?"transform "+a+"ms":"",overflow:1>(e||1)||a?"visible":void 0}),Pi(null==s?void 0:s.getImageElement(),{width:i||void 0,height:o||void 0,transition:a&&i&&o?"width "+a+"ms, height "+a+"ms":"",objectFit:i&&o?"cover":void 0})},n.lockOverflow=function(t){void 0===t&&(t=!0);var e=document.body,n=e.parentElement;if(t){var r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth,i=function(t){if("boolean"==typeof t){var e=bi(t);return{width:e,height:e}}if(!("undefined"!=typeof document&&t&&t instanceof Element))return{width:0,height:0};var n=getComputedStyle(t,"::-webkit-scrollbar"),r=n.height;return{width:Ti(n.width),height:Ti(r)}}(e).width,o=r?"calc(100% - "+i+"px)":"",a=[];a[0]=e.style.overflow,e.style.overflow="hidden",a[1]=e.style.width,e.style.width=o,n&&(a[2]=n.style.overflow,n.style.overflow="hidden",a[3]=n.style.width,n.style.width=o),this._overflow=a.join("-")}else{var s=this._overflow.split("-");this._overflow="",e.style.overflow=s[0],e.style.width=s[1],n&&(n.style.overflow=s[2],n.style.width=s[3])}},n.open=function(){var t=this;Ei(this._container,"visible"),this.updateViewBox(),this.lockOverflow(!0),this.animateOpen(!0,(function(){Ei(t._indicator,"visible")}))},n.close=function(){var t=this;Ci(this._indicator,"visible"),this.lockOverflow(!1),this.animateOpen(!1,(function(){t._destoryOnClose?t.destory():Ci(t._container,"visible")}))},e}(Jv);t.Gallery=Tw,t.Image=cw,t.default=function(t){var e=void 0===t?{}:t,n=e.urls,r=void 0===n?[]:n,i=e.current,o=e.showMenu,a=e.originBox,s=r.indexOf(void 0===i?"":i),u=new Tw({current:s,imageUrls:r,originBox:a,destroyOnClose:!0,enableSwipeClose:!0,onPopupMenu:o,onClose:function(){u.close()}});u.open()},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=preview-image.min.js.map
