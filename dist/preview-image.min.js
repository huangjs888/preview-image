!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).RawPreviewImage={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r=function(t){return t&&t.Math==Math&&t},i=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||function(){return this}()||e||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},a=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),s=Function.prototype,u=s.apply,c=s.call,l="object"==typeof Reflect&&Reflect.apply||(a?c.bind(u):function(){return c.apply(u,arguments)}),f=a,h=Function.prototype,p=h.call,v=f&&h.bind.bind(p,p),d=f?v:function(t){return function(){return p.apply(t,arguments)}},m=d,g=m({}.toString),y=m("".slice),w=function(t){return y(g(t),8,-1)},_=w,b=d,T=function(t){if("Function"===_(t))return b(t)},P="object"==typeof document&&document.all,S={all:P,IS_HTMLDDA:void 0===P&&void 0!==P},E=S.all,x=S.IS_HTMLDDA?function(t){return"function"==typeof t||t===E}:function(t){return"function"==typeof t},C={},M=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),D=Function.prototype.call,A=a?D.bind(D):function(){return D.apply(D,arguments)},k={},I={}.propertyIsEnumerable,O=Object.getOwnPropertyDescriptor,L=O&&!I.call({1:2},1);k.f=L?function(t){var e=O(this,t);return!!e&&e.enumerable}:I;var j,R,F=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},z=o,U=w,H=Object,B=d("".split),N=z((function(){return!H("z").propertyIsEnumerable(0)}))?function(t){return"String"==U(t)?B(t,""):H(t)}:H,X=function(t){return null==t},q=X,Y=TypeError,G=function(t){if(q(t))throw Y("Can't call method on "+t);return t},V=N,W=G,$=function(t){return V(W(t))},Z=x,J=S.all,Q=S.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:Z(t)||t===J}:function(t){return"object"==typeof t?null!==t:Z(t)},K={},tt=K,et=i,nt=x,rt=function(t){return nt(t)?t:void 0},it=function(t,e){return 2>arguments.length?rt(tt[t])||rt(et[t]):tt[t]&&tt[t][e]||et[t]&&et[t][e]},ot=d({}.isPrototypeOf),at="undefined"!=typeof navigator&&navigator.userAgent+""||"",st=at,ut=i.process,ct=i.Deno,lt=ut&&ut.versions||ct&&ct.version,ft=lt&&lt.v8;ft&&(R=(j=ft.split("."))[0]>0&&4>j[0]?1:+(j[0]+j[1])),!R&&st&&((j=st.match(/Edge\/(\d+)/))&&74>j[1]||(j=st.match(/Chrome\/(\d+)/))&&(R=+j[1]));var ht=R,pt=ht,vt=i.String,dt=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!vt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&pt&&41>pt})),mt=dt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,gt=it,yt=x,wt=ot,_t=Object,bt=mt?function(t){return"symbol"==typeof t}:function(t){var e=gt("Symbol");return yt(e)&&wt(e.prototype,_t(t))},Tt=String,Pt=function(t){try{return Tt(t)}catch(t){return"Object"}},St=x,Et=Pt,xt=TypeError,Ct=function(t){if(St(t))return t;throw xt(Et(t)+" is not a function")},Mt=Ct,Dt=X,At=function(t,e){var n=t[e];return Dt(n)?void 0:Mt(n)},kt=A,It=x,Ot=Q,Lt=TypeError,jt={exports:{}},Rt=i,Ft=Object.defineProperty,zt="__core-js_shared__",Ut=i[zt]||function(t,e){try{Ft(Rt,t,{value:e,configurable:!0,writable:!0})}catch(n){Rt[t]=e}return e}(zt,{}),Ht=Ut;(jt.exports=function(t,e){return Ht[t]||(Ht[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.32.0",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Bt=jt.exports,Nt=G,Xt=Object,qt=function(t){return Xt(Nt(t))},Yt=qt,Gt=d({}.hasOwnProperty),Vt=Object.hasOwn||function(t,e){return Gt(Yt(t),e)},Wt=d,$t=0,Zt=Math.random(),Jt=Wt(1..toString),Qt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Jt(++$t+Zt,36)},Kt=Vt,te=Qt,ee=dt,ne=mt,re=i.Symbol,ie=Bt("wks"),oe=ne?re.for||re:re&&re.withoutSetter||te,ae=function(t){return Kt(ie,t)||(ie[t]=ee&&Kt(re,t)?re[t]:oe("Symbol."+t)),ie[t]},se=A,ue=Q,ce=bt,le=At,fe=function(t,e){var n,r;if("string"===e&&It(n=t.toString)&&!Ot(r=kt(n,t)))return r;if(It(n=t.valueOf)&&!Ot(r=kt(n,t)))return r;if("string"!==e&&It(n=t.toString)&&!Ot(r=kt(n,t)))return r;throw Lt("Can't convert object to primitive value")},he=TypeError,pe=ae("toPrimitive"),ve=function(t,e){if(!ue(t)||ce(t))return t;var n,r=le(t,pe);if(r){if(void 0===e&&(e="default"),n=se(r,t,e),!ue(n)||ce(n))return n;throw he("Can't convert object to primitive value")}return void 0===e&&(e="number"),fe(t,e)},de=bt,me=function(t){var e=ve(t,"string");return de(e)?e:e+""},ge=Q,ye=i.document,we=ge(ye)&&ge(ye.createElement),_e=function(t){return we?ye.createElement(t):{}},be=_e,Te=!M&&!o((function(){return 7!=Object.defineProperty(be("div"),"a",{get:function(){return 7}}).a})),Pe=A,Se=k,Ee=F,xe=$,Ce=me,Me=Vt,De=Te,Ae=Object.getOwnPropertyDescriptor;C.f=M?Ae:function(t,e){if(t=xe(t),e=Ce(e),De)try{return Ae(t,e)}catch(t){}if(Me(t,e))return Ee(!Pe(Se.f,t,e),t[e])};var ke=o,Ie=x,Oe=/#|\.prototype\./,Le=function(t,e){var n=Re[je(t)];return n==ze||n!=Fe&&(Ie(e)?ke(e):!!e)},je=Le.normalize=function(t){return(t+"").replace(Oe,".").toLowerCase()},Re=Le.data={},Fe=Le.NATIVE="N",ze=Le.POLYFILL="P",Ue=Le,He=Ct,Be=a,Ne=T(T.bind),Xe=function(t,e){return He(t),void 0===e?t:Be?Ne(t,e):function(){return t.apply(e,arguments)}},qe={},Ye=M&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ge=Q,Ve=String,We=TypeError,$e=function(t){if(Ge(t))return t;throw We(Ve(t)+" is not an object")},Ze=Te,Je=$e,Qe=me,Ke=TypeError,tn=Object.defineProperty,en=Object.getOwnPropertyDescriptor,nn="enumerable",rn="configurable",on="writable";qe.f=M?Ye?function(t,e,n){if(Je(t),e=Qe(e),Je(n),"function"==typeof t&&"prototype"===e&&"value"in n&&on in n&&!n[on]){var r=en(t,e);r&&r[on]&&(t[e]=n.value,n={configurable:rn in n?n[rn]:r[rn],enumerable:nn in n?n[nn]:r[nn],writable:!1})}return tn(t,e,n)}:tn:function(t,e,n){if(Je(t),e=Qe(e),Je(n),Ze)try{return tn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ke("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var an=qe,sn=F,un=M?function(t,e,n){return an.f(t,e,sn(1,n))}:function(t,e,n){return t[e]=n,t},cn=i,ln=l,fn=T,hn=x,pn=C.f,vn=Ue,dn=K,mn=Xe,gn=un,yn=Vt,wn=function(t){var e=function(n,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,i)}return ln(t,this,arguments)};return e.prototype=t.prototype,e},_n=function(t,e){var n,r,i,o,a,s,u,c,l,f=t.target,h=t.global,p=t.stat,v=t.proto,d=h?cn:p?cn[f]:(cn[f]||{}).prototype,m=h?dn:dn[f]||gn(dn,f,{})[f],g=m.prototype;for(o in e)r=!(n=vn(h?o:f+(p?".":"#")+o,t.forced))&&d&&yn(d,o),s=m[o],r&&(u=t.dontCallGetSet?(l=pn(d,o))&&l.value:d[o]),a=r&&u?u:e[o],r&&typeof s==typeof a||(c=t.bind&&r?mn(a,cn):t.wrap&&r?wn(a):v&&hn(a)?fn(a):a,(t.sham||a&&a.sham||s&&s.sham)&&gn(c,"sham",!0),gn(m,o,c),v&&(yn(dn,i=f+"Prototype")||gn(dn,i,{}),gn(dn[i],o,a),t.real&&g&&(n||!g[o])&&gn(g,o,a)))},bn=Math.ceil,Tn=Math.floor,Pn=Math.trunc||function(t){var e=+t;return(e>0?Tn:bn)(e)},Sn=Pn,En=function(t){var e=+t;return e!=e||0===e?0:Sn(e)},xn=En,Cn=Math.max,Mn=Math.min,Dn=function(t,e){var n=xn(t);return 0>n?Cn(n+e,0):Mn(n,e)},An=En,kn=Math.min,In=function(t){return t>0?kn(An(t),9007199254740991):0},On=function(t){return In(t.length)},Ln=$,jn=Dn,Rn=On,Fn=function(t){return function(e,n,r){var i,o=Ln(e),a=Rn(o),s=jn(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},zn={includes:Fn(!0),indexOf:Fn(!1)},Un={},Hn=Vt,Bn=$,Nn=zn.indexOf,Xn=Un,qn=d([].push),Yn=function(t,e){var n,r=Bn(t),i=0,o=[];for(n in r)!Hn(Xn,n)&&Hn(r,n)&&qn(o,n);for(;e.length>i;)Hn(r,n=e[i++])&&(~Nn(o,n)||qn(o,n));return o},Gn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Vn=Yn,Wn=Gn,$n=Object.keys||function(t){return Vn(t,Wn)},Zn={};Zn.f=Object.getOwnPropertySymbols;var Jn=M,Qn=A,Kn=o,tr=$n,er=Zn,nr=k,rr=qt,ir=N,or=Object.assign,ar=Object.defineProperty,sr=d([].concat),ur=!or||Kn((function(){if(Jn&&1!==or({b:1},or(ar({},"a",{enumerable:!0,get:function(){ar(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=or({},t)[n]||tr(or({},e)).join("")!=r}))?function(t,e){for(var n=rr(t),r=arguments.length,i=1,o=er.f,a=nr.f;r>i;)for(var s,u=ir(arguments[i++]),c=o?sr(tr(u),o(u)):tr(u),l=c.length,f=0;l>f;)s=c[f++],Jn&&!Qn(a,u,s)||(n[s]=u[s]);return n}:or;_n({target:"Object",stat:!0,arity:2,forced:Object.assign!==ur},{assign:ur});var cr=K.Object.assign,lr=n(cr),fr=d([].slice),hr=d,pr=Ct,vr=Q,dr=Vt,mr=fr,gr=a,yr=Function,wr=hr([].concat),_r=hr([].join),br={},Tr=gr?yr.bind:function(t){var e=pr(this),n=e.prototype,r=mr(arguments,1),i=function(){var n=wr(r,mr(arguments));return this instanceof i?function(t,e,n){if(!dr(br,e)){for(var r=[],i=0;e>i;i++)r[i]="a["+i+"]";br[e]=yr("C,a","return new C("+_r(r,",")+")")}return br[e](t,n)}(e,n.length,n):e.apply(t,n)};return vr(n)&&(i.prototype=n),i};_n({target:"Function",proto:!0,forced:Function.bind!==Tr},{bind:Tr});var Pr=K,Sr=function(t){return Pr[t+"Prototype"]},Er=Sr("Function").bind,xr=ot,Cr=Er,Mr=Function.prototype,Dr=n((function(t){var e=t.bind;return t===Mr||xr(Mr,t)&&e===Mr.bind?Cr:e}));function Ar(){var t;return Ar=lr?Dr(t=lr).call(t):function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ar.apply(this,arguments)}function kr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ir={},Or=qe,Lr=$e,jr=$,Rr=$n;Ir.f=M&&!Ye?Object.defineProperties:function(t,e){Lr(t);for(var n,r=jr(e),i=Rr(e),o=i.length,a=0;o>a;)Or.f(t,n=i[a++],r[n]);return t};var Fr,zr=it("document","documentElement"),Ur=Qt,Hr=Bt("keys"),Br=function(t){return Hr[t]||(Hr[t]=Ur(t))},Nr=$e,Xr=Ir,qr=Gn,Yr=Un,Gr=zr,Vr=_e,Wr="prototype",$r="script",Zr=Br("IE_PROTO"),Jr=function(){},Qr=function(t){return"<"+$r+">"+t+"</"+$r+">"},Kr=function(t){t.write(Qr("")),t.close();var e=t.parentWindow.Object;return t=null,e},ti=function(){try{Fr=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;ti="undefined"!=typeof document?document.domain&&Fr?Kr(Fr):(e=Vr("iframe"),n="java"+$r+":",e.style.display="none",Gr.appendChild(e),e.src=n+"",(t=e.contentWindow.document).open(),t.write(Qr("document.F=Object")),t.close(),t.F):Kr(Fr);for(var r=qr.length;r--;)delete ti[Wr][qr[r]];return ti()};Yr[Zr]=!0;var ei=Object.create||function(t,e){var n;return null!==t?(Jr[Wr]=Nr(t),n=new Jr,Jr[Wr]=null,n[Zr]=t):n=ti(),void 0===e?n:Xr.f(n,e)};_n({target:"Object",stat:!0,sham:!M},{create:ei});var ni=K.Object,ri=n((function(t,e){return ni.create(t,e)})),ii=d,oi=Ct,ai=x,si=String,ui=TypeError,ci=function(t,e,n){try{return ii(oi(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},li=$e,fi=function(t){if("object"==typeof t||ai(t))return t;throw ui("Can't set "+si(t)+" as a prototype")},hi=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=ci(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return li(n),fi(r),e?t(n,r):n.__proto__=r,n}}():void 0);_n({target:"Object",stat:!0},{setPrototypeOf:hi});var pi=n(K.Object.setPrototypeOf);function vi(t,e){var n;return vi=pi?Dr(n=pi).call(n):function(t,e){return t.__proto__=e,t},vi(t,e)}function di(t,e){t.prototype=ri(e.prototype),t.prototype.constructor=t,vi(t,e)}var mi=w,gi=Array.isArray||function(t){return"Array"==mi(t)},yi=gi,wi=TypeError,_i=Object.getOwnPropertyDescriptor,bi=M&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(yi(t)&&!_i(t,"length").writable)throw wi("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Ti=TypeError,Pi=function(t){if(t>9007199254740991)throw Ti("Maximum allowed index exceeded");return t},Si={};Si[ae("toStringTag")]="z";var Ei=Si+""=="[object z]",xi=Ei,Ci=x,Mi=w,Di=ae("toStringTag"),Ai=Object,ki="Arguments"==Mi(function(){return arguments}()),Ii=xi?Mi:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Ai(t),Di))?n:ki?Mi(e):"Object"==(r=Mi(e))&&Ci(e.callee)?"Arguments":r},Oi=x,Li=Ut,ji=d(Function.toString);Oi(Li.inspectSource)||(Li.inspectSource=function(t){return ji(t)});var Ri=Li.inspectSource,Fi=d,zi=o,Ui=x,Hi=Ii,Bi=Ri,Ni=function(){},Xi=[],qi=it("Reflect","construct"),Yi=/^\s*(?:class|function)\b/,Gi=Fi(Yi.exec),Vi=!Yi.exec(Ni),Wi=function(t){if(!Ui(t))return!1;try{return qi(Ni,Xi,t),!0}catch(t){return!1}},$i=function(t){if(!Ui(t))return!1;switch(Hi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Vi||!!Gi(Yi,Bi(t))}catch(t){return!0}};$i.sham=!0;var Zi=!qi||zi((function(){var t;return Wi(Wi.call)||!Wi(Object)||!Wi((function(){t=!0}))||t}))?$i:Wi,Ji=gi,Qi=Zi,Ki=Q,to=ae("species"),eo=Array,no=function(t){var e;return Ji(t)&&(Qi(e=t.constructor)&&(e===eo||Ji(e.prototype))||Ki(e)&&null===(e=e[to]))&&(e=void 0),void 0===e?eo:e},ro=function(t,e){return new(no(t))(0===e?0:e)},io=me,oo=qe,ao=F,so=function(t,e,n){var r=io(e);r in t?oo.f(t,r,ao(0,n)):t[r]=n},uo=Pt,co=TypeError,lo=o,fo=ht,ho=ae("species"),po=function(t){return fo>=51||!lo((function(){var e=[];return(e.constructor={})[ho]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},vo=_n,mo=qt,go=Dn,yo=En,wo=On,_o=bi,bo=Pi,To=ro,Po=so,So=function(t,e){if(!delete t[e])throw co("Cannot delete property "+uo(e)+" of "+uo(t))},Eo=po("splice"),xo=Math.max,Co=Math.min;vo({target:"Array",proto:!0,forced:!Eo},{splice:function(t,e){var n,r,i,o,a,s,u=mo(this),c=wo(u),l=go(t,c),f=arguments.length;for(0===f?n=r=0:1===f?(n=0,r=c-l):(n=f-2,r=Co(xo(yo(e),0),c-l)),bo(c+n-r),i=To(u,r),o=0;r>o;o++)(a=l+o)in u&&Po(i,o,u[a]);if(i.length=r,r>n){for(o=l;c-r>o;o++)s=o+n,(a=o+r)in u?u[s]=u[a]:So(u,s);for(o=c;o>c-r+n;o--)So(u,o-1)}else if(n>r)for(o=c-r;o>l;o--)s=o+n-1,(a=o+r-1)in u?u[s]=u[a]:So(u,s);for(o=0;n>o;o++)u[o+l]=arguments[o+2];return _o(u,c-r+n),i}});var Mo=Sr("Array").splice,Do=ot,Ao=Mo,ko=Array.prototype,Io=n((function(t){var e=t.splice;return t===ko||Do(ko,t)&&e===ko.splice?Ao:e})),Oo=Xe,Lo=N,jo=qt,Ro=On,Fo=ro,zo=d([].push),Uo=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,l,f){for(var h,p,v=jo(u),d=Lo(v),m=Oo(c,l),g=Ro(d),y=0,w=f||Fo,_=e?w(u,g):n||a?w(u,0):void 0;g>y;y++)if((s||y in d)&&(p=m(h=d[y],y,v),t))if(e)_[y]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:zo(_,h)}else switch(t){case 4:return!1;case 7:zo(_,h)}return o?-1:r||i?i:_}},Ho={forEach:Uo(0),map:Uo(1),filter:Uo(2),some:Uo(3),every:Uo(4),find:Uo(5),findIndex:Uo(6),filterReject:Uo(7)},Bo=Ho.map;_n({target:"Array",proto:!0,forced:!po("map")},{map:function(t){return Bo(this,t,arguments.length>1?arguments[1]:void 0)}});var No=Sr("Array").map,Xo=ot,qo=No,Yo=Array.prototype,Go=n((function(t){var e=t.map;return t===Yo||Xo(Yo,t)&&e===Yo.map?qo:e})),Vo=Ho.filter;_n({target:"Array",proto:!0,forced:!po("filter")},{filter:function(t){return Vo(this,t,arguments.length>1?arguments[1]:void 0)}});var Wo=Sr("Array").filter,$o=ot,Zo=Wo,Jo=Array.prototype,Qo=n((function(t){var e=t.filter;return t===Jo||$o(Jo,t)&&e===Jo.filter?Zo:e})),Ko=_n,ta=gi,ea=Zi,na=Q,ra=Dn,ia=On,oa=$,aa=so,sa=ae,ua=fr,ca=po("slice"),la=sa("species"),fa=Array,ha=Math.max;Ko({target:"Array",proto:!0,forced:!ca},{slice:function(t,e){var n,r,i,o=oa(this),a=ia(o),s=ra(t,a),u=ra(void 0===e?a:e,a);if(ta(o)&&((ea(n=o.constructor)&&(n===fa||ta(n.prototype))||na(n)&&null===(n=n[la]))&&(n=void 0),n===fa||void 0===n))return ua(o,s,u);for(r=new(void 0===n?fa:n)(ha(u-s,0)),i=0;u>s;s++,i++)s in o&&aa(r,i,o[s]);return r.length=i,r}});var pa=Sr("Array").slice,va=ot,da=pa,ma=Array.prototype,ga=n((function(t){var e=t.slice;return t===ma||va(ma,t)&&e===ma.slice?da:e})),ya=function(){function t(){this.events={},this.events={}}var e=t.prototype;return e.one=function(t,e,n){var r=this,i="function"==typeof e?function(){for(var o=arguments.length,a=Array(o),s=0;o>s;s++)a[s]=arguments[s];e.apply(null,a),r.off(t,i,n)}:e;this.on(t,i,n)},e.on=function(t,e,n){var r,i=this.events[t]||{pool:[],single:-1};if("function"==typeof e)if(n)-1===i.single?i.single=i.pool.push(e)-1:i.pool[i.single]=e;else{for(var o=!0,a=0,s=i.pool.length;s>a;a++)if(i.pool[a]===e&&a!==i.single){o=!1;break}o&&i.pool.push(e)}else n&&-1!==i.single&&(Io(r=i.pool).call(r,i.single,1),i.single=-1);this.events[t]=i},e.off=function(t,e,n){if(void 0===t)this.events={};else if(void 0===e)delete this.events[t];else if(n){var r,i=this.events[t];i&&-1!==i.single&&(Io(r=i.pool).call(r,i.single,1),i.single=-1)}else{var o=this.events[t];if(o)for(var a=o.pool.length-1;a>=0;a--)if(o.pool[a]===e&&a!==o.single){var s;Io(s=o.pool).call(s,a,1);break}}},e.emit=function(t,e){var n=this.events[t];if(n)for(var r=0,i=n.pool.length;i>r;r++){var o=n.pool[r];if("function"==typeof o&&!1===o.call(null,e,t))break}},t}(),wa=function(t,e){for(var n=t;n&&n!==e;)n=n.parentNode;return!!n};function _a(t,e,n){return"number"!=typeof t||n>t?e:t}function ba(){return window.navigator.maxTouchPoints||"ontouchstart"in window.document}function Ta(t,e){if(void 0===e&&(e=!1),t.touches){var n;if(e){var r,i=Go(r=Qo(Array.prototype).call(t.touches,(function(e){return wa(e.target,t.currentTarget)}))).call(r,(function(t){return{pageX:t.pageX,pageY:t.pageY,identifier:t.identifier}}));return{points:i,isFirst:t.changedTouches.length===i.length}}return{points:Go(n=ga(Array.prototype).call(t.changedTouches||[])).call(n,(function(t){return{pageX:t.pageX,pageY:t.pageY,identifier:t.identifier}}))}}return{points:[{pageX:t.pageX,pageY:t.pageY,identifier:-1}],isFirst:e}}function Pa(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return"number"==typeof n&&"number"==typeof i&&"number"==typeof r&&"number"==typeof o?Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)):0}function Sa(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return"number"==typeof n&&"number"==typeof i&&"number"==typeof r&&"number"==typeof o?180*Math.atan2(o-r,i-n)/Math.PI:0}function Ea(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a="number"==typeof n&&"number"==typeof r,s="number"==typeof i&&"number"==typeof o;return a||s?a&&!s?[n,r]:!a&&s?[i,o]:[(n+i)/2,(r+o)/2]:[0,0]}function xa(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];if("number"==typeof n&&"number"==typeof i&&"number"==typeof r&&"number"==typeof o){var a=n-i,s=r-o;if(a!==s)return Math.abs(s)>Math.abs(a)?r-o>0?"Up":"Down":n-i>0?"Left":"Right"}return"None"}var Ca=function(t){function e(e){var n;return(n=t.call(this)||this).wheelDelay=350,n.longTapInterval=750,n.doubleTapInterval=250,n.doubleTapDistance=30,n.touchMoveDistance=3,n.swipeVelocity=.3,n.swipeDuration=100,n.raiseDuration=100,n._rotateAngle=0,n._noMouseTimer=0,n._singleTapTimer=0,n._longTapTimer=0,n._wheelTimerEnd=null,n._preventTap=!0,n._swipePoints=null,n._preventSingleTap=!0,n._preventDoubleTap=!0,n._firstPointer=null,n._pointer0=null,n._pointer1=null,n.resetOptions(e),n}di(e,t);var n=e.prototype;return n.resetOptions=function(t){var e=t||{},n=e.longTapInterval,r=e.doubleTapInterval,i=e.doubleTapDistance,o=e.touchMoveDistance,a=e.swipeVelocity,s=e.swipeDuration,u=e.raiseDuration;this.wheelDelay=_a(e.wheelDelay,350,1),this.longTapInterval=_a(n,750,1),this.doubleTapInterval=_a(r,250,1),this.doubleTapDistance=_a(i,30,1),this.touchMoveDistance=_a(o,3,0),this.swipeVelocity=_a(a,.3,0),this.swipeDuration=_a(s,100,1),this.raiseDuration=_a(u,100,1)},n.preventAllTap=function(t){void 0===t&&(t=!0),this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,t&&(this._firstPointer=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=0)},e}(ya);function Ma(){this.nativeEvent||(this.preventDefault?this.preventDefault():this.returnValue=!1)}function Da(){this.stopPropagation?this.stopPropagation():this.cancelBubble=!0}function Aa(){this.nativeEvent?this.nativeEvent.stopImmediatePropagation&&this.nativeEvent.stopImmediatePropagation():this.stopImmediatePropagation?this.stopImmediatePropagation():Da.call(this)}function ka(t){var e=this,n={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!!ba()&&!!t.touches},preventDefault:Ma.bind(t),stopPropagation:Da.bind(t),stopImmediatePropagation:Aa.bind(t)},r=Ta(t,!0),i=r.points;r.isFirst?(this._wheelTimerEnd&&(clearTimeout(this._wheelTimerEnd.timer),this._wheelTimerEnd.wheelEnd(),this._wheelTimerEnd=null),this._pointer0=null,this._pointer1=null):(this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1));for(var o=0,a=i.length;a>o;++o){var s=i[o],u=[s.pageX,s.pageY],c={start:u,previous:u,current:u,identifier:s.identifier,changed:!0};this._pointer0?this._pointer1||this._pointer0.identifier===s.identifier||(this._pointer1=c):this._pointer0=c}this.preventAllTap(!1),this._swipePoints=null,this._rotateAngle=0;var l=this._pointer0,f=this._pointer1;if(f&&l)this._firstPointer=null,n.pointers=[l,f],n.getPoint=function(){return Ea(l.current,f.current)},this.emit("gestureStart",n);else{if(!l)return;n.pointers=[l],n.getPoint=function(){return l.current},this._preventTap=!1,this._longTapTimer=+setTimeout((function(){e._preventTap=!0,e._preventSingleTap=!0,e._preventDoubleTap=!0,e._longTapTimer=0,e._firstPointer=null,n.waitTime=e.longTapInterval,e.emit("longTap",n)}),this.longTapInterval);var h=this._firstPointer,p=this._singleTapTimer;p&&h&&Pa(h.current,l.current)<this.doubleTapDistance?(clearTimeout(p),this._singleTapTimer=0,this._preventSingleTap=!0,this._preventDoubleTap=!1,n.getPoint=function(){return h.current}):(this._firstPointer=l,this._preventSingleTap=!1,this._preventDoubleTap=!0)}this.emit("pointerStart",n)}function Ia(t){var e={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!!ba()&&!!t.touches},preventDefault:Ma.bind(t),stopPropagation:Da.bind(t),stopImmediatePropagation:Aa.bind(t)};this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1);for(var n=Ta(t).points,r=0,i=n.length;i>r;++r){var o=n[r],a=[o.pageX,o.pageY];this._pointer0&&this._pointer0.identifier===o.identifier?(this._pointer0.changed=!0,this._pointer0.previous=this._pointer0.current,this._pointer0.current=a):this._pointer1&&this._pointer1.identifier===o.identifier&&(this._pointer1.changed=!0,this._pointer1.previous=this._pointer1.current,this._pointer1.current=a)}var s=this._pointer0,u=this._pointer1;if(s&&Pa(s.start,s.current)>this.touchMoveDistance||u&&Pa(u.start,u.current)>this.touchMoveDistance){if(this.preventAllTap(),u&&s){e.pointers=[s,u];var c=s.start,l=s.previous,f=s.current,h=u.start,p=u.previous,v=u.current,d=Ea(f,v),m=Ea(l,p),g=Ea(c,h);e.getPoint=function(t){return"start"===t?g:"previous"===t?m:d},e.direction=xa(m,d),e.moveDirection=xa(g,d),e.deltaX=d[0]-m[0],e.moveX=d[0]-g[0],e.deltaY=d[1]-m[1],e.moveY=d[1]-g[1];var y=Pa(f,v),w=Pa(l,p),_=Pa(c,h);_>0&&y>0&&w>0&&(e.scale=y/w,e.moveScale=y/_);var b=Sa(f,v)-Sa(l,p);-180>b?b+=360:b>180&&(b-=360),e.angle=b,this._rotateAngle+=b,e.moveAngle=this._rotateAngle,this.emit("rotate",e),_>0&&y>0&&w>0&&this.emit("scale",e),this.emit("multiPan",e),this.emit("gestureMove",e)}else{if(!s)return;e.pointers=[s];var T=s.start,P=s.previous,S=s.current;e.getPoint=function(t){return"start"===t?T:"previous"===t?P:S},e.direction=xa(P,S),e.moveDirection=xa(T,S),e.deltaX=S[0]-P[0],e.moveX=S[0]-T[0],e.deltaY=S[1]-P[1],e.moveY=S[1]-T[1];var E=Date.now(),x=this._swipePoints||[[],[]];E-((x[1][0]?x[1][0].timestamp:0)||0)>this.swipeDuration&&(x[0]=x[1],x[1]=[]),x[1].push({point:S,timestamp:E}),this._swipePoints=x,this.emit("pan",e)}this.emit("pointerMove",e)}}function Oa(t){var e=this,n={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!!ba()&&!!t.touches},preventDefault:Ma.bind(t),stopPropagation:Da.bind(t),stopImmediatePropagation:Aa.bind(t)};ba()&&t.touches&&(this._noMouseTimer&&clearTimeout(this._noMouseTimer),this._noMouseTimer=+setTimeout((function(){e._noMouseTimer=0}),this.doubleTapInterval));var r=null,i=null;this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1);for(var o,a,s=Ta(t).points,u=0,c=s.length;c>u;++u){var l=s[u];this._pointer0&&this._pointer0.identifier===l.identifier?(this._pointer0.changed=!0,r=this._pointer0,this._pointer0=null):this._pointer1&&this._pointer1.identifier===l.identifier&&(this._pointer1.changed=!0,i=this._pointer1,this._pointer1=null)}if(this._pointer1&&!this._pointer0&&(this._pointer0=this._pointer1,this._pointer1=null,i=r,r=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=0),this._pointer0){n.pointers=[this._pointer0],this._pointer1?n.pointers.push(this._pointer1):i&&(n.leavePointers=[i],this._rotateAngle=0);var f=Ea(this._pointer0.start,this._pointer1?this._pointer1.start:i?i.start:[]),h=Ea(this._pointer0.previous,this._pointer1?this._pointer1.previous:i?i.previous:[]),p=Ea(this._pointer0.current,this._pointer1?this._pointer1.current:i?i.current:[]);n.getPoint=function(t){return"start"===t?f:"previous"===t?h:p},this.emit("gestureEnd",n)}else if(r){n.leavePointers=[r],i&&n.leavePointers.push(i);var v=i?Ea(r.start,i.start):r.start,d=i?Ea(r.previous,i.previous):r.previous,m=i?Ea(r.current,i.current):r.current;if(n.getPoint=function(t){return"start"===t?v:"previous"===t?d:m},this._preventTap||(this.emit("tap",n),this._preventTap=!0),this._preventSingleTap||(this._singleTapTimer=+setTimeout((function(){e._singleTapTimer=0,n.delayTime=e.doubleTapInterval,e.emit("singleTap",n)}),this.doubleTapInterval),this._preventSingleTap=!0),!this._preventDoubleTap){var g=this._firstPointer;g&&(n.getPoint=function(){return g.current}),n.intervalTime=this.doubleTapInterval,this.emit("doubleTap",n),this._firstPointer=null,this._preventDoubleTap=!0}if(this._swipePoints){var y=this._swipePoints,w=y[0],_=y[1],b=_[_.length-1];if(Date.now()-b.timestamp<=this.raiseDuration){for(var T=_[0],P=w.length-1;P>=0&&this.swipeDuration>=b.timestamp-w[P].timestamp;P--)T=w[P];var S=(o=b.timestamp-T.timestamp,"number"!=typeof(a=Pa(T.point,b.point))||0===a||"number"!=typeof o||0===o?0:a/o);if(S>this.swipeVelocity){var E=Sa(T.point,b.point);n.direction=xa(T.point,b.point),n.angle=E,n.velocity=S,n.swipeComputed=function(t,e){void 0===e&&(e=S);var n=0,r=0,i=0;t>1?(r=e/(n=t),i=e*n/2):t>0&&(n=e/(r=t),i=e*e/(2*r));var o=function(t,e){if("number"!=typeof t||"number"!=typeof e)return[0,0];var n=e*Math.PI/180;return[t*Math.cos(n),t*Math.sin(n)]}(i,E);return{duration:n,stretchX:o[0],stretchY:o[1],deceleration:r}},this.emit("swipe",n),this._swipePoints=null}}}}this.emit("pointerEnd",n)}function La(t){this.emit("pointerCancel",{sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!!ba()&&!!t.touches},preventDefault:Ma.bind(t),stopPropagation:Da.bind(t),stopImmediatePropagation:Aa.bind(t)}),Oa.call(this,t)}function ja(t){var e=this;if(!e._noMouseTimer)if("undefined"!=typeof window&&(window.addEventListener("mousemove",a,{capture:!1,passive:!1}),window.addEventListener("mouseup",s,{capture:!1,passive:!1}),window.addEventListener("blur",o,{capture:!0,passive:!1}),window.addEventListener("dragstart",i,{capture:!0,passive:!1}),"onselectstart"in window.document.documentElement&&window.addEventListener("selectstart",i,{capture:!0,passive:!1})),0===t.button)ka.call(e,t);else{e._wheelTimerEnd&&(clearTimeout(e._wheelTimerEnd.timer),e._wheelTimerEnd.wheelEnd(),e._wheelTimerEnd=null);var n=[t.pageX,t.pageY];e._pointer0={start:n,previous:n,current:n,identifier:-1,changed:!0}}function r(){"undefined"!=typeof window&&(window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",s),window.removeEventListener("blur",o),window.removeEventListener("dragstart",i),"onselectstart"in window.document.documentElement&&window.removeEventListener("selectstart",i))}function i(t){t.preventDefault()}function o(t){i(t),r()}function a(n){if(0===t.button)Ia.call(e,n);else{var r={sourceEvent:n,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!1},preventDefault:Ma.bind(n),stopPropagation:Da.bind(n),stopImmediatePropagation:Aa.bind(n)},i=[n.pageX,n.pageY];if(e._pointer0&&Pa(e._pointer0.start,i)>e.touchMoveDistance){e._pointer0.previous=e._pointer0.current,e._pointer0.current=i,r.pointers=[e._pointer0];var o=e._pointer0,a=o.start,s=o.previous,u=o.current;r.getPoint=function(t){return"start"===t?a:"previous"===t?s:u},r.direction=xa(s,u),r.moveDirection=xa(a,u),r.deltaX=u[0]-s[0],r.moveX=u[0]-a[0],r.deltaY=u[1]-s[1],r.moveY=u[1]-a[1],r.angle=r.deltaX/4,r.moveAngle=r.moveX/4,e.emit("rotate",r)}}}function s(n){if(r(),0===t.button)Oa.call(e,n);else{var i={sourceEvent:n,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!1},preventDefault:Ma.bind(n),stopPropagation:Da.bind(n),stopImmediatePropagation:Aa.bind(n)},o=[n.pageX,n.pageY];if(e._pointer0){var a=e._pointer0;e._pointer0=null,a.previous=a.current,a.current=o,i.leavePointers=[a];var s=a.start,u=a.previous,c=a.current;i.getPoint=function(t){return"start"===t?s:"previous"===t?u:c}}i.angle=NaN,e.emit("rotate",i)}}}function Ra(t){var e=this,n={sourceEvent:t,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:function(){return[0,0]},isTouching:function(){return!1},preventDefault:Ma.bind(t),stopPropagation:Da.bind(t),stopImmediatePropagation:Aa.bind(t)},r=[t.pageX,t.pageY];this._wheelTimerEnd?(this._pointer0&&(this._pointer0.previous=this._pointer0.current,this._pointer0.current=r),clearTimeout(this._wheelTimerEnd.timer)):this._pointer0={start:r,previous:r,current:r,identifier:-1,changed:!0};var i=function(){e._pointer0=null,e._wheelTimerEnd=null,n.timestamp=Date.now(),n.scale=NaN,e.emit("scale",n)};if(this._wheelTimerEnd={wheelEnd:i,timer:+setTimeout(i,this.wheelDelay),scale:this._wheelTimerEnd?this._wheelTimerEnd.scale:1},this._pointer0){n.pointers=[this._pointer0];var o=this._pointer0,a=o.start,s=o.previous,u=o.current;n.getPoint=function(t){return"start"===t?a:"previous"===t?s:u};var c=Math.pow(2,-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002));this._wheelTimerEnd.scale*=c,n.moveScale=this._wheelTimerEnd.scale,n.scale=c,this.emit("scale",n)}}var Fa=function(t){function e(e,n){var r;(r=t.call(this,n)||this).element=null,r._unbind=null;var i=function(t){var e=t;return"string"==typeof t&&(e=document.querySelector(t)),"function"==typeof t&&(e=t()),e||null}(e);if(!i)throw Error("Please pass in a valid element...");r.element=i;var o=function(){};if(ba()){var a=ka.bind(kr(r)),s=Ia.bind(kr(r)),u=Oa.bind(kr(r)),c=La.bind(kr(r));i.addEventListener("touchstart",a,{capture:!1,passive:!1}),i.addEventListener("touchmove",s,{capture:!1,passive:!1}),i.addEventListener("touchend",u,{capture:!1,passive:!1}),i.addEventListener("touchcancel",c,{capture:!1,passive:!1}),o=function(){i.removeEventListener("touchstart",a),i.removeEventListener("touchmove",s),i.removeEventListener("touchend",u),i.removeEventListener("touchcancel",c)}}var l=ja.bind(kr(r)),f=Ra.bind(kr(r));return i.addEventListener("mousedown",l,{capture:!1,passive:!1}),i.addEventListener("wheel",f,{capture:!1,passive:!1}),r._unbind=function(){i.removeEventListener("mousedown",l),i.removeEventListener("wheel",f),o()},r}return di(e,t),e.prototype.destory=function(){t.prototype.off.call(this),this._unbind&&(this._unbind(),this._unbind=null,this.element=null)},e}(Ca),za=qt,Ua=$n;_n({target:"Object",stat:!0,forced:o((function(){Ua(1)}))},{keys:function(t){return Ua(za(t))}});var Ha=K.Object.keys,Ba=n(Ha),Na=n(Ha);function Xa(t){return t.replace(/([A-Z])/g,"-$1").toLocaleLowerCase()}var qa=/^(?:-border(?:-top|-right|-bottom|-left)?(?:-width|)|(?:-margin|-padding)?(?:-top|-right|-bottom|-left)?|(?:-min|-max)?(?:-width|-height))$/;function Ya(t,e){if(t&&e){var n="";Na(e).forEach((function(r){var i=Xa(r),o=e[r];if(o||0===o){var a="number"==typeof o&&/^[a-z]/.test(i)&&qa.test("-"+i)?"px":"";n+=i+": "+o+a+";"}else t.style.removeProperty(i)})),t.style.cssText+=n}return t}function Ga(t,e){return!(!t||!e)&&t.classList.contains(e)}function Va(t,e){return t&&e&&(Array.isArray(e)?e:e.split(" ")).forEach((function(e){return e&&t.classList.add(e)})),t}function Wa(t,e){return t&&e&&(Array.isArray(e)?e:e.split(" ")).forEach((function(e){return e&&t.classList.remove(e)})),t}function $a(t){var e=t;return"string"==typeof t&&(e=document.querySelector(t)),"function"==typeof t&&(e=t()),e||null}function Za(t,e,n,r){var i,o,a,s,u;"string"==typeof t?(o=t,a=e||{},s=Array.isArray(n)?n:[n],u=r):(o="div",a=t||{},s=Array.isArray(e)?e:[e],u=n);var c=Ya(Va(document.createElement(o),a.className),a.style),l=a.attrs||{};return Na(l).forEach((function(t){"innerHTML"!==t&&"className"!==t&&"style"!==t&&c.setAttribute(Xa(t),l[t])})),s.forEach((function(t){t instanceof Element?null==c||c.appendChild(t):c&&null!=t&&(c.innerHTML=t+"")})),null==(i=$a(u))||i.appendChild(c),c}var Ja=o,Qa=_n,Ka=zn.indexOf,ts=function(t,e){var n=[][t];return!!n&&Ja((function(){n.call(null,e||function(){return 1},1)}))},es=T([].indexOf),ns=!!es&&0>1/es([1],1,-0);Qa({target:"Array",proto:!0,forced:ns||!ts("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return ns?es(this,t,e)||0:Ka(this,t,e)}});var rs=Sr("Array").indexOf,is=ot,os=rs,as=Array.prototype,ss=n((function(t){var e=t.indexOf;return t===as||is(as,t)&&e===as.indexOf?os:e}));function us(t,e){if(null==t)return{};var n,r,i={},o=Ba(t);for(r=0;o.length>r;r++)n=o[r],0>ss(e).call(e,n)&&(i[n]=t[n]);return i}var cs=n(cr),ls=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),fs=Vt,hs=x,ps=qt,vs=ls,ds=Br("IE_PROTO"),ms=Object,gs=ms.prototype,ys=vs?ms.getPrototypeOf:function(t){var e=ps(t);if(fs(e,ds))return e[ds];var n=e.constructor;return hs(n)&&e instanceof n?n.prototype:e instanceof ms?gs:null},ws={},_s=Yn,bs=Gn.concat("length","prototype");ws.f=Object.getOwnPropertyNames||function(t){return _s(t,bs)};var Ts=it,Ps=ws,Ss=Zn,Es=$e,xs=d([].concat),Cs=Ts("Reflect","ownKeys")||function(t){var e=Ps.f(Es(t)),n=Ss.f;return n?xs(e,n(t)):e},Ms=Vt,Ds=Cs,As=C,ks=qe,Is=Q,Os=un,Ls=Error,js=d("".replace),Rs=Ls("zxcasd").stack+"",Fs=/\n\s*at [^:]*:[^\n]*/,zs=Fs.test(Rs),Us=F,Hs=!o((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Us(1,7)),7!==t.stack)})),Bs=un,Ns=function(t,e){if(zs&&"string"==typeof t&&!Ls.prepareStackTrace)for(;e--;)t=js(t,Fs,"");return t},Xs=Hs,qs=Error.captureStackTrace,Ys={},Gs=Ys,Vs=ae("iterator"),Ws=Array.prototype,$s=function(t){return void 0!==t&&(Gs.Array===t||Ws[Vs]===t)},Zs=Ii,Js=At,Qs=X,Ks=Ys,tu=ae("iterator"),eu=function(t){if(!Qs(t))return Js(t,tu)||Js(t,"@@iterator")||Ks[Zs(t)]},nu=A,ru=Ct,iu=$e,ou=Pt,au=eu,su=TypeError,uu=function(t,e){var n=2>arguments.length?au(t):e;if(ru(n))return iu(nu(n,t));throw su(ou(t)+" is not iterable")},cu=A,lu=$e,fu=At,hu=function(t,e,n){var r,i;lu(t);try{if(!(r=fu(t,"return"))){if("throw"===e)throw n;return n}r=cu(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return lu(r),n},pu=Xe,vu=A,du=$e,mu=Pt,gu=$s,yu=On,wu=ot,_u=uu,bu=eu,Tu=hu,Pu=TypeError,Su=function(t,e){this.stopped=t,this.result=e},Eu=Su.prototype,xu=function(t,e,n){var r,i,o,a,s,u,c,l=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_RECORD),h=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=pu(e,n&&n.that),d=function(t){return r&&Tu(r,"normal",t),new Su(!0,t)},m=function(t){return l?(du(t),p?v(t[0],t[1],d):v(t[0],t[1])):p?v(t,d):v(t)};if(f)r=t.iterator;else if(h)r=t;else{if(!(i=bu(t)))throw Pu(mu(t)+" is not iterable");if(gu(i)){for(o=0,a=yu(t);a>o;o++)if((s=m(t[o]))&&wu(Eu,s))return s;return new Su(!1)}r=_u(t,i)}for(u=f?t.next:r.next;!(c=vu(u,r)).done;){try{s=m(c.value)}catch(t){Tu(r,"throw",t)}if("object"==typeof s&&s&&wu(Eu,s))return s}return new Su(!1)},Cu=Ii,Mu=String,Du=function(t){if("Symbol"===Cu(t))throw TypeError("Cannot convert a Symbol value to a string");return Mu(t)},Au=Du,ku=_n,Iu=ot,Ou=ys,Lu=hi,ju=function(t,e,n){for(var r=Ds(e),i=ks.f,o=As.f,a=0;r.length>a;a++){var s=r[a];Ms(t,s)||n&&Ms(n,s)||i(t,s,o(e,s))}},Ru=ei,Fu=un,zu=F,Uu=function(t,e){Is(e)&&"cause"in e&&Os(t,"cause",e.cause)},Hu=function(t,e,n,r){Xs&&(qs?qs(t,e):Bs(t,"stack",Ns(n,r)))},Bu=xu,Nu=function(t,e){return void 0===t?2>arguments.length?"":e:Au(t)},Xu=ae("toStringTag"),qu=Error,Yu=[].push,Gu=function(t,e){var n,r=Iu(Vu,this);Lu?n=Lu(qu(),r?Ou(this):Vu):(n=r?this:Ru(Vu),Fu(n,Xu,"Error")),void 0!==e&&Fu(n,"message",Nu(e)),Hu(n,Gu,n.stack,1),arguments.length>2&&Uu(n,arguments[2]);var i=[];return Bu(t,Yu,{that:i}),Fu(n,"errors",i),n};Lu?Lu(Gu,qu):ju(Gu,qu,{name:!0});var Vu=Gu.prototype=Ru(qu.prototype,{constructor:zu(1,Gu),message:zu(1,""),name:zu(1,"AggregateError")});ku({global:!0,constructor:!0,arity:2},{AggregateError:Gu});var Wu,$u,Zu,Ju=i.WeakMap,Qu=x(Ju)&&/native code/.test(Ju+""),Ku=Q,tc=un,ec=Vt,nc=Br,rc=Un,ic="Object already initialized",oc=i.TypeError;if(Qu||Ut.state){var ac=Ut.state||(Ut.state=new(0,i.WeakMap));ac.get=ac.get,ac.has=ac.has,ac.set=ac.set,Wu=function(t,e){if(ac.has(t))throw oc(ic);return e.facade=t,ac.set(t,e),e},$u=function(t){return ac.get(t)||{}},Zu=function(t){return ac.has(t)}}else{var sc=nc("state");rc[sc]=!0,Wu=function(t,e){if(ec(t,sc))throw oc(ic);return e.facade=t,tc(t,sc,e),e},$u=function(t){return ec(t,sc)?t[sc]:{}},Zu=function(t){return ec(t,sc)}}var uc,cc,lc,fc={set:Wu,get:$u,has:Zu,enforce:function(t){return Zu(t)?$u(t):Wu(t,{})},getterFor:function(t){return function(e){var n;if(!Ku(e)||(n=$u(e)).type!==t)throw oc("Incompatible receiver, "+t+" required");return n}}},hc=M,pc=Function.prototype,vc=hc&&Object.getOwnPropertyDescriptor,dc=Vt(pc,"name"),mc={EXISTS:dc,PROPER:dc&&!1,CONFIGURABLE:dc&&(!hc||hc&&vc(pc,"name").configurable)},gc=un,yc=function(t,e,n,r){return r&&r.enumerable?t[e]=n:gc(t,e,n),t},wc=o,_c=x,bc=Q,Tc=ei,Pc=ys,Sc=yc,Ec=ae("iterator"),xc=!1;[].keys&&("next"in(lc=[].keys())?(cc=Pc(Pc(lc)))!==Object.prototype&&(uc=cc):xc=!0);var Cc=!bc(uc)||wc((function(){var t={};return uc[Ec].call(t)!==t}));_c((uc=Cc?{}:Tc(uc))[Ec])||Sc(uc,Ec,(function(){return this}));var Mc={IteratorPrototype:uc,BUGGY_SAFARI_ITERATORS:xc},Dc=Ii,Ac=Ei,kc=qe.f,Ic=un,Oc=Vt,Lc=Ei?{}.toString:function(){return"[object "+Dc(this)+"]"},jc=ae("toStringTag"),Rc=function(t,e,n,r){if(t){var i=n?t:t.prototype;Oc(i,jc)||kc(i,jc,{configurable:!0,value:e}),r&&!Ac&&Ic(i,"toString",Lc)}},Fc=Mc.IteratorPrototype,zc=ei,Uc=F,Hc=Rc,Bc=Ys,Nc=function(){return this},Xc=function(t,e,n,r){var i=e+" Iterator";return t.prototype=zc(Fc,{next:Uc(+!r,n)}),Hc(t,i,!1,!0),Bc[i]=Nc,t},qc=_n,Yc=A,Gc=mc,Vc=Xc,Wc=ys,$c=Rc,Zc=yc,Jc=Ys,Qc=Mc,Kc=Gc.PROPER,tl=Qc.BUGGY_SAFARI_ITERATORS,el=ae("iterator"),nl="keys",rl="values",il="entries",ol=function(){return this},al=function(t,e,n,r,i,o,a){Vc(n,e,r);var s,u,c,l=function(t){if(t===i&&d)return d;if(!tl&&t in p)return p[t];switch(t){case nl:case rl:case il:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,p=t.prototype,v=p[el]||p["@@iterator"]||i&&p[i],d=!tl&&v||l(i),m="Array"==e&&p.entries||v;if(m&&(s=Wc(m.call(new t)))!==Object.prototype&&s.next&&($c(s,f,!0,!0),Jc[f]=ol),Kc&&i==rl&&v&&v.name!==rl&&(h=!0,d=function(){return Yc(v,this)}),i)if(u={values:l(rl),keys:o?d:l(nl),entries:l(il)},a)for(c in u)(tl||h||!(c in p))&&Zc(p,c,u[c]);else qc({target:e,proto:!0,forced:tl||h},u);return a&&p[el]!==d&&Zc(p,el,d,{name:i}),Jc[e]=d,u},sl=function(t,e){return{value:t,done:e}},ul=$,cl=Ys,ll=al,fl=sl,hl="Array Iterator",pl=fc.set,vl=fc.getterFor(hl);ll(Array,"Array",(function(t,e){pl(this,{type:hl,target:ul(t),index:0,kind:e})}),(function(){var t=vl(this),e=t.target,n=t.kind,r=t.index++;return e&&e.length>r?fl("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1):(t.target=void 0,fl(void 0,!0))}),"values"),cl.Arguments=cl.Array;var dl,ml,gl,yl,wl="undefined"!=typeof process&&"process"==w(process),_l=qe,bl=function(t,e,n){return _l.f(t,e,n)},Tl=it,Pl=bl,Sl=M,El=ae("species"),xl=ot,Cl=TypeError,Ml=function(t,e){if(xl(e,t))return t;throw Cl("Incorrect invocation")},Dl=Zi,Al=Pt,kl=TypeError,Il=$e,Ol=function(t){if(Dl(t))return t;throw kl(Al(t)+" is not a constructor")},Ll=X,jl=ae("species"),Rl=function(t,e){var n,r=Il(t).constructor;return void 0===r||Ll(n=Il(r)[jl])?e:Ol(n)},Fl=TypeError,zl=function(t,e){if(e>t)throw Fl("Not enough arguments");return t},Ul=/(?:ipad|iphone|ipod).*applewebkit/i.test(at),Hl=i,Bl=l,Nl=Xe,Xl=x,ql=Vt,Yl=o,Gl=zr,Vl=fr,Wl=_e,$l=zl,Zl=Ul,Jl=wl,Ql=Hl.setImmediate,Kl=Hl.clearImmediate,tf=Hl.process,ef=Hl.Dispatch,nf=Hl.Function,rf=Hl.MessageChannel,of=Hl.String,af=0,sf={},uf="onreadystatechange";Yl((function(){dl=Hl.location}));var cf=function(t){if(ql(sf,t)){var e=sf[t];delete sf[t],e()}},lf=function(t){return function(){cf(t)}},ff=function(t){cf(t.data)},hf=function(t){Hl.postMessage(of(t),dl.protocol+"//"+dl.host)};Ql&&Kl||(Ql=function(t){$l(arguments.length,1);var e=Xl(t)?t:nf(t),n=Vl(arguments,1);return sf[++af]=function(){Bl(e,void 0,n)},ml(af),af},Kl=function(t){delete sf[t]},Jl?ml=function(t){tf.nextTick(lf(t))}:ef&&ef.now?ml=function(t){ef.now(lf(t))}:rf&&!Zl?(yl=(gl=new rf).port2,gl.port1.onmessage=ff,ml=Nl(yl.postMessage,yl)):Hl.addEventListener&&Xl(Hl.postMessage)&&!Hl.importScripts&&dl&&"file:"!==dl.protocol&&!Yl(hf)?(ml=hf,Hl.addEventListener("message",ff,!1)):ml=uf in Wl("script")?function(t){Gl.appendChild(Wl("script"))[uf]=function(){Gl.removeChild(this),cf(t)}}:function(t){setTimeout(lf(t),0)});var pf={set:Ql,clear:Kl},vf=function(){this.head=null,this.tail=null};vf.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var df,mf,gf,yf,wf,_f=vf,bf=/ipad|iphone|ipod/i.test(at)&&"undefined"!=typeof Pebble,Tf=i,Pf=Xe,Sf=pf.set,Ef=_f,xf=Ul,Cf=bf,Mf=/web0s(?!.*chrome)/i.test(at),Df=wl,Af=Tf.MutationObserver||Tf.WebKitMutationObserver,kf=Tf.document,If=Tf.process,Of=Tf.Promise,Lf=(0,C.f)(Tf,"queueMicrotask"),jf=Lf&&Lf.value;if(!jf){var Rf=new Ef,Ff=function(){var t,e;for(Df&&(t=If.domain)&&t.exit();e=Rf.get();)try{e()}catch(t){throw Rf.head&&df(),t}t&&t.enter()};xf||Df||Mf||!Af||!kf?!Cf&&Of&&Of.resolve?((yf=Of.resolve(void 0)).constructor=Of,wf=Pf(yf.then,yf),df=function(){wf(Ff)}):Df?df=function(){If.nextTick(Ff)}:(Sf=Pf(Sf,Tf),df=function(){Sf(Ff)}):(mf=!0,gf=kf.createTextNode(""),new Af(Ff).observe(gf,{characterData:!0}),df=function(){gf.data=mf=!mf}),jf=function(t){Rf.head||df(),Rf.add(t)}}var zf=jf,Uf=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Hf=i.Promise,Bf="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Nf=!Bf&&!wl&&"object"==typeof window&&"object"==typeof document,Xf=i,qf=Hf,Yf=x,Gf=Ue,Vf=Ri,Wf=Nf,$f=Bf,Zf=ht,Jf=qf&&qf.prototype,Qf=ae("species"),Kf=!1,th=Yf(Xf.PromiseRejectionEvent),eh=Gf("Promise",(function(){var t=Vf(qf),e=t!==qf+"";if(!e&&66===Zf)return!0;if(!Jf.catch||!Jf.finally)return!0;if(!Zf||51>Zf||!/native code/.test(t)){var n=new qf((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[Qf]=r,!(Kf=n.then((function(){}))instanceof r))return!0}return!e&&(Wf||$f)&&!th})),nh={CONSTRUCTOR:eh,REJECTION_EVENT:th,SUBCLASSING:Kf},rh={},ih=Ct,oh=TypeError,ah=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw oh("Bad Promise constructor");e=t,n=r})),this.resolve=ih(e),this.reject=ih(n)};rh.f=function(t){return new ah(t)};var sh,uh,ch=_n,lh=wl,fh=i,hh=A,ph=yc,vh=Rc,dh=function(t){var e=Tl(t);Sl&&e&&!e[El]&&Pl(e,El,{configurable:!0,get:function(){return this}})},mh=Ct,gh=x,yh=Q,wh=Ml,_h=Rl,bh=pf.set,Th=zf,Ph=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}},Sh=Uf,Eh=_f,xh=fc,Ch=Hf,Mh=nh,Dh=rh,Ah="Promise",kh=Mh.CONSTRUCTOR,Ih=Mh.REJECTION_EVENT,Oh=xh.getterFor(Ah),Lh=xh.set,jh=Ch,Rh=Ch&&Ch.prototype,Fh=fh.TypeError,zh=fh.document,Uh=fh.process,Hh=Dh.f,Bh=Hh,Nh=!!(zh&&zh.createEvent&&fh.dispatchEvent),Xh="unhandledrejection",qh=function(t){var e;return!(!yh(t)||!gh(e=t.then))&&e},Yh=function(t,e){var n,r,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(a||(2===e.rejection&&Zh(e),e.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===t.promise?c(Fh("Promise-chain cycle")):(r=qh(n))?hh(r,n,u,c):u(n)):c(o)}catch(t){l&&!i&&l.exit(),c(t)}},Gh=function(t,e){t.notified||(t.notified=!0,Th((function(){for(var n,r=t.reactions;n=r.get();)Yh(n,t);t.notified=!1,e&&!t.rejection&&Wh(t)})))},Vh=function(t,e,n){var r,i;Nh?((r=zh.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),fh.dispatchEvent(r)):r={promise:e,reason:n},!Ih&&(i=fh["on"+t])?i(r):t===Xh&&Ph("Unhandled promise rejection",n)},Wh=function(t){hh(bh,fh,(function(){var e,n=t.facade,r=t.value;if($h(t)&&(e=Sh((function(){lh?Uh.emit("unhandledRejection",r,n):Vh(Xh,n,r)})),t.rejection=lh||$h(t)?2:1,e.error))throw e.value}))},$h=function(t){return 1!==t.rejection&&!t.parent},Zh=function(t){hh(bh,fh,(function(){var e=t.facade;lh?Uh.emit("rejectionHandled",e):Vh("rejectionhandled",e,t.value)}))},Jh=function(t,e,n){return function(r){t(e,r,n)}},Qh=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Gh(t,!0))},Kh=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Fh("Promise can't be resolved itself");var r=qh(e);r?Th((function(){var n={done:!1};try{hh(r,e,Jh(Kh,n,t),Jh(Qh,n,t))}catch(e){Qh(n,e,t)}})):(t.value=e,t.state=1,Gh(t,!1))}catch(e){Qh({done:!1},e,t)}}};kh&&(jh=function(t){wh(this,Rh),mh(t),hh(sh,this);var e=Oh(this);try{t(Jh(Kh,e),Jh(Qh,e))}catch(t){Qh(e,t)}},(sh=function(t){Lh(this,{type:Ah,done:!1,notified:!1,parent:!1,reactions:new Eh,rejection:!1,state:0,value:void 0})}).prototype=ph(Rh=jh.prototype,"then",(function(t,e){var n=Oh(this),r=Hh(_h(this,jh));return n.parent=!0,r.ok=!gh(t)||t,r.fail=gh(e)&&e,r.domain=lh?Uh.domain:void 0,0==n.state?n.reactions.add(r):Th((function(){Yh(r,n)})),r.promise})),uh=function(){var t=new sh,e=Oh(t);this.promise=t,this.resolve=Jh(Kh,e),this.reject=Jh(Qh,e)},Dh.f=Hh=function(t){return t===jh||undefined===t?new uh(t):Bh(t)}),ch({global:!0,constructor:!0,wrap:!0,forced:kh},{Promise:jh}),vh(jh,Ah,!1,!0),dh(Ah);var tp=ae("iterator"),ep=!1;try{var np=0,rp={next:function(){return{done:!!np++}},return:function(){ep=!0}};rp[tp]=function(){return this},Array.from(rp,(function(){throw 2}))}catch(t){}var ip=Hf,op=function(t,e){if(!e&&!ep)return!1;var n=!1;try{var r={};r[tp]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},ap=nh.CONSTRUCTOR||!op((function(t){ip.all(t).then(void 0,(function(){}))})),sp=A,up=Ct,cp=rh,lp=Uf,fp=xu;_n({target:"Promise",stat:!0,forced:ap},{all:function(t){var e=this,n=cp.f(e),r=n.resolve,i=n.reject,o=lp((function(){var n=up(e.resolve),o=[],a=0,s=1;fp(t,(function(t){var u=a++,c=!1;s++,sp(n,e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise}});_n({target:"Promise",proto:!0,forced:nh.CONSTRUCTOR,real:!0},{catch:function(t){return this.then(void 0,t)}});var hp=A,pp=Ct,vp=rh,dp=Uf,mp=xu;_n({target:"Promise",stat:!0,forced:ap},{race:function(t){var e=this,n=vp.f(e),r=n.reject,i=dp((function(){var i=pp(e.resolve);mp(t,(function(t){hp(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var gp=A,yp=rh;_n({target:"Promise",stat:!0,forced:nh.CONSTRUCTOR},{reject:function(t){var e=yp.f(this);return gp(e.reject,void 0,t),e.promise}});var wp=$e,_p=Q,bp=rh,Tp=function(t,e){if(wp(t),_p(e)&&e.constructor===t)return e;var n=bp.f(t);return(0,n.resolve)(e),n.promise},Pp=_n,Sp=Hf,Ep=nh.CONSTRUCTOR,xp=Tp,Cp=it("Promise"),Mp=!Ep;Pp({target:"Promise",stat:!0,forced:true},{resolve:function(t){return xp(Mp&&this===Cp?Sp:this,t)}});var Dp=A,Ap=Ct,kp=rh,Ip=Uf,Op=xu;_n({target:"Promise",stat:!0,forced:ap},{allSettled:function(t){var e=this,n=kp.f(e),r=n.resolve,i=n.reject,o=Ip((function(){var n=Ap(e.resolve),i=[],o=0,a=1;Op(t,(function(t){var s=o++,u=!1;a++,Dp(n,e,t).then((function(t){u||(u=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){u||(u=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var Lp=A,jp=Ct,Rp=it,Fp=rh,zp=Uf,Up=xu,Hp="No one promise resolved";_n({target:"Promise",stat:!0,forced:ap},{any:function(t){var e=this,n=Rp("AggregateError"),r=Fp.f(e),i=r.resolve,o=r.reject,a=zp((function(){var r=jp(e.resolve),a=[],s=0,u=1,c=!1;Up(t,(function(t){var l=s++,f=!1;u++,Lp(r,e,t).then((function(t){f||c||(c=!0,i(t))}),(function(t){f||c||(f=!0,a[l]=t,--u||o(new n(a,Hp)))}))})),--u||o(new n(a,Hp))}));return a.error&&o(a.value),r.promise}});var Bp=it,Np=x,Xp=Rl,qp=Tp,Yp=Hf&&Hf.prototype;_n({target:"Promise",proto:!0,real:!0,forced:!!Hf&&o((function(){Yp.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=Xp(this,Bp("Promise")),n=Np(t);return this.then(n?function(n){return qp(e,t()).then((function(){return n}))}:t,n?function(n){return qp(e,t()).then((function(){throw n}))}:t)}});var Gp=d,Vp=En,Wp=Du,$p=G,Zp=Gp("".charAt),Jp=Gp("".charCodeAt),Qp=Gp("".slice),Kp=function(t){return function(e,n){var r,i,o=Wp($p(e)),a=Vp(n),s=o.length;return 0>a||a>=s?t?"":void 0:55296>(r=Jp(o,a))||r>56319||a+1===s||56320>(i=Jp(o,a+1))||i>57343?t?Zp(o,a):r:t?Qp(o,a,a+2):i-56320+(r-55296<<10)+65536}},tv={codeAt:Kp(!1),charAt:Kp(!0)},ev=tv.charAt,nv=Du,rv=al,iv=sl,ov="String Iterator",av=fc.set,sv=fc.getterFor(ov);rv(String,"String",(function(t){av(this,{type:ov,string:nv(t),index:0})}),(function(){var t,e=sv(this),n=e.string,r=e.index;return n.length>r?(t=ev(n,r),e.index+=t.length,iv(t,!1)):iv(void 0,!0)}));var uv=K.Promise,cv={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},lv=i,fv=Ii,hv=un,pv=Ys,vv=ae("toStringTag");for(var dv in cv){var mv=lv[dv],gv=mv&&mv.prototype;gv&&fv(gv)!==vv&&hv(gv,vv,dv),pv[dv]=pv.Array}var yv=uv,wv=rh;_n({target:"Promise",stat:!0},{withResolvers:function(){var t=wv.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var _v=yv,bv=rh,Tv=Uf;_n({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=bv.f(this),n=Tv(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}});var Pv=n(_v),Sv=_n,Ev=Ho.findIndex,xv="findIndex",Cv=!0;xv in[]&&[,][xv]((function(){Cv=!1})),Sv({target:"Array",proto:!0,forced:Cv},{findIndex:function(t){return Ev(this,t,arguments.length>1?arguments[1]:void 0)}});var Mv=Sr("Array").findIndex,Dv=ot,Av=Mv,kv=Array.prototype,Iv=n((function(t){var e=t.findIndex;return t===kv||Dv(kv,t)&&e===kv.findIndex?Av:e}));function Ov(){return Ov=cs?cs.bind():function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function Lv(t,e){if(null==t)return{};var n,r,i={},o=Na(t);for(r=0;o.length>r;r++)0>e.indexOf(n=o[r])&&(i[n]=t[n]);return i}var jv=/^(?:-border(?:-top|-right|-bottom|-left)?(?:-width|)|(?:-margin|-padding)?(?:-top|-right|-bottom|-left)?|(?:-min|-max)?(?:-width|-height))$/,Rv="undefined"==typeof window?global:window,Fv=["moz","webkit"],zv=Rv.requestAnimationFrame,Uv=Rv.cancelAnimationFrame||Rv.cancelRequestAnimationFrame;if(!zv||!Uv)for(var Hv=0;2>Hv;Hv++)zv=Rv[Fv[Hv]+"RequestAnimationFrame"],Uv=Rv[Fv[Hv]+"CancelAnimationFrame"]||Rv[Fv[Hv]+"CancelRequestAnimationFrame"];zv&&Uv||(zv=function(){var t=0;return function(e){var n=Date.now(),r=Math.max(0,16-(n-t));return t=n+r,window.setTimeout(e,r)}}(),Uv=function(t){return window.clearTimeout(t)});var Bv=zv,Nv=Uv,Xv=function(t,e){return e>0?+setTimeout(t,e):(t(Math.abs(e)),0)},qv=function(){function t(t){var e=void 0===t?{}:t,n=e.duration,r=e.easing,i=e.delay;this._delay=0,this._frameId=0,this._elapsed=0,this._sleepId=0,this._delayId=0,this._tick=null,this._delayFn=null,this.duration="number"==typeof n&&n>0?n:0,this.easing="function"!=typeof r?function(t){return t}:r,this.delay="number"!=typeof i?0:i}var e=t.prototype;return e.start=function(t){var e=this;if(!this._tick&&!this._delayFn){var n=this.duration,r=this.easing,i=this.delay;this._delayFn=function(i){if(e._delayId=0,e._delayFn=null,e._delay=0,n>0){var o=function i(o){var a=Date.now();e._elapsed+=a-o,n>e._elapsed?(e._frameId=Bv((function(){return i(a)})),t(r(e._elapsed/n))):(e._tick=null,e._frameId=0,e._elapsed=0,t(1))};e._tick=o,e._elapsed=i||0,o(Date.now())}else t(1)},this._delay=Date.now(),this._delayId=Xv(this._delayFn,i)}},e.restart=function(){if((this._tick||this._delayFn)&&(this.stop(),this._tick&&this._tick(Date.now()),this._delayFn)){var t=this.delay+this._delay;this._delay+=Date.now(),this._delayId=Xv(this._delayFn,t)}},e.sleep=function(t){var e=this;t&&t>0&&(this._tick||this._delayFn)&&(this.stop(),this._sleepId=+setTimeout((function(){e._sleepId=0,e.restart()}),t))},e.stop=function(){(this._tick||this._delayFn)&&(this._delayId&&(clearTimeout(this._delayId),this._delayId=0,this._delay-=Date.now()),this._frameId&&(Nv(this._frameId),this._frameId=0),this._sleepId&&(clearTimeout(this._sleepId),this._sleepId=0))},e.end=function(){(this._tick||this._delayFn)&&(this.stop(),this._tick&&this._tick(Date.now()+this._elapsed-this.duration),this._delayFn&&this._delayFn(this.duration))},t}(),Yv=function(){function t(t,e,n){var r=this.value="number"==typeof t?{default:t}:t;if("number"==typeof e){var i={};Na(r).forEach((function(t){i[t]=e||0})),this.precision=i}else e&&(this.precision=e);"function"==typeof n&&(this.transform=n)}return t.prototype.toRaw=function(){var t={value:this.value};return this.precision&&(t.precision=this.precision),this.transform&&(t.transform=this.transform),t},t}(),Gv=["value","precision"],Vv=["value"],Wv=["before","after","cancel"],$v=function(){function t(t){var e=void 0===t?{}:t,n=e.cssProperties,r=e.apply;this.cssProperties={},this._cssProperties=null,this._animations=[],this._apply=r||function(){},n&&this.apply(n)}var e=t.prototype;return e.update=function(){!this.running()&&this._cssProperties&&(this.cssProperties=this._cssProperties,this._cssProperties=null);var t=this.cssProperties,e={};Na(t).forEach((function(n){var r=t[n],i=r.value,o=r.transform;e[n.replace(/([A-Z])/g,"-$1").toLocaleLowerCase()]=o(i)})),this._apply(e)},e.value=function(){var t=this._cssProperties||this.cssProperties,e={};return Na(t).forEach((function(n){e[n]=t[n].value})),e},e.apply=function(t,e){var n=this;this._cssProperties||(this._cssProperties=this.cssProperties);var r=function(t,e){var n=Ov({},t);if(e instanceof Yv){var r=Na(t)[0];if(r){var i=t[r],o=e.toRaw();n[r]=Ov({},i,o,{value:Ov({},i.value,o.value)})}}else Na(e).forEach((function(r){var i=t[r],o=e[r].toRaw();n[r]=i?Ov({},i,o,{value:Ov({},i.value,o.value)}):Ov({transform:function(t){var e;return Go(e=Na(t)).call(e,(function(e){return t[e]})).join(" ")},precision:{}},o)}));return n}(this._cssProperties,t),i=function(t,e){var n={};return Na(t).forEach((function(r){var i=t[r].value,o=e[r],a=o.value,s=o.precision,u=Lv(o,Gv),c=null;Na(i).forEach((function(t){var e=a[t]-i[t];Math.abs(e)>(s[t]||0)&&(c||(c={}),c[t]=e)})),c&&(n[r]=Ov({value:c,precision:s},u))})),n}(this._cssProperties,r);this._cssProperties=r;var o=Na(i),a={};o.forEach((function(t){var e=i[t],r=e.value,o=Lv(e,Vv);a[t]=Ov({value:Ov({},r)},o),n.cssProperties[t]=Ov({},n.cssProperties[t],o)}));var s=e&&0!==o.length?e:{};return new Pv((function(t){var e=s.before,r=void 0===e?function(){}:e,u=s.after,c=void 0===u?function(){}:u,l=s.cancel,f=void 0===l||l,h=Lv(s,Wv),p=new qv(h);n._animations.push({animation:p,cancel:f,remain:a}),p.start((function(e){var s=r(e,n.value());if(!1!==s){var u=e;"number"==typeof s&&(u=s),o.forEach((function(t){var e=n.cssProperties[t].value,r=i[t].value,o=a[t].value;Na(r).forEach((function(t){var n=r[t]*(1-u);e[t]+=o[t]-n,o[t]=n}))})),n.update()}if(c(e,n.value()),1===e){var l,f,h=Iv(l=n._animations).call(l,(function(t){return p===t.animation}));-1!==h&&Io(f=n._animations).call(f,h,1),n.update(),t(n.value())}}))}))},e.cancel=function(t){var e,n=this;void 0===t&&(t=!1);var r=0;return this._animations=Qo(e=this._animations).call(e,(function(e){var i=e.remain;if(e.cancel){e.animation[t?"end":"stop"](),r+=1;var o=n._cssProperties;return o&&Na(i).forEach((function(t){if(o[t]){var e=i[t].value,n=o[t].value;Na(e).forEach((function(t){n[t]-=e[t]}))}})),!1}return!0})),this.update(),r},e.running=function(){return 0!==this._animations.length},t}(),Zv=Yv,Jv=function(t){function e(e,n){return t.call(this,Ov({apply:function(t){return function(t,e){if(t&&e){var n="";Na(e).forEach((function(r){var i=function(t){return t.replace(/([A-Z])/g,"-$1").toLocaleLowerCase()}(r),o=e[r];if(o||0===o){var a="number"==typeof o&&/^[a-z]/.test(i)&&jv.test("-"+i)?"px":"";n+=i+": "+o+a+";"}else t.style.removeProperty(i)})),t.style.cssText+=n}return t}(function(t){var e=t;return"string"==typeof t&&(e=document.querySelector(t)),"function"==typeof t&&(e=t()),e||null}(e),t)}},n||{}))||this}return di(e,t),e}($v),Qv=function(t){return 1-(1-t)*(1-t)},Kv={cancel:!0,duration:500,easing:function(t){return 1-(1-t)*(1-t)*(1-t)*(1-t)}},td=["direction","itemModels","itemSize","enableSwipeClose","transitionEl"],ed=["before","after"],nd=function(t){function e(e){var n,r=void 0===e?{}:e,i=r.direction,o=r.itemModels,a=r.itemSize,s=r.enableSwipeClose,u=r.transitionEl,c=us(r,td);return(n=t.call(this,u||null,c)||this)._direction="horizontal",n._itemModels=[],n._itemSize=0,n._activeIndex=-1,n._enableSwipeClose=!0,n._fgBehavior=0,n._moveTarget="none",n.apply({transform:new Zv(0,1,(function(t){return"translateX("+t.default+"px)"}))}),n.swipeClose(s),n.direction(i),n.itemSize(a),n.itemModels(o),n}di(e,t);var n=e.prototype;return n.activeIndex=function(){return this._activeIndex},n.isHorizontal=function(){return"horizontal"===this._direction},n.isVertical=function(){return"vertical"===this._direction},n.swipeClose=function(t){return void 0!==t&&(this._enableSwipeClose=t),this._enableSwipeClose},n.direction=function(t){if(t){this._direction=t;var e="vertical"===t?"Y":"X";this.apply(new Zv(0,1,(function(t){return"translate"+e+"("+t.default+"px)"})))}return this._direction},n.itemSize=function(t){return void 0!==t&&(this._itemSize=t,this.apply(new Zv(-this.activeIndex()*t))),this._itemSize},n.itemModels=function(t,e){return void 0===t?this._itemModels:"number"==typeof t?this._itemModels[t]:Array.isArray(t)?(this._itemModels=t,t):(this._itemModels[e||0]=t,t)},n.currentItem=function(){return this.itemModels(this.activeIndex())},n.countItems=function(){return this.itemModels().length},n.slide=function(t,e){void 0===e&&(e={});var n=e.before,r=e.after,i=us(e,ed),o=Math.max(Math.min(t,this.countItems()-1),0),a=this.activeIndex()!==o;a&&(this._activeIndex=o,null==n||n(o));var s=-o*this.itemSize();return this.apply(new Zv(s),Ar({},Kv,i)).then((function(){return a&&(null==r||r(o)),o}))},n.next=function(t){return this.slide(this._activeIndex+1,t)},n.prev=function(t){return this.slide(this._activeIndex-1,t)},e}(Jv),rd=_n,id=o,od=gi,ad=Q,sd=qt,ud=On,cd=Pi,ld=so,fd=ro,hd=po,pd=ht,vd=ae("isConcatSpreadable"),dd=pd>=51||!id((function(){var t=[];return t[vd]=!1,t.concat()[0]!==t})),md=function(t){if(!ad(t))return!1;var e=t[vd];return void 0!==e?!!e:od(t)};rd({target:"Array",proto:!0,arity:1,forced:!dd||!hd("concat")},{concat:function(t){var e,n,r,i,o,a=sd(this),s=fd(a,0),u=0;for(e=-1,r=arguments.length;r>e;e++)if(md(o=-1===e?a:arguments[e]))for(i=ud(o),cd(u+i),n=0;i>n;n++,u++)n in o&&ld(s,u,o[n]);else cd(u+1),ld(s,u++,o);return s.length=u,s}});var gd=Sr("Array").concat,yd=ot,wd=gd,_d=Array.prototype,bd=n((function(t){var e=t.concat;return t===_d||yd(_d,t)&&e===_d.concat?wd:e})),Td=Math.PI/180,Pd={multiply:function(t,e,n){var r=e[0],i=e[4],o=e[8],a=e[12],s=e[1],u=e[5],c=e[9],l=e[13],f=e[2],h=e[6],p=e[10],v=e[14],d=e[3],m=e[7],g=e[11],y=e[15],w=n[0],_=n[1],b=n[2],T=n[3],P=n[4],S=n[5],E=n[6],x=n[7],C=n[8],M=n[9],D=n[10],A=n[11],k=n[12],I=n[13],O=n[14],L=n[15];t[0]=r*w+i*P+o*C+a*k,t[4]=r*_+i*S+o*M+a*I,t[8]=r*b+i*E+o*D+a*O,t[12]=r*T+i*x+o*A+a*L,t[1]=s*w+u*P+c*C+l*k,t[5]=s*_+u*S+c*M+l*I,t[9]=s*b+u*E+c*D+l*O,t[13]=s*T+u*x+c*A+l*L,t[2]=f*w+h*P+p*C+v*k,t[6]=f*_+h*S+p*M+v*I,t[10]=f*b+h*E+p*D+v*O,t[14]=f*T+h*x+p*A+v*L,t[3]=d*w+m*P+g*C+y*k,t[7]=d*_+m*S+g*M+y*I,t[11]=d*b+m*E+g*D+y*O,t[15]=d*T+m*x+g*A+y*L},identity:function(t){for(var e=0;16>e;e++)t[e]=0;for(var n=0;16>n;n+=5)t[n]=1},translate:function(t,e,n,r){for(var i=0;4>i;i++)t[12+i]+=t[i]*e+t[4+i]*n+t[8+i]*r},scale:function(t,e,n,r){for(var i=0;4>i;i++)t[i]*=e,t[4+i]*=n,t[8+i]*=r},rotate:function(t,e,n,r,i){var o=new Float32Array(16);o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1;var a=e*Td,s=Math.sin(a),u=Math.cos(a);if(1===n&&0===r&&0===i)o[5]=u,o[10]=u,o[6]=s,o[9]=-s,o[1]=0,o[2]=0,o[4]=0,o[8]=0,o[0]=1;else if(0===n&&0===r&&0===i)o[0]=u,o[10]=u,o[8]=s,o[2]=-s,o[1]=0,o[4]=0,o[6]=0,o[9]=0,o[5]=1;else if(0===n&&0===r&&1===i)o[0]=u,o[5]=u,o[1]=s,o[4]=-s,o[2]=0,o[6]=0,o[8]=0,o[9]=0,o[10]=1;else{var c=Math.sqrt(n*n+r*r+i*i);if(1!==c){var l=1/c;n*=l,r*=l,i*=l}var f=1-u,h=n*r,p=r*i,v=i*n,d=n*s,m=r*s,g=i*s;o[0]=n*n*f+u,o[4]=h*f-g,o[8]=v*f+m,o[1]=h*f+g,o[5]=r*r*f+u,o[9]=p*f-d,o[2]=v*f-m,o[6]=p*f+d,o[10]=i*i*f+u}Pd.multiply(t,t,o)},rotateEuler:function(t,e,n,r){var i=new Float32Array(16),o=e*Td,a=n*Td,s=r*Td,u=Math.cos(o),c=Math.sin(o),l=Math.cos(a),f=Math.sin(a),h=Math.cos(s),p=Math.sin(s),v=u*f,d=c*f;i[0]=l*h,i[1]=-l*p,i[2]=f,i[3]=0,i[4]=v*h+u*p,i[5]=-v*p+u*h,i[6]=-c*l,i[7]=0,i[8]=-d*h+c*p,i[9]=d*p+c*h,i[10]=u*l,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,Pd.multiply(t,t,i)},perspective:function(t,e,n,r,i){var o=1/Math.tan(e*(Math.PI/360)),a=1/(r-i);t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0}},Sd=function(){function t(t){void 0===t&&(t={}),"number"==typeof t.a&&(this.a=t.a),"number"==typeof t.k&&(this.k=t.k),"number"==typeof t.x&&(this.x=t.x),"number"==typeof t.y&&(this.y=t.y)}t.identity=function(){return new t({a:0,k:1,x:0,y:0})};var e=t.prototype;return e.toRaw=function(){var t={};return"number"==typeof this.a&&(t.a=this.a),"number"==typeof this.k&&(t.k=this.k),"number"==typeof this.x&&(t.x=this.x),"number"==typeof this.y&&(t.y=this.y),t},e.toString=function(){var t=this.a,e=void 0===t?0:t,n=this.k,r=void 0===n?1:n,i=this.x,o=void 0===i?0:i,a=this.y,s=void 0===a?0:a,u=new Float32Array(16);return Pd.identity(u),Pd.translate(u,o,s,0),Pd.scale(u,r,r,r),Pd.rotate(u,-e,0,0,1),"matrix3d("+ga(Array.prototype).call(u).join(",")+")"},t}();function Ed(t,e,n,r){return void 0===r&&(r=!1),1>t||1>e||r&&t>e||0>=n||n>1?t:r?Math.pow((e-1)*t/(e-t),1/n):e/(1+(e-1)/Math.pow(t,n))}function xd(t,e){if(void 0===e&&(e={}),0===t)return 0;var n=e.max,r=void 0===n?9999:n,i=e.mode,o=void 0===i?0:i,a=e.expo,s=void 0===a?.88:a,u=Math.abs(t);return(u=1>u?1===o?1/Ed(1/u,r,s):Ed(u+1,r,s)-1:Ed(u,r,s))*(t>0?1:-1)}function Cd(t,e){if(void 0===e&&(e={}),0===t)return 0;var n=e.max,r=void 0===n?9999:n,i=e.mode,o=void 0===i?0:i,a=e.expo,s=void 0===a?.88:a,u=Math.abs(t);return(u=1>u?1===o?1/Ed(1/u,r,s,!0):Ed(u+1,r,s,!0)-1:Ed(u,r,s,!0))*(t>0?1:-1)}function Md(t,e,n){return t>(1-e)/(2*e)?(1+e-2*n)/(2*e)>t?(t-(1-n)/(2*e))/(1-n/e):.5:-.5}function Dd(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return"function"==typeof t?t.apply(void 0,n):t}function Ad(t,e){return t>=e[0]&&e[1]>=t}function kd(t,e,n){var r=e[0];return Math.max(Math.min(t,e[1]),r)}function Id(t){if(t){var e=t.getBoundingClientRect(),n=e.width,r=e.height;return{x:e.left+n/2,y:e.top+r/2,w:n,h:r}}return{x:0,y:0,w:0,h:0}}function Od(t){return t.preventDefault()}var Ld=["sizePosition","dblAdjust","dblScale","damping","rotation","scalation","translation","transitionEl"],jd=["touching"],Rd=function(t){function e(e){var n,r=void 0===e?{}:e,i=r.sizePosition,o=r.dblAdjust,a=r.dblScale,s=r.damping,u=r.rotation,c=r.scalation,l=r.translation,f=r.transitionEl,h=us(r,Ld);return(n=t.call(this,f||null,h)||this)._dblAdjust=!0,n._dblScale=0,n._damping=[],n._rotation=[],n._scalation=[],n._translation=[],n._sizePosition={containerCenter:[0,0],containerWidth:0,containerHeight:0,naturalWidth:0,naturalHeight:0,elementWidth:0,elementHeight:0},n.apply({transform:new Zv({a:0,k:1,x:0,y:0},{a:.001,k:.001,x:1,y:1},(function(t){return""+new Sd(t)}))}),n.sizePosition(i),n.setDblAdjust(o),n.setDamping(s),n.setDblScale(a),n.setRotation(u),n.setScalation(c),n.setTranslation(l),n}di(e,t);var n=e.prototype;return n.reset=function(t){void 0===t&&(t=0);var e=kd(0,this.getRotation()),n=kd(1,this.getScalation()),r=kd(0,this.getXTranslation(n)),i=kd(0,this.getYTranslation(n));this.apply(new Zv({a:e,k:n,x:r,y:i}),Ar({},Kv,{duration:t}))},n.sizePosition=function(t){if(t){var e=t.containerWidth,n=t.containerHeight,r=t.naturalWidth,i=t.naturalHeight,o=r/i,a=r;this._sizePosition={containerCenter:t.containerCenter,containerWidth:e,containerHeight:n,naturalWidth:r,naturalHeight:i,elementWidth:(a=e/n>o?1/2.2>o?Math.min(e,r):n*o:e)||0,elementHeight:a/o||0},this.reset()}return this._sizePosition},n.setRotation=function(t){this._rotation=t},n.getRotation=function(){for(var t,e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var i=Dd.apply(void 0,bd(t=[this._rotation]).call(t,n));return i&&"number"==typeof i[0]&&"number"==typeof i[1]&&i[1]>=i[0]?i:[0,0]},n.setScalation=function(t){this._scalation=t},n.getScalation=function(){for(var t,e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var i=Dd.apply(void 0,bd(t=[this._scalation]).call(t,n));return i&&"number"==typeof i[0]&&"number"==typeof i[1]&&i[1]>=i[0]&&i[0]>0?i:[1,2*this.getDblScale()]},n.setTranslation=function(t){this.setXTranslation(t&&t[0]),this.setYTranslation(t&&t[1])},n.getTranslation=function(t){for(var e,n,r=arguments.length,i=Array(r>1?r-1:0),o=1;r>o;o++)i[o-1]=arguments[o];return[this.getXTranslation.apply(this,bd(e=[t]).call(e,i)),this.getYTranslation.apply(this,bd(n=[t]).call(n,i))]},n.setXTranslation=function(t){this._translation[0]=t},n.getXTranslation=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];var o=Dd.apply(void 0,bd(e=[this._translation[0]]).call(e,r));if(o&&"number"==typeof o[0]&&"number"==typeof o[1]&&o[1]>=o[0])return o;var a=t||this.value().transform.k||1,s=this.sizePosition(),u=Math.max((s.elementWidth*a-s.containerWidth)/2,0);return[-u,u]},n.setYTranslation=function(t){this._translation[1]=t},n.getYTranslation=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];var o=Dd.apply(void 0,bd(e=[this._translation[1]]).call(e,r));if(o&&"number"==typeof o[0]&&"number"==typeof o[1]&&o[1]>=o[0])return o;var a=t||this.value().transform.k||1,s=this.sizePosition(),u=Math.max((s.elementHeight*a-s.containerHeight)/2,0);return[-u,u]},n.setDblScale=function(t){this._dblScale=t},n.getDblScale=function(){for(var t,e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var i=Dd.apply(void 0,bd(t=[this._dblScale]).call(t,n));if("number"==typeof i&&i>0)return i;var o=this.sizePosition(),a=o.containerWidth,s=o.containerHeight,u=o.naturalWidth,c=o.naturalHeight;return Math.max(2,Math.max(a/o.elementWidth,s/o.elementHeight),Math.min(u/a,c/s))||1},n.setDblAdjust=function(t){void 0===t&&(t=!0),this._dblAdjust=t},n.getDblAdjust=function(){return this._dblAdjust},n.isDamping=function(t){var e;return-1!==(null==(e=this._damping)?void 0:e.indexOf(t))},n.setDamping=function(t){this._damping=t||["scale","translate"]},n.rotate=function(t){return this.transform(new Sd({a:t}))},n.rotateTo=function(t){return this.transformTo(new Sd({a:t}))},n.scale=function(t,e){return this.transform(new Sd({k:t}),e)},n.scaleTo=function(t,e){return this.transformTo(new Sd({k:t}),e)},n.translate=function(t,e){return this.transform(new Sd({x:t,y:e}))},n.translateTo=function(t,e){return this.transformTo(new Sd({x:t,y:e}))},n.translateX=function(t){return this.transform(new Sd({x:t}))},n.translateXTo=function(t){return this.transformTo(new Sd({x:t}))},n.translateY=function(t){return this.transform(new Sd({y:t}))},n.translateYTo=function(t){return this.transformTo(new Sd({y:t}))},n.transform=function(t,e,n){var r=this.value().transform,i=t.a,o=t.k,a=t.x,s=t.y;return"number"==typeof i&&(i+=r.a||0),"number"==typeof o&&(o*=r.k||1),"number"==typeof a&&(a+=r.x||0),"number"==typeof s&&(s+=r.y||0),this.transformTo(new Sd({a:i,k:o,x:a,y:s}),e,n)},n.transformTo=function(t,e,n){var r=e,i=n;n||Array.isArray(e)||(i=e,r=void 0);var o=i||{},a=o.touching,s=us(o,jd),u=t.a,c=t.k,l=t.x,f=t.y,h=new Sd;if("number"==typeof u&&(h.a=kd(u,this.getRotation(a))),"number"==typeof c){var p=h.k=kd(c,this.getScalation(a));if(Array.isArray(r)){var v=this.computeOffset(r,p),d=v[0],m=v[1],g=this.value().transform;h.x=kd(("number"==typeof l?l:g.x)+d,this.getXTranslation(p,a)),h.y=kd(("number"==typeof f?f:g.y)+m,this.getYTranslation(p,a))}else"number"==typeof l&&(h.x=kd(l,this.getXTranslation(p,a))),"number"==typeof f&&(h.y=kd(f,this.getYTranslation(p,a)))}else"number"==typeof l&&(h.x=kd(l,this.getXTranslation(0,a))),"number"==typeof f&&(h.y=kd(f,this.getYTranslation(0,a)));return this.apply(new Zv(h.toRaw()),Ar({},Kv,s))},n.computeOffset=function(t,e,n){void 0===n&&(n=!1);var r=this.sizePosition(),i=r.containerCenter,o=r.containerWidth,a=r.containerHeight,s=r.elementWidth,u=r.elementHeight,c=this.value().transform,l=e/c.k,f=i[0],h=i[1],p=("number"==typeof t[0]?t[0]:f)-(f+c.x),v=("number"==typeof t[1]?t[1]:h)-(h+c.y);if(n){var d=o/1,m=a/1,g=s/c.k,y=u/c.k;p=kd(g-(d-g)/(l-1),[0,g])*Md(p/g,l,kd(d/g,[1,2]))||0,v=kd(y-(m-y)/(l-1),[0,y])*Md(v/y,l,kd(m/y,[1,2]))||0}return[p*=1-l,v*=1-l]},n.moveBounce=function(t,e,n,r,i,o){void 0===o&&(o=[]);var a=this.value().transform,s=a.a,u=a.k,c=a.x,l=a.y,f=this.getRotation(t);if(this.isDamping("rotate")){var h=kd(s,f);s=h+Cd(s-h,{max:180}),h=kd(s+=e,f),s=h+xd(s-h,{max:180})}else s=kd(s+=e,f);var p=this.getScalation(t);if(this.isDamping("scale")){var v=kd(u,p);u=v*Cd(u/v,{max:2,mode:1}),v=kd(u*=n,p),u=v*xd(u/v,{max:2,mode:1})}else u=kd(u*=n,p);var d=this.computeOffset(o,u),m=d[0],g=d[1];if(this.isDamping("scale")){var y=this.sizePosition(),w=y.containerWidth,_=y.containerHeight,b=kd(c,this.getXTranslation(0,t));c=b+Cd(c-b,{max:w}),b=kd(c+=m+r,this.getXTranslation(u,t)),c=b+xd(c-b,{max:w});var T=kd(l,this.getYTranslation(0,t));l=T+Cd(l-T,{max:_}),T=kd(l+=g+i,this.getYTranslation(u,t)),l=T+xd(l-T,{max:_})}else c=kd(c+=m+r,this.getXTranslation(u,t)),l=kd(l+=g+i,this.getYTranslation(u,t));this.apply(new Zv({a:s,k:u,x:c,y:l}))},n.resetBounce=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=this.value().transform,i=r.a,o=r.k,a=r.x,s=r.y;if(this.isDamping("rotate")){var u=kd(i,this.getRotation(t));i=u+Cd(i-u,{max:180})}if(this.isDamping("scale")){var c=kd(o,this.getScalation(t));o=c*Cd(o/c,{max:2,mode:1})}if(this.isDamping("translate")){var l=this.sizePosition(),f=l.containerWidth,h=l.containerHeight,p=kd(a,this.getXTranslation(0,t));a=p+Cd(a-p,{max:f});var v=kd(s,this.getYTranslation(0,t));s=v+Cd(s-v,{max:h})}this.transformTo(new Sd({a:i,k:o,x:a,y:s}),e,{cancel:n,touching:t})},n.dblScale=function(t,e){void 0===e&&(e=[]);var n=this.value().transform.k||1,r=kd(this.getDblScale(t),this.getScalation(t)),i=kd(1,this.getScalation(t));if(r>i&&i>=n||i>r&&n>=i)if(this.getDblAdjust()){var o=this.computeOffset(e,r,this.getDblAdjust()),a=o[0],s=o[1],u=this.value().transform;this.transformTo(new Sd({a:0,k:r,x:u.x+a,y:u.y+s}),{cancel:!1})}else this.transformTo(new Sd({k:r}),e,{cancel:!1,touching:t});else this.getDblAdjust()?this.transformTo(new Sd({a:0,k:i,x:0,y:0}),{cancel:!1,touching:t}):this.transformTo(new Sd({k:i}),e,{cancel:!1,touching:t})},n.swipeBounce=function(t,e,n,r,i){var o=this,a=this.sizePosition()["x"===r?"containerWidth":"containerHeight"],s=1.2*this.getDblScale(t),u=this.value().transform[r]||0,c=this.getTranslation(0,t)["x"===r?0:1],l=n>0?1:-1,f=Math.max(1,Math.min(Math.abs(n),s*a))*l,h=Math.max(800,Math.min(2500,e));if(Ad(u+f,c)){var p;if("function"==typeof i)i(r,f,0,(function(){return{duration:h,easing:Qv}}));else this.apply(new Zv(((p={})[r]=u+f,p)),Ar({},Kv,{easing:Qv,duration:h}))}else{var v=kd(u+f,c)-u,d=0;if(this.isDamping("translate")){var m=(Ad(u,c)?Math.sqrt(1-Math.abs(v/f)):1)*(2*Math.abs(f)/h);d=Math.min(30*m,a/4)*l}if("function"==typeof i)i(r,v,d,(function(t){return{duration:(1-Math.sqrt(1-Math.abs(t/f)))*h,easing:Qv}}));else{var g,y,w=Math.max((v+d)*l,0)*l,_=1-Math.sqrt(1-Math.abs(w/f));if(0===w)this.apply(new Zv(((g={})[r]=kd(u+w,c),g)),Ar({},Kv));else this.apply(new Zv((y={},y[r]=u+w,y)),Ar({},Kv,{duration:_*h,easing:Qv})).then((function(){var t;o.apply(new Zv(((t={})[r]=kd(u+w,c),t)),Ar({},Kv))}))}}},e}(Jv),Fd=o,zd=ae("iterator"),Ud=!Fd((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),n.delete("a",2),n.delete("b",void 0),!t.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b")||!e.size&&true||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||new URLSearchParams("?a=1")+""!="a=1"||!e[zd]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),Hd=yc,Bd=Dn,Nd=On,Xd=so,qd=Array,Yd=Math.max,Gd=function(t,e,n){for(var r=Nd(t),i=Bd(e,r),o=Bd(void 0===n?r:n,r),a=qd(Yd(o-i,0)),s=0;o>i;i++,s++)Xd(a,s,t[i]);return a.length=s,a},Vd=Gd,Wd=Math.floor,$d=function(t,e){var n=t.length,r=Wd(n/2);return 8>n?Zd(t,e):Jd(t,$d(Vd(t,0,r),e),$d(Vd(t,r),e),e)},Zd=function(t,e){for(var n,r,i=t.length,o=1;i>o;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},Jd=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,s=0;i>a||o>s;)t[a+s]=i>a&&o>s?r(e[a],n[s])>0?n[s++]:e[a++]:i>a?e[a++]:n[s++];return t},Qd=_n,Kd=i,tm=A,em=d,nm=M,rm=Ud,im=yc,om=bl,am=function(t,e,n){for(var r in e)n&&n.unsafe&&t[r]?t[r]=e[r]:Hd(t,r,e[r],n);return t},sm=Rc,um=Xc,cm=fc,lm=Ml,fm=x,hm=Vt,pm=Xe,vm=Ii,dm=$e,mm=Q,gm=Du,ym=ei,wm=F,_m=uu,bm=eu,Tm=zl,Pm=$d,Sm=ae("iterator"),Em="URLSearchParams",xm=Em+"Iterator",Cm=cm.set,Mm=cm.getterFor(Em),Dm=cm.getterFor(xm),Am=Object.getOwnPropertyDescriptor,km=function(t){if(!nm)return Kd[t];var e=Am(Kd,t);return e&&e.value},Im=km("fetch"),Om=km("Request"),Lm=km("Headers"),jm=Om&&Om.prototype,Rm=Lm&&Lm.prototype,Fm=Kd.RegExp,zm=Kd.TypeError,Um=Kd.decodeURIComponent,Hm=Kd.encodeURIComponent,Bm=em("".charAt),Nm=em([].join),Xm=em([].push),qm=em("".replace),Ym=em([].shift),Gm=em([].splice),Vm=em("".split),Wm=em("".slice),$m=/\+/g,Zm=[,,,,],Jm=function(t){return Zm[t-1]||(Zm[t-1]=Fm("((?:%[\\da-f]{2}){"+t+"})","gi"))},Qm=function(t){try{return Um(t)}catch(e){return t}},Km=function(t){var e=qm(t,$m," "),n=4;try{return Um(e)}catch(t){for(;n;)e=qm(e,Jm(n--),Qm);return e}},tg=/[!'()~]|%20/g,eg={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ng=function(t){return eg[t]},rg=function(t){return qm(Hm(t),tg,ng)},ig=um((function(t,e){Cm(this,{type:xm,iterator:_m(Mm(t).entries),kind:e})}),"Iterator",(function(){var t=Dm(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),og=function(t){this.entries=[],this.url=null,void 0!==t&&(mm(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===Bm(t,0)?Wm(t,1):t:gm(t)))};og.prototype={type:Em,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,o,a,s,u=bm(t);if(u)for(n=(e=_m(t,u)).next;!(r=tm(n,e)).done;){if(i=_m(dm(r.value)),(a=tm(o=i.next,i)).done||(s=tm(o,i)).done||!tm(o,i).done)throw zm("Expected sequence with length 2");Xm(this.entries,{key:gm(a.value),value:gm(s.value)})}else for(var c in t)hm(t,c)&&Xm(this.entries,{key:c,value:gm(t[c])})},parseQuery:function(t){if(t)for(var e,n,r=Vm(t,"&"),i=0;r.length>i;)(e=r[i++]).length&&(n=Vm(e,"="),Xm(this.entries,{key:Km(Ym(n)),value:Km(Nm(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;e.length>r;)t=e[r++],Xm(n,rg(t.key)+"="+rg(t.value));return Nm(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ag=function(){lm(this,sg);var t=Cm(this,new og(arguments.length>0?arguments[0]:void 0));nm||(this.size=t.entries.length)},sg=ag.prototype;if(am(sg,{append:function(t,e){var n=Mm(this);Tm(arguments.length,2),Xm(n.entries,{key:gm(t),value:gm(e)}),nm||this.length++,n.updateURL()},delete:function(t){for(var e=Mm(this),n=Tm(arguments.length,1),r=e.entries,i=gm(t),o=2>n?void 0:arguments[1],a=void 0===o?o:gm(o),s=0;r.length>s;){var u=r[s];if(u.key!==i||void 0!==a&&u.value!==a)s++;else if(Gm(r,s,1),void 0!==a)break}nm||(this.size=r.length),e.updateURL()},get:function(t){var e=Mm(this).entries;Tm(arguments.length,1);for(var n=gm(t),r=0;e.length>r;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){var e=Mm(this).entries;Tm(arguments.length,1);for(var n=gm(t),r=[],i=0;e.length>i;i++)e[i].key===n&&Xm(r,e[i].value);return r},has:function(t){for(var e=Mm(this).entries,n=Tm(arguments.length,1),r=gm(t),i=2>n?void 0:arguments[1],o=void 0===i?i:gm(i),a=0;e.length>a;){var s=e[a++];if(s.key===r&&(void 0===o||s.value===o))return!0}return!1},set:function(t,e){var n=Mm(this);Tm(arguments.length,1);for(var r,i=n.entries,o=!1,a=gm(t),s=gm(e),u=0;i.length>u;u++)(r=i[u]).key===a&&(o?Gm(i,u--,1):(o=!0,r.value=s));o||Xm(i,{key:a,value:s}),nm||(this.size=i.length),n.updateURL()},sort:function(){var t=Mm(this);Pm(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=Mm(this).entries,r=pm(t,arguments.length>1?arguments[1]:void 0),i=0;n.length>i;)r((e=n[i++]).value,e.key,this)},keys:function(){return new ig(this,"keys")},values:function(){return new ig(this,"values")},entries:function(){return new ig(this,"entries")}},{enumerable:!0}),im(sg,Sm,sg.entries,{name:"entries"}),im(sg,"toString",(function(){return Mm(this).serialize()}),{enumerable:!0}),nm&&om(sg,"size",{get:function(){return Mm(this).entries.length},configurable:!0,enumerable:!0}),sm(ag,Em),Qd({global:!0,constructor:!0,forced:!rm},{URLSearchParams:ag}),!rm&&fm(Lm)){var ug=em(Rm.has),cg=em(Rm.set),lg=function(t){if(mm(t)){var e,n=t.body;if(vm(n)===Em)return e=t.headers?new Lm(t.headers):new Lm,ug(e,"content-type")||cg(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),ym(t,{body:wm(0,gm(n)),headers:wm(0,e)})}return t};if(fm(Im)&&Qd({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return Im(t,arguments.length>1?lg(arguments[1]):{})}}),fm(Om)){var fg=function(t){return lm(this,jm),new Om(t,arguments.length>1?lg(arguments[1]):{})};jm.constructor=fg,fg.prototype=jm,Qd({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:fg})}}var hg,pg={URLSearchParams:ag,getState:Mm},vg=$e,dg=hu,mg=Xe,gg=A,yg=qt,wg=function(t,e,n,r){try{return r?e(vg(n)[0],n[1]):e(n)}catch(e){dg(t,"throw",e)}},_g=$s,bg=Zi,Tg=On,Pg=so,Sg=uu,Eg=eu,xg=Array,Cg=d,Mg=2147483647,Dg=/[^\0-\u007E]/,Ag=/[.\u3002\uFF0E\uFF61]/g,kg="Overflow: input needs wider integers to process",Ig=RangeError,Og=Cg(Ag.exec),Lg=Math.floor,jg=String.fromCharCode,Rg=Cg("".charCodeAt),Fg=Cg([].join),zg=Cg([].push),Ug=Cg("".replace),Hg=Cg("".split),Bg=Cg("".toLowerCase),Ng=function(t){return t+22+75*(26>t)},Xg=function(t,e,n){var r=0;for(t=n?Lg(t/700):t>>1,t+=Lg(t/e);t>455;)t=Lg(t/35),r+=36;return Lg(r+36*t/(t+38))},qg=function(t){var e=[];t=function(t){for(var e=[],n=0,r=t.length;r>n;){var i=Rg(t,n++);if(55296>i||i>56319||n>=r)zg(e,i);else{var o=Rg(t,n++);56320==(64512&o)?zg(e,((1023&i)<<10)+(1023&o)+65536):(zg(e,i),n--)}}return e}(t);var n,r,i=t.length,o=128,a=0,s=72;for(n=0;t.length>n;n++)128>(r=t[n])&&zg(e,jg(r));var u=e.length,c=u;for(u&&zg(e,"-");i>c;){var l=Mg;for(n=0;t.length>n;n++)(r=t[n])>=o&&l>r&&(l=r);var f=c+1;if(l-o>Lg((Mg-a)/f))throw Ig(kg);for(a+=(l-o)*f,o=l,n=0;t.length>n;n++){if(o>(r=t[n])&&++a>Mg)throw Ig(kg);if(r==o){for(var h=a,p=36;;){var v=p>s?s+26>p?p-s:26:1;if(v>h)break;var d=h-v,m=36-v;zg(e,jg(Ng(v+d%m))),h=Lg(d/m),p+=36}zg(e,jg(Ng(h))),s=Xg(a,f,c==u),a=0,c++}}a++,o++}return Fg(e,"")},Yg=_n,Gg=M,Vg=Ud,Wg=i,$g=Xe,Zg=d,Jg=yc,Qg=bl,Kg=Ml,ty=Vt,ey=ur,ny=function(t){var e=yg(t),n=bg(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=mg(i,r>2?arguments[2]:void 0));var a,s,u,c,l,f,h=Eg(e),p=0;if(!h||this===xg&&_g(h))for(a=Tg(e),s=n?new this(a):xg(a);a>p;p++)f=o?i(e[p],p):e[p],Pg(s,p,f);else for(l=(c=Sg(e,h)).next,s=n?new this:[];!(u=gg(l,c)).done;p++)f=o?wg(c,i,[u.value,p],!0):u.value,Pg(s,p,f);return s.length=p,s},ry=Gd,iy=tv.codeAt,oy=function(t){var e,n,r=[],i=Hg(Ug(Bg(t),Ag,"."),".");for(e=0;i.length>e;e++)zg(r,Og(Dg,n=i[e])?"xn--"+qg(n):n);return Fg(r,".")},ay=Du,sy=Rc,uy=zl,cy=pg,ly=fc.set,fy=fc.getterFor("URL"),hy=cy.URLSearchParams,py=cy.getState,vy=Wg.URL,dy=Wg.TypeError,my=Wg.parseInt,gy=Math.floor,yy=Math.pow,wy=Zg("".charAt),_y=Zg(/./.exec),by=Zg([].join),Ty=Zg(1..toString),Py=Zg([].pop),Sy=Zg([].push),Ey=Zg("".replace),xy=Zg([].shift),Cy=Zg("".split),My=Zg("".slice),Dy=Zg("".toLowerCase),Ay=Zg([].unshift),ky="Invalid scheme",Iy="Invalid host",Oy="Invalid port",Ly=/[a-z]/i,jy=/[\d+-.a-z]/i,Ry=/\d/,Fy=/^0x/i,zy=/^[0-7]+$/,Uy=/^\d+$/,Hy=/^[\da-f]+$/i,By=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Ny=/[\0\t\n\r #/:<>?@[\\\]^|]/,Xy=/^[\u0000-\u0020]+/,qy=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Yy=/[\t\n\r]/g,Gy=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;4>n;n++)Ay(e,t%256),t=gy(t/256);return by(e,".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;8>o;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;8>n;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=Ty(t[n],16),7>n&&(e+=":")));return"["+e+"]"}return t},Vy={},Wy=ey({},Vy,{" ":1,'"':1,"<":1,">":1,"`":1}),$y=ey({},Wy,{"#":1,"?":1,"{":1,"}":1}),Zy=ey({},$y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Jy=function(t,e){var n=iy(t,0);return n>32&&127>n&&!ty(e,t)?t:encodeURIComponent(t)},Qy={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ky=function(t,e){var n;return 2==t.length&&_y(Ly,wy(t,0))&&(":"==(n=wy(t,1))||!e&&"|"==n)},tw=function(t){var e;return t.length>1&&Ky(My(t,0,2))&&(2==t.length||"/"===(e=wy(t,2))||"\\"===e||"?"===e||"#"===e)},ew=function(t){return"."===t||"%2e"===Dy(t)},nw={},rw={},iw={},ow={},aw={},sw={},uw={},cw={},lw={},fw={},hw={},pw={},vw={},dw={},mw={},gw={},yw={},ww={},_w={},bw={},Tw={},Pw=function(t,e,n){var r,i,o,a=ay(t);if(e){if(i=this.parse(a))throw dy(i);this.searchParams=null}else{if(void 0!==n&&(r=new Pw(n,!0)),i=this.parse(a,null,r))throw dy(i);(o=py(new hy)).bindURL(this),this.searchParams=o}};Pw.prototype={type:"URL",parse:function(t,e,n){var r,i,o,a,s,u=this,c=e||nw,l=0,f="",h=!1,p=!1,v=!1;for(t=ay(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=Ey(t,Xy,""),t=Ey(t,qy,"$1")),t=Ey(t,Yy,""),r=ny(t);r.length>=l;){switch(i=r[l],c){case nw:if(!i||!_y(Ly,i)){if(e)return ky;c=iw;continue}f+=Dy(i),c=rw;break;case rw:if(i&&(_y(jy,i)||"+"==i||"-"==i||"."==i))f+=Dy(i);else{if(":"!=i){if(e)return ky;f="",c=iw,l=0;continue}if(e&&(u.isSpecial()!=ty(Qy,f)||"file"==f&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=f,e)return void(u.isSpecial()&&Qy[u.scheme]==u.port&&(u.port=null));f="","file"==u.scheme?c=dw:u.isSpecial()&&n&&n.scheme==u.scheme?c=ow:u.isSpecial()?c=cw:"/"==r[l+1]?(c=aw,l++):(u.cannotBeABaseURL=!0,Sy(u.path,""),c=_w)}break;case iw:if(!n||n.cannotBeABaseURL&&"#"!=i)return ky;if(n.cannotBeABaseURL&&"#"==i){u.scheme=n.scheme,u.path=ry(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,c=Tw;break}c="file"==n.scheme?dw:sw;continue;case ow:if("/"!=i||"/"!=r[l+1]){c=sw;continue}c=lw,l++;break;case aw:if("/"==i){c=fw;break}c=ww;continue;case sw:if(u.scheme=n.scheme,i==hg)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=ry(n.path),u.query=n.query;else if("/"==i||"\\"==i&&u.isSpecial())c=uw;else if("?"==i)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=ry(n.path),u.query="",c=bw;else{if("#"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=ry(n.path),u.path.length--,c=ww;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=ry(n.path),u.query=n.query,u.fragment="",c=Tw}break;case uw:if(!u.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,c=ww;continue}c=fw}else c=lw;break;case cw:if(c=lw,"/"!=i||"/"!=wy(f,l+1))continue;l++;break;case lw:if("/"!=i&&"\\"!=i){c=fw;continue}break;case fw:if("@"==i){h&&(f="%40"+f),h=!0,o=ny(f);for(var d=0;o.length>d;d++){var m=o[d];if(":"!=m||v){var g=Jy(m,Zy);v?u.password+=g:u.username+=g}else v=!0}f=""}else if(i==hg||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(h&&""==f)return"Invalid authority";l-=ny(f).length+1,f="",c=hw}else f+=i;break;case hw:case pw:if(e&&"file"==u.scheme){c=gw;continue}if(":"!=i||p){if(i==hg||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(u.isSpecial()&&""==f)return Iy;if(e&&""==f&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(f))return a;if(f="",c=yw,e)return;continue}"["==i?p=!0:"]"==i&&(p=!1),f+=i}else{if(""==f)return Iy;if(a=u.parseHost(f))return a;if(f="",c=vw,e==pw)return}break;case vw:if(!_y(Ry,i)){if(i==hg||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()||e){if(""!=f){var y=my(f,10);if(y>65535)return Oy;u.port=u.isSpecial()&&y===Qy[u.scheme]?null:y,f=""}if(e)return;c=yw;continue}return Oy}f+=i;break;case dw:if(u.scheme="file","/"==i||"\\"==i)c=mw;else{if(!n||"file"!=n.scheme){c=ww;continue}if(i==hg)u.host=n.host,u.path=ry(n.path),u.query=n.query;else if("?"==i)u.host=n.host,u.path=ry(n.path),u.query="",c=bw;else{if("#"!=i){tw(by(ry(r,l),""))||(u.host=n.host,u.path=ry(n.path),u.shortenPath()),c=ww;continue}u.host=n.host,u.path=ry(n.path),u.query=n.query,u.fragment="",c=Tw}}break;case mw:if("/"==i||"\\"==i){c=gw;break}n&&"file"==n.scheme&&!tw(by(ry(r,l),""))&&(Ky(n.path[0],!0)?Sy(u.path,n.path[0]):u.host=n.host),c=ww;continue;case gw:if(i==hg||"/"==i||"\\"==i||"?"==i||"#"==i){if(!e&&Ky(f))c=ww;else if(""==f){if(u.host="",e)return;c=yw}else{if(a=u.parseHost(f))return a;if("localhost"==u.host&&(u.host=""),e)return;f="",c=yw}continue}f+=i;break;case yw:if(u.isSpecial()){if(c=ww,"/"!=i&&"\\"!=i)continue}else if(e||"?"!=i)if(e||"#"!=i){if(i!=hg&&(c=ww,"/"!=i))continue}else u.fragment="",c=Tw;else u.query="",c=bw;break;case ww:if(i==hg||"/"==i||"\\"==i&&u.isSpecial()||!e&&("?"==i||"#"==i)){if(".."===(s=Dy(s=f))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(u.shortenPath(),"/"==i||"\\"==i&&u.isSpecial()||Sy(u.path,"")):ew(f)?"/"==i||"\\"==i&&u.isSpecial()||Sy(u.path,""):("file"==u.scheme&&!u.path.length&&Ky(f)&&(u.host&&(u.host=""),f=wy(f,0)+":"),Sy(u.path,f)),f="","file"==u.scheme&&(i==hg||"?"==i||"#"==i))for(;u.path.length>1&&""===u.path[0];)xy(u.path);"?"==i?(u.query="",c=bw):"#"==i&&(u.fragment="",c=Tw)}else f+=Jy(i,$y);break;case _w:"?"==i?(u.query="",c=bw):"#"==i?(u.fragment="",c=Tw):i!=hg&&(u.path[0]+=Jy(i,Vy));break;case bw:e||"#"!=i?i!=hg&&("'"==i&&u.isSpecial()?u.query+="%27":u.query+="#"==i?"%23":Jy(i,Vy)):(u.fragment="",c=Tw);break;case Tw:i!=hg&&(u.fragment+=Jy(i,Wy))}l++}},parseHost:function(t){var e,n,r;if("["==wy(t,0)){if("]"!=wy(t,t.length-1))return Iy;if(e=function(t){var e,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,h=function(){return wy(t,f)};if(":"==h()){if(":"!=wy(t,1))return;f+=2,l=++c}for(;h();){if(8==c)return;if(":"!=h()){for(e=n=0;4>n&&_y(Hy,h());)e=16*e+my(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,c>6)return;for(r=0;h();){if(i=null,r>0){if("."!=h()||r>=4)return;f++}if(!_y(Ry,h()))return;for(;_y(Ry,h());){if(o=my(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;u[c++]=e}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u}(My(t,1,-1)),!e)return Iy;this.host=e}else if(this.isSpecial()){if(t=oy(t),_y(By,t))return Iy;if(e=function(t){var e,n,r,i,o,a,s,u=Cy(t,".");if(u.length&&""==u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(n=[],r=0;e>r;r++){if(""==(i=u[r]))return t;if(o=10,i.length>1&&"0"==wy(i,0)&&(o=_y(Fy,i)?16:8,i=My(i,8==o?1:2)),""===i)a=0;else{if(!_y(10==o?Uy:8==o?zy:Hy,i))return t;a=my(i,o)}Sy(n,a)}for(r=0;e>r;r++)if(a=n[r],r==e-1){if(a>=yy(256,5-e))return null}else if(a>255)return null;for(s=Py(n),r=0;n.length>r;r++)s+=n[r]*yy(256,3-r);return s}(t),null===e)return Iy;this.host=e}else{if(_y(Ny,t))return Iy;for(e="",n=ny(t),r=0;n.length>r;r++)e+=Jy(n[r],Vy);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return ty(Qy,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&Ky(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",t.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=Gy(i),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+by(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(t){var e=this.parse(t);if(e)throw dy(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Sw(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+Gy(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(ay(t)+":",nw)},getUsername:function(){return this.username},setUsername:function(t){var e=ny(ay(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;e.length>n;n++)this.username+=Jy(e[n],Zy)}},getPassword:function(){return this.password},setPassword:function(t){var e=ny(ay(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;e.length>n;n++)this.password+=Jy(e[n],Zy)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?Gy(t):Gy(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,hw)},getHostname:function(){var t=this.host;return null===t?"":Gy(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,pw)},getPort:function(){var t=this.port;return null===t?"":ay(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=ay(t))?this.port=null:this.parse(t,vw))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+by(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,yw))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=ay(t))?this.query=null:("?"==wy(t,0)&&(t=My(t,1)),this.query="",this.parse(t,bw)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=ay(t))?("#"==wy(t,0)&&(t=My(t,1)),this.fragment="",this.parse(t,Tw)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Sw=function(t){var e=Kg(this,Ew),n=uy(arguments.length,1)>1?arguments[1]:void 0,r=ly(e,new Pw(t,!1,n));Gg||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Ew=Sw.prototype,xw=function(t,e){return{get:function(){return fy(this)[t]()},set:e&&function(t){return fy(this)[e](t)},configurable:!0,enumerable:!0}};if(Gg&&(Qg(Ew,"href",xw("serialize","setHref")),Qg(Ew,"origin",xw("getOrigin")),Qg(Ew,"protocol",xw("getProtocol","setProtocol")),Qg(Ew,"username",xw("getUsername","setUsername")),Qg(Ew,"password",xw("getPassword","setPassword")),Qg(Ew,"host",xw("getHost","setHost")),Qg(Ew,"hostname",xw("getHostname","setHostname")),Qg(Ew,"port",xw("getPort","setPort")),Qg(Ew,"pathname",xw("getPathname","setPathname")),Qg(Ew,"search",xw("getSearch","setSearch")),Qg(Ew,"searchParams",xw("getSearchParams")),Qg(Ew,"hash",xw("getHash","setHash"))),Jg(Ew,"toJSON",(function(){return fy(this).serialize()}),{enumerable:!0}),Jg(Ew,"toString",(function(){return fy(this).serialize()}),{enumerable:!0}),vy){var Cw=vy.createObjectURL,Mw=vy.revokeObjectURL;Cw&&Jg(Sw,"createObjectURL",$g(Cw,vy)),Mw&&Jg(Sw,"revokeObjectURL",$g(Mw,vy))}sy(Sw,"URL"),Yg({global:!0,constructor:!0,forced:!Vg,sham:!Gg},{URL:Sw});var Dw=_n,Aw=o,kw=zl,Iw=Du,Ow=Ud,Lw=it("URL");Dw({target:"URL",stat:!0,forced:!(Ow&&Aw((function(){Lw.canParse()})))},{canParse:function(t){var e=kw(arguments.length,1),n=Iw(t),r=2>e||void 0===arguments[1]?void 0:Iw(arguments[1]);try{return!!new Lw(n,r)}catch(t){return!1}}});var jw=n(K.URL),Rw=function(t,e){return new Pv((function(n,r){var i=new Image,o=function(){i.onload=null,i.onprogress=null,i.onerror=null};i.onload=function(){n(i),o()},i.onerror=function(t){r(t),o()},"function"==typeof e&&(i.onprogress=function(t){return e(t.loaded/t.total)}),i.src=t}))},Fw=function(t,e){return"function"==typeof e?function(t,e){return new Pv((function(n,r){var i=new XMLHttpRequest;i.onprogress=function(t){t.lengthComputable&&"function"==typeof e&&e(t)},i.onloadend=function(t){i.status>=200&&300>i.status||304===i.status?n(jw.createObjectURL(i.response)):r(t)},i.open("GET",t),i.responseType="blob",i.send()}))}(t,(function(t){return e(t.loaded/t.total)})).then((function(t){return Rw(t).then((function(e){return jw.revokeObjectURL(t),e}))})).catch((function(){return Rw(t)})):Rw(t)},zw=function(t){function e(e){var n,r=e.container,i=e.style,o=e.className,a=e.src,s=void 0===a?"":a,u=e.viewPosition,c=e.loading,l=e.error,f=e.active,h=void 0===f||f,p=null;return(n=t.call(this,{transitionEl:function(){return null==p?void 0:p()},rotation:function(t){return t?void 0:[-Number.MAX_VALUE,Number.MAX_VALUE]},scalation:function(t){return t?void 0:[.1,10]}})||this)._viewPosition=null,n._src="",n._active=!1,n._wrapper=Za({className:["preview-image__image__wrapper",o||""],style:i},null,r),n._loading=c||null,n._error=l||null,n.setViewPosition(u),n.setSrc(s),n.setActive(h),p=function(){return n.getImageElement()},n}di(e,t);var n=e.prototype;return n.getElement=function(){return this._wrapper},n.getImageElement=function(){return this._image||null},n.setActive=function(t){void 0===t&&(t=!0),this._active=t,t&&this.load()},n.setSrc=function(t){this._src=t||"",this._image=void 0;var e=this.getElement();if(e){e.innerHTML="";var n=this._loading;!1!==n&&e.appendChild($a(n)||Za("span",{className:"preview-image__image__loading",style:{background:"url(data:image/svg+xml,%3Csvg%20width%3D%22100%25%22%20height%3D%22100%25%22%20viewBox%3D%220%200%2080%2080%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%3Cdefs%3E%20%20%20%20%3ClinearGradient%20%20%20%20%20%20x1%3D%2294.0869141%25%22%20%20%20%20%20%20y1%3D%220%25%22%20%20%20%20%20%20x2%3D%2294.0869141%25%22%20%20%20%20%20%20y2%3D%2290.559082%25%22%20%20%20%20%20%20id%3D%22linearGradient-1%22%20%20%20%20%3E%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23fff%22%20stop-opacity%3D%220%22%20offset%3D%220%25%22%20%2F%3E%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23fff%22%20stop-opacity%3D%220.3%22%20offset%3D%22100%25%22%20%2F%3E%20%20%20%20%3C%2FlinearGradient%3E%20%20%20%20%3ClinearGradient%20%20%20%20%20%20x1%3D%22100%25%22%20%20%20%20%20%20y1%3D%228.67370605%25%22%20%20%20%20%20%20x2%3D%22100%25%22%20%20%20%20%20%20y2%3D%2290.6286621%25%22%20%20%20%20%20%20id%3D%22linearGradient-2%22%20%20%20%20%3E%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23fff%22%20offset%3D%220%25%22%20%2F%3E%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23fff%22%20stop-opacity%3D%220.3%22%20offset%3D%22100%25%22%20%2F%3E%20%20%20%20%3C%2FlinearGradient%3E%20%20%3C%2Fdefs%3E%20%20%3Cg%20%20%20%20stroke%3D%22none%22%20%20%20%20stroke-width%3D%221%22%20%20%20%20fill%3D%22none%22%20%20%20%20fill-rule%3D%22evenodd%22%20%20%20%20opacity%3D%220.9%22%20%20%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%3Cpath%20%20%20%20%20%20%20%20d%3D%22M40%2C0%20C62.09139%2C0%2080%2C17.90861%2080%2C40%20C80%2C62.09139%2062.09139%2C80%2040%2C80%20L40%2C73%20C58.2253967%2C73%2073%2C58.2253967%2073%2C40%20C73%2C21.7746033%2058.2253967%2C7%2040%2C7%20L40%2C0%20Z%22%20%20%20%20%20%20%20%20fill%3D%22url%28%23linearGradient-1%29%22%20%20%20%20%20%20%2F%3E%20%20%20%20%20%20%3Cpath%20%20%20%20%20%20%20%20d%3D%22M40%2C0%20L40%2C7%20C21.7746033%2C7%207%2C21.7746033%207%2C40%20C7%2C58.2253967%2021.7746033%2C73%2040%2C73%20L40%2C80%20C17.90861%2C80%200%2C62.09139%200%2C40%20C0%2C17.90861%2017.90861%2C0%2040%2C0%20Z%22%20%20%20%20%20%20%20%20fill%3D%22url%28%23linearGradient-2%29%22%20%20%20%20%20%20%2F%3E%20%20%20%20%20%20%3Ccircle%20id%3D%22Oval%22%20fill%3D%22%23fff%22%20cx%3D%2240.5%22%20cy%3D%223.5%22%20r%3D%223.5%22%20%2F%3E%20%20%20%20%3C%2Fg%3E%20%20%20%20%3CanimateTransform%20%20%20%20%20%20attributeName%3D%22transform%22%20%20%20%20%20%20begin%3D%220s%22%20%20%20%20%20%20dur%3D%221s%22%20%20%20%20%20%20type%3D%22rotate%22%20%20%20%20%20%20values%3D%220%2040%2040%3B360%2040%2040%22%20%20%20%20%20%20repeatCount%3D%22indefinite%22%20%20%20%20%2F%3E%20%20%3C%2Fg%3E%3C%2Fsvg%3E)"}})),this._active&&this.load()}},n.setViewPosition=function(t){this._viewPosition=t||null,this.resize()},n.load=function(){var t=this,e=this.getElement();e&&void 0===this._image&&(this._image=null,Fw(this._src).then((function(n){t._image=n,t.resize(),e.innerHTML="",e.appendChild(n)})).catch((function(){t._image=null,e.innerHTML="";var n=t._error;!1!==n&&e.appendChild($a(n)||Za({className:"preview-image__image__error"},[Za("span",{style:{background:"url(data:image/svg+xml,%3Csvg%20width%3D%22100%25%22%20height%3D%22100%25%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%23fff%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%3Cpath%20%20%20%20d%3D%22M12%2022C6.477%2022%202%2017.523%202%2012S6.477%202%2012%202s10%204.477%2010%2010-4.477%2010-10%2010zm-.763-15.864l.11%207.596h1.305l.11-7.596h-1.525zm.759%2010.967c.512%200%20.902-.383.902-.882%200-.5-.39-.882-.902-.882a.878.878%200%2000-.896.882c0%20.499.396.882.896.882z%22%20%2F%3E%3C%2Fsvg%3E)"}}),Za("span",{},"å¾çå è½½å¤±è´¥")]))})))},n.resize=function(){var e=this._image;if(e){var n=this._viewPosition||{},r=n.x,i=n.y,o=n.w,a=n.h,s=t.prototype.sizePosition.call(this,{containerCenter:[void 0===r?0:r,void 0===i?0:i],containerWidth:void 0===o?0:o,containerHeight:void 0===a?0:a,naturalWidth:e.naturalWidth,naturalHeight:e.naturalHeight}),u=s.elementHeight;e.width=s.elementWidth,e.height=u}},n.destory=function(){this._wrapper=null,this._image=void 0,this._viewPosition=null,this._loading=null,this._error=null},e}(Rd),Uw=!1;function Hw(t,e){var n=e.contextMenu;if(!t.isTouching()){var r=this.currentItem();if(this.running()||null!=r&&r.running())return;var i=-this.activeIndex()*this.itemSize();if(0===Math.round(this.value().transform.default-i)){var o=t.angle,a=void 0===o?0:o;isNaN(a)?(Uw||null==n||n(t),Uw=!1,null==r||r.resetBounce(!1)):(Uw=!0,null==r||r.moveBounce(!1,a,1,0,0))}}}function Bw(t){if(!t.isTouching()){var e=this.currentItem();if(this.running()||null!=e&&e.running())return;var n=-this.activeIndex()*this.itemSize();if(0===Math.round(this.value().transform.default-n)){var r=t.scale,i=void 0===r?1:r;isNaN(i)?null==e||e.resetBounce(!1):null==e||e.moveBounce(!1,0,i,0,0)}}}function Nw(t,e){var n=e.contextMenu;if(t.isTouching()){var r=this.currentItem();if(this.running()||null!=r&&r.running())return;null==n||n(t)}}function Xw(t,e){var n=e.internalClose,r=this.currentItem();this.running()||null!=r&&r.running()||null==n||n(t)}function qw(t,e){var n=e.internalClose,r=e.slideBefore,i=e.slideAfter,o=this.currentItem();if(!(this.running()||null!=o&&o.running())){var a=t.direction,s="Right"===a&&this.isHorizontal()||"Down"===a&&this.isVertical(),u=-this.activeIndex()*this.itemSize(),c=this.value().transform.default-u,l=(s&&0>c||!s&&c>0)&&0!==Math.round(c)?-c:0;if("inside"!==this._moveTarget)if("closures"!==this._moveTarget){var f=this.itemSize(),h=0===f?0:-this.value().transform.default/f;this.slide(Math[s?"floor":"ceil"](h),{before:r,after:i})}else{var p="Down"===a&&this.isHorizontal()||"Right"===a&&this.isVertical();this.swipeClose()&&p&&null!=n&&n(t)&&(this._moveTarget="none")}else if(o){var v=t.velocity,d=t.swipeComputed;if((void 0===v?0:v)>0&&d){var m=this,g=function(t,e,n,r){if(0!==e){var i,a,s=r(e+n),f=s.duration,h=s.easing;if(0!==n)Pv.all([0!==l?m.apply(new Zv(u),Ar({},Kv,{duration:f,easing:h,before:function(t){return Math.min(Math.abs(l+e+n)*t/Math.abs(l),1)}})):Pv.resolve(),o.apply(new Zv((i={},i[t]=(o.value().transform[t]||0)+e,i)),Ar({},Kv,{duration:f,easing:h,before:function(t){return Math.min(Math.max((Math.abs(l+e+n)*t-Math.abs(l))/Math.abs(e),0),1)}})),m.apply(new Zv(u+n),Ar({},Kv,{duration:f,easing:h,before:function(t){return Math.max((Math.abs(l+e+n)*t-Math.abs(l)-Math.abs(e))/Math.abs(n),0)}}))]).then((function(){m.apply(new Zv(u),Ar({},Kv))}));else 0!==l&&m.apply(new Zv(u),Ar({},Kv,{duration:f,easing:h,before:function(t){return Math.min(Math.abs(l+e)*t/Math.abs(l),1)}})),o.apply(new Zv(((a={})[t]=(o.value().transform[t]||0)+e,a)),Ar({},Kv,{duration:f,easing:h,before:function(t){return Math.max((Math.abs(l+e)*t-Math.abs(l))/Math.abs(e),0)}}))}else{var p=c>0?1:-1,v=Math.max((n-c)*p,0)*p,d=r(v),g=d.duration,y=d.easing;0===v?m.apply(new Zv(u),Ar({},Kv)):m.apply(new Zv(u+c+v),Ar({},Kv,{duration:g,easing:y})).then((function(){m.apply(new Zv(u),Ar({},Kv))}))}},y=d(.003),w=y.duration,_=y.stretchX,b=y.stretchY;if(this.isVertical()){var T=o.getXTranslation(0,t.isTouching());0===T[0]&&0===T[1]||o.swipeBounce(t.isTouching(),w,_,"x"),o.swipeBounce(t.isTouching(),w,b-l,"y",g)}else{o.swipeBounce(t.isTouching(),w,_-l,"x",g);var P=o.getYTranslation(0,t.isTouching());0===P[0]&&0===P[1]||o.swipeBounce(t.isTouching(),w,b,"y")}}}else this.slide(this.activeIndex(),{before:r,after:i})}}function Yw(t){var e=this.currentItem();if(!(this.running()||null!=e&&e.running())){var n=-this.activeIndex()*this.itemSize();0===Math.round(this.value().transform.default-n)&&(null==e||e.dblScale(t.isTouching(),t.getPoint()))}}var Gw=["x","y"];function Vw(t,e){var n=e.preventAllTap;0===this._fgBehavior&&t.pointers.length>1&&(this._fgBehavior=2);var r=0;r+=this.cancel();var i=this.currentItem();if((r+=(null==i?void 0:i.cancel())||0)>0){if(i){var o=i.value().transform,a=o.x,s=void 0===a?0:a,u=o.y,c=void 0===u?0:u,l=us(o,Gw),f=i.getTranslation(0,t.isTouching()),h=f[0],p=f[1],v=0===this.activeIndex(),d=this.activeIndex()===this.countItems()-1;this.isVertical()?Ad(s,h)||(c>p[0]||d)&&(p[1]>c||v)||i.apply(new Zv(Ar({x:kd(s,h),y:c},l))):Ad(c,p)||(s>h[0]||d)&&(h[1]>s||v)||i.apply(new Zv(Ar({x:s,y:kd(c,p)},l)))}null==n||n()}}var Ww=function(t,e,n){var r=e[0],i=e[1],o=n[0],a=n[1];return t?Math.abs(r-o)>4*Math.abs(i-a)&&0>=r-o:Math.abs(i-a)>4*Math.abs(r-o)&&0>=i-a};function $w(t,e){var n=this,r=e.openStyleChange;0===this._fgBehavior&&1===t.pointers.length&&(this._fgBehavior=1);var i=this.currentItem();if(!(this.running()||null!=i&&i.running())){var o=1===t.pointers.length||1===this._fgBehavior,a={max:this.itemSize()},s=t.getPoint,u=t.direction,c=t.angle,l=void 0===c?0:c,f=t.scale,h=void 0===f?1:f,p=t.deltaX,v=void 0===p?0:p,d=t.deltaY,m=void 0===d?0:d,g=t.moveX,y=void 0===g?0:g,w=t.moveY,_=void 0===w?0:w,b=s();if("none"===this._moveTarget){var T=s("previous");if(i){if(this._moveTarget="inside",o){var P=0===this.activeIndex(),S=this.activeIndex()===this.countItems()-1,E=Ww(this.isVertical(),T,b),x=i.value().transform,C=x.x,M=void 0===C?0:C,D=x.y,A=void 0===D?0:D,k=i.getTranslation(0,t.isTouching()),I=k[0],O=k[1];if(this.isVertical())if(this.swipeClose()&&M>=I[1]&&E)this._moveTarget="closures";else{var L=0===I[0]&&0===I[1];(O[0]>=A&&(L?0>m:"Up"===u)&&!S||A>=O[1]&&(L?m>0:"Down"===u)&&!P)&&(this._moveTarget="outside")}else if(this.swipeClose()&&A>=O[1]&&E)this._moveTarget="closures";else{var j=0===O[0]&&0===O[1];(I[0]>=M&&(j?0>v:"Left"===u)&&!S||M>=I[1]&&(j?v>0:"Right"===u)&&!P)&&(this._moveTarget="outside")}}}else this._moveTarget=this.swipeClose()&&Ww(this.isVertical(),T,b)?"closures":"outside"}if("inside"!==this._moveTarget)if("closures"!==this._moveTarget){var R=[(1-this.countItems())*this.itemSize(),0],F=kd(this.value().transform.default,R),z=F+Cd(this.value().transform.default-F,a);F=kd(z+=this.isVertical()?m:v,R),z=F+xd(z-F,a),this.apply(new Zv(z))}else null==r||r((function(t,e){var r=e.w,i=void 0===r?0:r,o=e.h,a=void 0===o?0:o,s=e.x,u=void 0===s?0:s,c=e.y,l=void 0===c?0:c,f=Math.min(Math.max(1-((n.isVertical()?y/i:_/a)||0),.3),1),h=t.k,p=void 0===h?1:h,d=t.x,g=void 0===d?0:d,w=t.y,T=void 0===w?0:w;return{o:.01+.99*(f-.3)/.7,k:f,x:g+v+(b[0]-(g+u))*(1-f/p),y:T+m+(b[1]-(T+l))*(1-f/p)}}));else if(i){var U=-this.activeIndex()*this.itemSize(),H=Cd(this.value().transform.default-U,a),B=v,N=m;if(this.isVertical()?N+=H:B+=H,o){var X=i.value().transform,q=X.x,Y=void 0===q?0:q,G=X.y,V=void 0===G?0:G,W=i.getTranslation(0,t.isTouching()),$=W[0],Z=W[1],J=0;if(this.isVertical())J=N,B=0===$[0]&&0===$[1]?0:B,J-=N=kd(N+V,Z)-V;else J=B,N=0===Z[0]&&0===Z[1]?0:N,J-=B=kd(B+Y,$)-Y;i.moveBounce(t.isTouching(),0,1,B,N,b),this.apply(new Zv(U+xd(J,a)))}else i.moveBounce(t.isTouching(),l,h,B,N,b),0!==H&&this.apply(new Zv(U))}}}function Zw(t,e){var n=e.openStyleChange,r=e.slideBefore,i=e.slideAfter,o=this._moveTarget,a=1===t.leavePointers.length||1===this._fgBehavior;if(0===t.pointers.length)this._fgBehavior=0,this._moveTarget="none";else if(1===this._fgBehavior){if(!this.running()&&"outside"===o){var s=this.itemSize(),u=0===s?0:-this.value().transform.default/s;this.slide(Math.round(u),{before:r,after:i})}return}var c=this.currentItem();if(!(this.running()||null!=c&&c.running()))if("closures"!==o){null==c||c.resetBounce(t.isTouching(),t.getPoint(),a);var l=this.activeIndex();if("outside"===o){var f=this.itemSize();l=Math.round(0===f?0:-this.value().transform.default/f)}this.slide(l,{before:r,after:i})}else null==n||n((function(){return{o:1,k:1,x:0,y:0,t:300}}))}var Jw=function(t){function e(e){var n,r=e.container,i=e.style,o=e.className,a=e.backdropStyle,s=e.backdropClassName,u=e.wrapperStyle,c=e.wrapperClassName,l=e.indicatorStyle,f=e.indicatorClassName,h=e.current,p=void 0===h?0:h,v=e.imageUrls,d=void 0===v?[]:v,m=e.direction,g=void 0===m?"horizontal":m,y=e.itemGap,w=void 0===y?20:y,_=e.isLazy,b=void 0===_||_,T=e.hasIndicator,P=void 0===T||T,S=e.destroyOnClose,E=void 0!==S&&S,x=e.enableSwipeClose,C=void 0!==x&&x,M=e.loading,D=e.error,A=e.clickPosition,k=e.onContextMenu,I=e.onChange,O=e.onAfterChange,L=e.onClose,j=e.onAfterClose,R=e.onAfterOpenChange,F=null;(n=t.call(this,{transitionEl:function(){return null==F?void 0:F()}})||this)._openStyle=null,n._clickPosition=null,n._viewPosition=null,n._destoryOnClose=!1,n._itemGap=0;var z=d.length,U=p&&p>=0&&z>p?p:0,H=n._container=Za({className:["preview-image__gallery__container","preview-image__gallery__container-"+g,o||""],style:i},null,$a(r)||document.body),B=n._backdrop=Za({className:["preview-image__gallery__backdrop",s||""],style:Ar({backgroundColor:"#000f"},a||{})},null,H),N=n._wrapper=Za({className:["preview-image__gallery__wrapper",c||""],style:u},null,H),X=n._indicator=P&&z>1?Za({className:["preview-image__gallery__indicator",f||""],style:l},null,H):null,q=[];d.forEach((function(e,r){X&&q.push(Za("span",{className:["preview-image__gallery__indicator-item",U===r?"active":""]},null,X));var i=new zw({container:N,src:e,active:!b||U===r,loading:M,error:D});t.prototype.itemModels.call(kr(n),i,r)})),n.setClickPosition(A),n.setDestoryOnClose(E),n.setItemGap(w),n.setDirection(g),n.enableSwipeClose(C),n.slide(U,{duration:0,before:I,after:O});var Y=new Fa(H),G=function(e,r){e.call(kr(n),r,{preventAllTap:function(){Y.preventAllTap()},contextMenu:function(t){null==k||k(t)},internalClose:function(t){if("function"==typeof L)return L(t),!0},openStyleChange:function(t){n.openStyle(t(n._openStyle||{},n._viewPosition||{}))},slideBefore:function(e){t.prototype.itemModels.call(kr(n)).forEach((function(t,n){t.setActive(e===n);var r=q[n];n!==e&&Ga(r,"active")&&Wa(r,"active"),n!==e||Ga(r,"active")||Va(r,"active")})),null==I||I(e)},slideAfter:function(t){return null==O?void 0:O(t)}})};Y.on("pointerStart",(function(t){return G(Vw,t)})),Y.on("pointerMove",(function(t){return G($w,t)})),Y.on("pointerEnd",(function(t){return G(Zw,t)})),Y.on("doubleTap",(function(t){return G(Yw,t)})),Y.on("singleTap",(function(t){return G(Xw,t)})),Y.on("longTap",(function(t){return G(Nw,t)})),Y.on("rotate",(function(t){return G(Hw,t)})),Y.on("scale",(function(t){return G(Bw,t)})),Y.on("swipe",(function(t){return G(qw,t)}));var V=function(t){if(t.target===B&&"opacity"===t.propertyName){var e=n._openStyle||{},r=e.o,i=e.k,o=e.x,a=e.y,s=e.end,u=e.open,c=void 0!==u&&u;s&&(c||null==j||j(),null==R||R(c)),n.openStyle({o:r,k:i,x:o,y:a}),null==s||s()}};B.addEventListener("transitionend",V,{capture:!1,passive:!1});var W=function(t,e){void 0===e&&(e=0);var n=0;return function(){for(var r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];n&&clearTimeout(n),n=+setTimeout((function(){t.apply(null,i)}),e)}}((function(){return n.updateViewPosition()}),50);return window.addEventListener("resize",W,{capture:!1,passive:!1}),n._unbind=function(){Y.destory(),B.removeEventListener("transitionend",V),window.removeEventListener("resize",W)},F=function(){return N},n}di(e,t);var n=e.prototype;return n.updateViewPosition=function(){var e=this._viewPosition=Id(this._container);t.prototype.itemModels.call(this).forEach((function(t){return t.setViewPosition(e)})),this.updateImageSize()},n.updateImageGap=function(){var e=this;t.prototype.itemModels.call(this).forEach((function(t,n){return Ya(t.getElement(),{marginTop:e.isVertical()&&0!==n?e._itemGap:0,marginLeft:e.isVertical()||0===n?0:e._itemGap})}))},n.updateImageSize=function(){var e=this._viewPosition||{},n=e.w,r=void 0===n?0:n,i=e.h,o=void 0===i?0:i,a=this.isVertical()?o:r;t.prototype.itemSize.call(this,a=a?a+this._itemGap:0),a=a*this.countItems()-this._itemGap,this.isVertical()?o=a:r=a,Ya(this._wrapper,{width:r,height:o})},n.setDestoryOnClose=function(t){this._destoryOnClose=t||!1},n.setClickPosition=function(t){this._clickPosition=t||null},n.setItemGap=function(t){this._itemGap=t||0,this.updateImageGap(),this.updateImageSize()},n.setDirection=function(e){var n=e||"horizontal";Va(Wa(this._container,"preview-image__gallery__container-"+t.prototype.direction.call(this)),"preview-image__gallery__container-"+n),t.prototype.direction.call(this,n),this.updateImageGap(),this.updateImageSize()},n.currentItem=function(e){void 0===e&&(e=!0);var n=t.prototype.currentItem.call(this);return!e||null!=n&&n.getImageElement()?n:null},n.enableSwipeClose=function(e){t.prototype.swipeClose.call(this,e||!1)},n.destory=function(){var e,n;null==(e=this._unbind)||e.call(this),null==(n=this._container)||null==(n=n.parentNode)||n.removeChild(this._container),t.prototype.itemModels.call(this,[]),this._indicator=null,this._backdrop=null,this._wrapper=null,this._container=null,this._openStyle=null,this._clickPosition=null,this._viewPosition=null,this._unbind=null},n.animateOpen=function(t,e){var n=this.currentItem(!1);null==n||n.reset();var r=(null==n?void 0:n.sizePosition())||{},i=r.elementWidth,o=void 0===i?0:i,a=r.elementHeight,s=void 0===a?0:a,u=this._viewPosition||{},c=u.x,l=u.y,f=u.w,h=u.h,p=this._clickPosition||{},v=p.x,d=p.y,m=p.w,g=void 0===m?0:m,y=p.h,w=void 0===y?0:y,_=0==o&&0===s?void 0===f?0:f:o,b=0==o&&0===s?void 0===h?0:h:s,T=_/b>g/w,P={o:0,k:(T?w/b:g/_)||.001,x:0===g&&0===w?0:(void 0===v?0:v)-(void 0===c?0:c),y:0===g&&0===w?0:(void 0===d?0:d)-(void 0===l?0:l),w:(T?b*(g/w):_)||0,h:(T?b:_/(g/w))||0},S={o:1,k:1,x:0,y:0,w:o,h:s};this.openStyle(Ar({},t?P:Ar({},S,this._openStyle))),Id(this._container),this.openStyle(Ar({},t?S:P,{t:300,end:e,open:t}))},n.openStyle=function(t){this._openStyle=t;var e=t.k,n=t.x,r=t.y,i=t.w,o=t.h,a=t.t;Ya(this._backdrop,{opacity:t.o,transition:a?"opacity "+a+"ms":""});var s=this.currentItem(!1);Ya(null==s?void 0:s.getElement(),{transform:"translate("+n+"px,"+r+"px) scale("+e+")",transition:a?"transform "+a+"ms":"",overflow:1>(e||1)||a?"visible":void 0}),Ya(null==s?void 0:s.getImageElement(),{width:i||void 0,height:o||void 0,transition:a&&i&&o?"width "+a+"ms, height "+a+"ms":"",objectFit:i&&o?"cover":void 0})},n.preventDefault=function(t){void 0===t&&(t=!0),t?(window.addEventListener("contextmenu",Od,{capture:!1,passive:!1}),window.addEventListener("touchstart",Od,{capture:!1,passive:!1}),window.addEventListener("wheel",Od,{capture:!1,passive:!1}),window.addEventListener("dragstart",Od,{capture:!1,passive:!1}),"onselectstart"in window.document.documentElement&&window.addEventListener("selectstart",Od,{capture:!1,passive:!1})):(window.removeEventListener("contextmenu",Od),window.removeEventListener("touchstart",Od),window.removeEventListener("wheel",Od),window.removeEventListener("dragstart",Od),"onselectstart"in window.document.documentElement&&window.removeEventListener("selectstart",Od))},n.open=function(){var t=this;Va(this._container,"visible"),this.preventDefault(!0),this.updateViewPosition(),this.animateOpen(!0,(function(){Va(t._indicator,"visible")}))},n.close=function(){var t=this;Wa(this._indicator,"visible"),this.preventDefault(!1),this.animateOpen(!1,(function(){t._destoryOnClose?t.destory():Wa(t._container,"visible")}))},e}(nd);t.Gallery=Jw,t.Image=zw,t.ItemModel=Rd,t.SwiperModel=nd,t.defaultAnimationExtendOptions=Kv,t.previewImage=function(t){var e=void 0===t?{}:t,n=e.urls,r=void 0===n?[]:n,i=e.current,o=e.onClose,a=e.clickPosition,s=e.onContextMenu,u=r.indexOf(void 0===i?"":i),c=new Jw({current:u,imageUrls:r,destroyOnClose:!0,enableSwipeClose:!0,onClose:function(){c.close(),null==o||o()},clickPosition:a,onContextMenu:s});c.open()}}));
//# sourceMappingURL=preview-image.min.js.map
