"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[647],{234:(t,e,i)=>{i.d(e,{Z:()=>nt});var n=i(132),r=i(492),o=i(597),a=i(951),s=i(976),h=i(444),u=i(649),l=i(169),c=i(243);function f(t,e,i){return"number"!=typeof t||t<i?e:t}function p(t,e){var i=(0,h.Z)(t,2),n=i[0],r=i[1],o=(0,h.Z)(e,2),a=o[0],s=o[1];return"number"==typeof n&&"number"==typeof a&&"number"==typeof r&&"number"==typeof s?Math.sqrt(Math.pow(a-n,2)+Math.pow(s-r,2)):0}function v(t,e){var i=(0,h.Z)(t,2),n=i[0],r=i[1],o=(0,h.Z)(e,2),a=o[0],s=o[1];return"number"==typeof n&&"number"==typeof a&&"number"==typeof r&&"number"==typeof s?180*Math.atan2(s-r,a-n)/Math.PI:0}function m(t,e){var i=(0,h.Z)(t,2),n=i[0],r=i[1],o=(0,h.Z)(e,2),a=o[0],s=o[1],u="number"==typeof n&&"number"==typeof r,l="number"==typeof a&&"number"==typeof s;return u||l?u&&!l?[n,r]:!u&&l?[a,s]:[(n+a)/2,(r+s)/2]:[0,0]}function g(t,e){var i=(0,h.Z)(t,2),n=i[0],r=i[1],o=(0,h.Z)(e,2),a=o[0],s=o[1];if("number"==typeof n&&"number"==typeof a&&"number"==typeof r&&"number"==typeof s){var u=n-a,l=r-s;if(u!==l)return Math.abs(u)>=Math.abs(l)?n-a>0?"Left":"Right":r-s>0?"Up":"Down"}return"None"}var y=function(t,e){for(var i=t;i&&i!==e;)i=i.parentNode;return!!i};function _(t){var e=this;if(t.touches){t.preventDefault(),t.stopImmediatePropagation();var i={currentTarget:this.element,sourceEvent:t,timestamp:Date.now(),point:[0,0],preventDefault:function(){return t.preventDefault()},stopPropagation:function(){return t.stopPropagation()},stopImmediatePropagation:function(){return t.stopImmediatePropagation()}},n=Array.prototype.filter.call(t.touches,(function(e){return y(e.target,t.currentTarget)}));t.changedTouches.length===n.length&&(this._touch0=null,this._touch1=null);for(var r=0,o=n.length;r<o;++r){var a=n[r],s=[a.pageX,a.pageY],h=[s,s,s,[a.identifier]];this._touch0?this._touch1||this._touch0[3][0]===a.identifier||(this._touch1=h):this._touch0=h}if(this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._swipePoints=null,this._rotateAngle=null,this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch1&&this._touch0)i.point=m(this._touch0[0],this._touch1[0]),this.trigger("gestureStart",i);else{if(!this._touch0)return;i.point=this._touch0[0],this._preventTap=!1,this._longTapTimer=window.setTimeout((function(){e._preventTap=!0,e._preventSingleTap=!0,e._preventDoubleTap=!0,e._longTapTimer=null,e._touch0&&(i.waitTime=e.longTapInterval,e.trigger("longTap",i))}),this.longTapInterval),this._singleTapTimer&&this._firstPoint&&p(this._firstPoint,this._touch0[0])<this.doubleTapDistance?(clearTimeout(this._singleTapTimer),this._singleTapTimer=null,this._preventSingleTap=!0,this._preventDoubleTap=!1,i.point=this._firstPoint):(this._firstPoint=this._touch0[0],this._preventSingleTap=!1,this._preventDoubleTap=!0)}this.trigger("touchStart",i)}}function d(t){var e=t.changedTouches;if(e){t.preventDefault(),t.stopImmediatePropagation();for(var i={currentTarget:this.element,sourceEvent:t,timestamp:Date.now(),point:[0,0],preventDefault:function(){return t.preventDefault()},stopPropagation:function(){return t.stopPropagation()},stopImmediatePropagation:function(){return t.stopImmediatePropagation()}},n=0,r=e.length;n<r;++n){var o=e[n],a=[o.pageX,o.pageY];this._touch0&&this._touch0[3][0]===o.identifier?(this._touch0[1]=this._touch0[2],this._touch0[2]=a):this._touch1&&this._touch1[3][0]===o.identifier&&(this._touch1[1]=this._touch1[2],this._touch1[2]=a)}if(this._touch0&&p(this._touch0[0],this._touch0[2])>this.touchMoveDistance||this._touch1&&p(this._touch1[0],this._touch1[2])>this.touchMoveDistance){if(this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch1&&this._touch0){var s=m(this._touch0[2],this._touch1[2]),h=m(this._touch0[1],this._touch1[1]),u=m(this._touch0[0],this._touch1[0]);i.point=s,i.direction=g(h,s),i.moveDirection=g(u,s),i.deltaX=s[0]-h[0],i.moveX=s[0]-u[0],i.deltaY=s[1]-h[1],i.moveY=s[1]-u[1];var l=p(this._touch0[2],this._touch1[2]),c=p(this._touch0[1],this._touch1[1]),f=p(this._touch0[0],this._touch1[0]);f>0&&l>0&&c>0&&(i.scale=l/c,i.moveScale=l/f);var y=v(this._touch0[2],this._touch1[2])-v(this._touch0[1],this._touch1[1]);y<-180?y+=360:y>180&&(y-=360),i.angle=y;var _=(this._rotateAngle||0)+y;i.moveAngle=this._rotateAngle=_,this.trigger("rotate",i),f>0&&l>0&&c>0&&this.trigger("pinch",i),this.trigger("multiPan",i),this.trigger("gestureMove",i)}else{if(!this._touch0)return;var d=Date.now(),b=this._swipePoints||[[],[]];d-((b[1][0]?b[1][0].timestamp:0)||0)>this.swipeDuration&&(b[0]=b[1],b[1]=[]),b[1].push({point:this._touch0[2],timestamp:d}),this._swipePoints=b,i.point=this._touch0[2],i.direction=g(this._touch0[1],this._touch0[2]),i.moveDirection=g(this._touch0[0],this._touch0[2]),i.deltaX=this._touch0[2][0]-this._touch0[1][0],i.moveX=this._touch0[2][0]-this._touch0[0][0],i.deltaY=this._touch0[2][1]-this._touch0[1][1],i.moveY=this._touch0[2][1]-this._touch0[0][1],this.trigger("pan",i)}this.trigger("touchMove",i)}}}function b(t){var e=this,i=t.changedTouches;if(i){t.stopImmediatePropagation();for(var n,r,o={currentTarget:this.element,sourceEvent:t,timestamp:Date.now(),point:[0,0],preventDefault:function(){return t.preventDefault()},stopPropagation:function(){return t.stopPropagation()},stopImmediatePropagation:function(){return t.stopImmediatePropagation()}},a=null,s=null,u=0,l=i.length;u<l;++u){var c=i[u];this._touch0&&this._touch0[3][0]===c.identifier?(a=this._touch0,this._touch0=null):this._touch1&&this._touch1[3][0]===c.identifier&&(s=this._touch1,this._touch1=null)}if(this._touch1&&!this._touch0&&(this._touch0=this._touch1,this._touch1=null,s=a,a=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch0)o.point=m(this._touch0[2],this._touch1?this._touch1[2]:s?s[2]:[]),this.trigger("gestureEnd",o);else if(a&&(o.point=s?m(a[2],s[2]):a[2],this._preventTap||this.trigger("tap",o),this._preventSingleTap||(this._singleTapTimer=window.setTimeout((function(){e._singleTapTimer=null,o.delayTime=e.doubleTapInterval,e.trigger("singleTap",o)}),this.doubleTapInterval)),this._preventDoubleTap||(this._firstPoint&&(o.point=this._firstPoint),o.intervalTime=this.doubleTapInterval,this.trigger("doubleTap",o)),this._swipePoints)){var f=(0,h.Z)(this._swipePoints,2),y=f[0],_=f[1],d=_[_.length-1];if(Date.now()-d.timestamp<=this.raiseDuration){for(var b=_[0],T=y.length-1;T>=0&&d.timestamp-y[T].timestamp<=this.swipeDuration;T--)b=y[T];var k=(n=d.timestamp-b.timestamp,"number"!=typeof(r=p(b.point,d.point))||0===r||"number"!=typeof n||0===n?0:r/n);if(k>this.swipeVelocity){var w=v(b.point,d.point);o.direction=g(b.point,d.point),o.angle=w,o.velocity=k,o.swipeComputed=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,i=0,n=0,r=0;t>1?(n=e/(i=t),r=e*i/2):t>0&&(i=e/(n=t),r=e*e/(2*n));var o=function(t,e){if("number"!=typeof t||"number"!=typeof e)return[0,0];var i=e*Math.PI/180;return[t*Math.cos(i),t*Math.sin(i)]}(r,w),a=(0,h.Z)(o,2);return{duration:i,stretchX:a[0],stretchY:a[1],deceleration:n}},this.trigger("swipe",o)}}}this.trigger("touchEnd",o),this._touch0&&!this._touch1&&(this._touch0[0]=this._touch0[1]=this._touch0[2],o.point=this._touch0[0],this.trigger("touchStart",o))}}function T(t){this.trigger("touchCancel",{currentTarget:this.element,point:[],timestamp:Date.now(),sourceEvent:t,preventDefault:function(){return t.preventDefault()},stopPropagation:function(){return t.stopPropagation()},stopImmediatePropagation:function(){return t.stopImmediatePropagation()}}),b.apply(this,[t])}function k(){this._singleTapTimer&&(clearTimeout(this._singleTapTimer),this._singleTapTimer=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._firstPoint=null,this._touch0=null,this._touch1=null,this._preventTap=!0,this._swipePoints=null,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._rotateAngle=null}const w=function(t){(0,n.Z)(p,t);var e,i,h=(e=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,o.Z)(e);if(i){var a=(0,o.Z)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,r.Z)(this,t)});function p(t,e){var i,n;if((0,a.Z)(this,p),i=h.call(this),(0,u.Z)((0,l.Z)(i),"_rotateAngle",null),(0,u.Z)((0,l.Z)(i),"_singleTapTimer",null),(0,u.Z)((0,l.Z)(i),"_longTapTimer",null),(0,u.Z)((0,l.Z)(i),"_preventTap",!0),(0,u.Z)((0,l.Z)(i),"_swipePoints",null),(0,u.Z)((0,l.Z)(i),"_preventSingleTap",!0),(0,u.Z)((0,l.Z)(i),"_preventDoubleTap",!0),(0,u.Z)((0,l.Z)(i),"_firstPoint",null),(0,u.Z)((0,l.Z)(i),"_touch0",null),(0,u.Z)((0,l.Z)(i),"_touch1",null),(0,u.Z)((0,l.Z)(i),"_destory",null),!((n="string"==typeof t?document.querySelector(t):t)&&n instanceof HTMLElement))throw new Error("Please pass in a valid element...");i.element=n;var r,o=e||{},s=o.longTapInterval,c=o.doubleTapInterval,v=o.doubleTapDistance,m=o.touchMoveDistance,g=o.swipeVelocity,y=o.swipeDuration,w=o.raiseDuration;if(i.longTapInterval=f(s,750,500),i.doubleTapInterval=f(c,250,200),i.doubleTapDistance=f(v,30,1),i.touchMoveDistance=f(m,3,0),i.swipeVelocity=f(g,.3,0),i.swipeDuration=f(y,100,1),i.raiseDuration=f(w,100,1),(r=i.element)&&(navigator.maxTouchPoints||"ontouchstart"in r)){var Z=_.bind((0,l.Z)(i)),D=d.bind((0,l.Z)(i)),P=b.bind((0,l.Z)(i)),M=T.bind((0,l.Z)(i));i.element.addEventListener("touchstart",Z,!1),i.element.addEventListener("touchmove",D,!1),i.element.addEventListener("touchend",P,!1),i.element.addEventListener("touchcancel",M,!1);var x=k.bind((0,l.Z)(i));window.addEventListener("scroll",x),i._destory=function(){i.element.removeEventListener("touchstart",Z),i.element.removeEventListener("touchmove",D),i.element.removeEventListener("touchend",P),i.element.removeEventListener("touchcancel",M),window.removeEventListener("scroll",x)}}return i}return(0,s.Z)(p,[{key:"done",value:function(){return!!this._destory}},{key:"destory",value:function(){(0,c.Z)((0,o.Z)(p.prototype),"off",this).call(this),k.apply(this),this._destory&&(this._destory(),this._destory=null)}}]),p}(function(){function t(){(0,a.Z)(this,t),(0,u.Z)(this,"events",{}),this.events={}}return(0,s.Z)(t,[{key:"one",value:function(t,e,i){var n=this,r="function"==typeof e?function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];e.apply(null,a),n.off(t,r,i)}:e;this.on(t,r,i)}},{key:"on",value:function(t,e,i){var n=this.events[t]||{pool:[],single:-1};if("function"==typeof e)if(i)-1===n.single?n.single=n.pool.push(e)-1:n.pool[n.single]=e;else{for(var r=!0,o=0,a=n.pool.length;o<a;o++)if(n.pool[o]===e&&o!==n.single){r=!1;break}r&&n.pool.push(e)}else i&&-1!==n.single&&(n.pool.splice(n.single,1),n.single=-1);this.events[t]=n}},{key:"off",value:function(t,e,i){if(void 0===t)this.events={};else if(void 0===e)delete this.events[t];else if(i){var n=this.events[t];n&&-1!==n.single&&(n.pool.splice(n.single,1),n.single=-1)}else{var r=this.events[t];if(r)for(var o=r.pool.length-1;o>=0;o--)if(r.pool[o]===e&&o!==r.single){r.pool.splice(o,1);break}}}},{key:"trigger",value:function(t,e){var i=this.events[t];if(i)for(var n=0,r=i.pool.length;n<r;n++){var o=i.pool[n];if("function"==typeof o&&!1===o.apply(null,[e,t]))break}}}]),t}());var Z,D=i(808),P=window.requestAnimationFrame||(Z=0,function(t){var e=Date.now(),i=Math.max(0,16-(e-Z));return Z=e+i,window.setTimeout(t,i)}),M=window.cancelAnimationFrame||function(t){return window.clearTimeout(t)},x=function(t,e){e>0?window.setTimeout(t,e):t(Math.abs(e))},S=function(){function t(e){var i=e.duration,n=e.easing,r=e.delay;(0,a.Z)(this,t),(0,u.Z)(this,"_frameId",0),(0,u.Z)(this,"_sleepId",0),(0,u.Z)(this,"_elapsed",0),(0,u.Z)(this,"_tick",null),this.duration="number"!=typeof i||i<=0?0:i,this.easing="function"!=typeof n?function(t){return t}:n,this.delay="number"!=typeof r?0:r}return(0,s.Z)(t,[{key:"start",value:function(t){var e=this;if(0===this._frameId&&0===this._elapsed){var i=this.duration,n=this.easing,r=this.delay;if(i>0){var o=function r(o){var a=Date.now();e._elapsed+=a-o,e._elapsed<i?(e._frameId=P((function(){return r(a)})),t(n(e._elapsed/i))):(t(1),e._tick=null,e._frameId=0,e._elapsed=0)};this._tick=o,x((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e._elapsed=t,o(Date.now())}),r)}else x((function(){t(1)}),r)}}},{key:"restart",value:function(){this.stop(),this._elapsed<this.duration&&this._tick&&this._tick(Date.now())}},{key:"sleep",value:function(t){var e=this;"number"!=typeof t||t<=0||(this.stop(),this._elapsed<this.duration&&this._tick&&(this._sleepId=window.setTimeout((function(){e.restart()}),t)))}},{key:"stop",value:function(){window.clearTimeout(this._sleepId),M(this._frameId),this._frameId=0}},{key:"end",value:function(){this.stop(),this._elapsed<this.duration&&this._tick&&(this._elapsed=this.duration,this._tick(Date.now()))}}]),t}();const O=S;var E=["precision","transition","cancel"];function I(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var j=(0,s.Z)((function t(e){(0,a.Z)(this,t),this.value=e})),C=function(){function t(e){var i=e.element,n=e.propertyName,r=e.propertyValue;(0,a.Z)(this,t),(0,u.Z)(this,"_animation",[]),this.element=i,this.propertyName=n.replace(/([A-Z])/g,"-$1").toLowerCase(),this.element.style.setProperty(this.propertyName,r.toString()),this.propertyValue=r}return(0,s.Z)(t,[{key:"bind",value:function(t){var e=this.element,i=this.propertyName,n=this.propertyValue,r={};Object.keys(t).forEach((function(e){var i=t[e];"number"==typeof i&&(r[e]=i)})),n.value=r,e.style.setProperty(i,n.toString())}},{key:"apply",value:function(t,e){var i=this;return new Promise((function(n){var r=e.precision,o=void 0===r?{}:r,a=e.transition,s=void 0===a?function(){}:a,h=e.cancel,l=void 0===h||h,c=(0,D.Z)(e,E),f=i.element,p=i.propertyName,v=i.propertyValue,m={};Object.keys(t).forEach((function(e){var i=t[e];"number"==typeof i&&(Math.abs(i)>(o[e]||0)?m[e]=i:"number"==typeof v.value[e]&&(v.value[e]+=i))}));var g=Object.keys(m);if(g.length>0){var y=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(Object(i),!0).forEach((function(e){(0,u.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},m),_=new O(c);i._animation.push({animation:_,remainValue:y,cancel:l}),_.start((function(t){if(g.forEach((function(e){var i=m[e]*(1-t);"number"==typeof v.value[e]&&(v.value[e]+=y[e]-i),y[e]=i})),f.style.setProperty(p,v.toString()),s(v.value),1===t){var e=i._animation.findIndex((function(t){return _===t.animation}));-1!==e&&i._animation.splice(e,1),n(v.value)}}))}else f.style.setProperty(p,v.toString()),s(v.value),n(v.value)}))}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[];return this._animation=this._animation.filter((function(i){var n=i.animation,r=i.remainValue;return!i.cancel||(n[t?"end":"stop"](),e.push(r),!1)})),e}},{key:"transitioning",value:function(){return 0!==this._animation.length}}]),t}(),A=Math.PI/180,R={multiply:function(t,e,i){var n=e[0],r=e[4],o=e[8],a=e[12],s=e[1],h=e[5],u=e[9],l=e[13],c=e[2],f=e[6],p=e[10],v=e[14],m=e[3],g=e[7],y=e[11],_=e[15],d=i[0],b=i[1],T=i[2],k=i[3],w=i[4],Z=i[5],D=i[6],P=i[7],M=i[8],x=i[9],S=i[10],O=i[11],E=i[12],I=i[13],j=i[14],C=i[15];t[0]=n*d+r*w+o*M+a*E,t[4]=n*b+r*Z+o*x+a*I,t[8]=n*T+r*D+o*S+a*j,t[12]=n*k+r*P+o*O+a*C,t[1]=s*d+h*w+u*M+l*E,t[5]=s*b+h*Z+u*x+l*I,t[9]=s*T+h*D+u*S+l*j,t[13]=s*k+h*P+u*O+l*C,t[2]=c*d+f*w+p*M+v*E,t[6]=c*b+f*Z+p*x+v*I,t[10]=c*T+f*D+p*S+v*j,t[14]=c*k+f*P+p*O+v*C,t[3]=m*d+g*w+y*M+_*E,t[7]=m*b+g*Z+y*x+_*I,t[11]=m*T+g*D+y*S+_*j,t[15]=m*k+g*P+y*O+_*C},identity:function(t){for(var e=0;e<16;e++)t[e]=0;for(var i=0;i<16;i+=5)t[i]=1},translate:function(t,e,i,n){for(var r=0;r<4;r++)t[12+r]+=t[r]*e+t[4+r]*i+t[8+r]*n},scale:function(t,e,i,n){for(var r=0;r<4;r++)t[r]*=e,t[4+r]*=i,t[8+r]*=n},rotate:function(t,e,i,n,r){var o=new Float32Array(16);o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1;var a=e*A,s=Math.sin(a),h=Math.cos(a);if(1===i&&0===n&&0===r)o[5]=h,o[10]=h,o[6]=s,o[9]=-s,o[1]=0,o[2]=0,o[4]=0,o[8]=0,o[0]=1;else if(0===i&&0===n&&0===r)o[0]=h,o[10]=h,o[8]=s,o[2]=-s,o[1]=0,o[4]=0,o[6]=0,o[9]=0,o[5]=1;else if(0===i&&0===n&&1===r)o[0]=h,o[5]=h,o[1]=s,o[4]=-s,o[2]=0,o[6]=0,o[8]=0,o[9]=0,o[10]=1;else{var u=Math.sqrt(i*i+n*n+r*r);if(1!==u){var l=1/u;i*=l,n*=l,r*=l}var c=1-h,f=i*n,p=n*r,v=r*i,m=i*s,g=n*s,y=r*s;o[0]=i*i*c+h,o[4]=f*c-y,o[8]=v*c+g,o[1]=f*c+y,o[5]=n*n*c+h,o[9]=p*c-m,o[2]=v*c-g,o[6]=p*c+m,o[10]=r*r*c+h}R.multiply(t,t,o)},rotateEuler:function(t,e,i,n){var r=new Float32Array(16),o=e*A,a=i*A,s=n*A,h=Math.cos(o),u=Math.sin(o),l=Math.cos(a),c=Math.sin(a),f=Math.cos(s),p=Math.sin(s),v=h*c,m=u*c;r[0]=l*f,r[1]=-l*p,r[2]=c,r[3]=0,r[4]=v*f+h*p,r[5]=-v*p+h*f,r[6]=-u*l,r[7]=0,r[8]=-m*f+u*p,r[9]=m*p+u*f,r[10]=h*l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,R.multiply(t,t,r)},perspective:function(t,e,i,n,r){var o=1/Math.tan(e*(Math.PI/360)),a=1/(n-r);t[0]=o/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*n*a,t[15]=0}};const z=R;var L=function(){function t(e){(0,a.Z)(this,t),this.a=e.a,this.k=e.k,this.x=e.x,this.y=e.y}return(0,s.Z)(t,[{key:"toRaw",value:function(){var t={};return"number"==typeof this.a&&(t.a=this.a),"number"==typeof this.k&&(t.k=this.k),"number"==typeof this.x&&(t.x=this.x),"number"==typeof this.y&&(t.y=this.y),t}},{key:"toString",value:function(){var t=this.a,e=void 0===t?0:t,i=this.k,n=void 0===i?1:i,r=this.x,o=void 0===r?0:r,a=this.y,s=void 0===a?0:a,h=new Float32Array(16);return z.identity(h),z.translate(h,o,s,0),z.scale(h,n,n,n),z.rotate(h,-e,0,0,1),"matrix3d(".concat(Array.prototype.slice.call(h).join(","),")")}}],[{key:"identity",value:function(){return new t({a:0,k:1,x:0,y:0})}}]),t}();function X(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===t)return 0;if(e<=0)return 1;var n=t||1,r=Math.min(1,e);return r=i?1/r:r,Math.pow(Math.abs(n),r)*(n>0?1:-1)}function Y(t,e,i){return t<=(1-e)/(2*e)?-.5:t>=(1+e-2*i)/(2*e)?.5:(t-(1-i)/(2*e))/(1-i/e)}function N(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return"function"==typeof t?t.apply(void 0,i):t}function V(t,e){var i=(0,h.Z)(e,2),n=i[0],r=i[1];return n<=t&&t<=r}function q(t,e,i){var n=(0,h.Z)(e,2),r=n[0],o=n[1];return Math.max(Math.min(t,o),r)}function B(t,e){var i=(0,h.Z)(e,2),n=i[0],r=i[1];if(t<n||t>r){var o=t<n?n:r;return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?o*X(t/o,.4):o+X(t-o,.8)}return t}function F(t,e){var i=(0,h.Z)(e,2),n=i[0],r=i[1];if(t<n||t>r){var o=t<n?n:r;return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?o*X(t/o,.4,!0):o+X(t-o,.8,!0)}return t}function H(t){return 1-(1-t)*(1-t)}function W(t){return 1-(1-t)*(1-t)*(1-t)*(1-t)}function U(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function $(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?U(Object(i),!0).forEach((function(e){(0,u.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):U(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function G(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r={},o=this._transform,a=o.a,s=void 0===a?0:a,h=o.k,u=void 0===h?1:h,l=o.x,c=void 0===l?0:l,f=o.y,p=void 0===f?0:f,v=t.a,m=t.k,g=t.x,y=t.y;return"number"==typeof v&&(n.a=(this._transform.a=v)-s,r.a=.001),"number"==typeof m&&(n.k=(this._transform.k=m)-u,r.k=.001),"number"==typeof g&&(n.x=(this._transform.x=g)-c,r.x=1),"number"==typeof y&&(n.y=(this._transform.y=y)-p,r.y=1),this._transition.apply(n,$({precision:r,duration:400,easing:W,cancel:!0},i)).then((function(t){return e._transition.transitioning()||e._transition.bind(e._transform.toRaw()),t}))}var J=function(t){var e=this;t.sourceEvent.touches.length>1&&0===this._fingers&&(this._fingers=2);var i=this._transform,n=i.a,r=void 0===n?0:n,o=i.k,a=void 0===o?1:o,s=i.x,h=void 0===s?0:s,u=i.y,l=void 0===u?0:u;this._transition.cancel().forEach((function(t){Object.keys(t).forEach((function(i){var n=t[i];"a"===i?e._transform.a=r-n:"k"===i?e._transform.k=a-n:"x"===i?e._transform.x=h-n:"y"===i&&(e._transform.y=l-n)})),e._gesture._firstPoint=null,e._gesture._preventSingleTap=!0}))},K=function(t){if(1===t.sourceEvent.touches.length&&0===this._fingers&&(this._fingers=1),!this.transforming()){var e=t.point,i=t.angle,n=void 0===i?0:i,r=t.scale,o=void 0===r?1:r,a=t.deltaX,s=void 0===a?0:a,u=t.deltaY,l=void 0===u?0:u,c=this._transform,f=c.a,p=void 0===f?0:f,v=c.k,m=void 0===v?1:v,g=c.x,y=void 0===g?0:g,_=c.y,d=void 0===_?0:_,b=this.rotation,T=this.scalation,k=this.translation,w=(0,h.Z)(k,2),Z=w[0],D=w[1],P={};if(1===this._fingers){this._gesture._rotateAngle=null;var M=q,x=y,S=d;this.isDamping("translate")&&(x=F(y,N(Z,m)),S=F(d,N(D,m)),M=B),P={a:p,k:m,x:M(x+s,N(Z)),y:M(S+l,N(D))}}else{var O=q,E=p;this.isDamping("rotate")&&(E=F(p,N(b)),O=B);var I=q,j=m;this.isDamping("scale")&&(j=F(m,N(T),!0),I=B);var C=q,A=y,R=d;this.isDamping("translate")&&(A=F(y,N(Z,m)),R=F(d,N(D,m)),C=B);var z=O(E+n,N(b)),X=I(j*o,N(T),!0),Y=this.getCenterOffset(e,X),V=(0,h.Z)(Y,2),H=V[0],W=V[1];P={a:z,k:X,x:C(A+H+s,N(Z,X)),y:C(R+W+l,N(D,X))}}this._transform=new L(P),this._transition.bind(P)}},Q=function(t){if(0===t.sourceEvent.touches.length&&0!==this._fingers&&(this._fingers=0),!this.transforming()){var e=this.rotation,i=this.scalation,n=this.translation,r=(0,h.Z)(n,2),o=r[0],a=r[1],s=this._transform,u=s.a,l=void 0===u?0:u,c=s.k,f=void 0===c?1:c,p=s.x,v=void 0===p?0:p,m=s.y,g=void 0===m?0:m;this.isDamping("rotate")&&(l=F(l,N(e))),this.isDamping("scale")&&(f=F(f,N(i),!0)),this.isDamping("translate")&&(v=F(v,N(o,f)),g=F(g,N(a,f))),this.transformTo({a:l,k:f,x:v,y:g},t.point,{cancel:"number"!=typeof this._gesture._rotateAngle})}},tt=function(t){if(!this.transforming()){var e=this.dblScale,i=this.scalation,n=N(e),r=n.value,o=n.adjust,a=this._transform.k||1,s=q(r,N(i)),u=q(1,N(i));if(s>u&&a<=u||s<u&&a>=u)if(o){var l=this.getCenterOffset(t.point,s,o),c=(0,h.Z)(l,2),f=c[0],p=c[1],v=this._transform,m=v.x,g=void 0===m?0:m,y=v.y,_=void 0===y?0:y;this.transformTo({a:0,k:s,x:g+f,y:_+p})}else this.transformTo({k:s},t.point);else o?this.transformTo({a:0,k:u,x:0,y:0}):this.transformTo({k:u},t.point)}},et=function(t){var e=this;if(!this.transforming()){var i=t.velocity,n=void 0===i?0:i,r=t.swipeComputed;if(n>0&&r){var o=this.getContainerSize(),a=o.width,s=o.height,h=this._transform,u=h.k,l=void 0===u?1:u,c=h.x,f=void 0===c?0:c,p=h.y,v=void 0===p?0:p,m=r(.003,n>3?2+Math.pow(n-2,1/3):n),g=m.duration,y=m.stretchX,_=m.stretchY,d=Math.max(1200,Math.min(g,2500)),b=N(this.translation[0],l);if(V(f,b)){var T=f+y,k=d;if(!V(T,b)){T=q(T,b);var w=Math.sqrt(1-Math.abs((T-f)/y));if(this.isDamping("translate")){var Z=w*(2*Math.abs(y)/g);T+=a*Math.min(Z/20,1/4)*(y>0?1:-1),w=Math.sqrt(1-Math.abs((T-f)/y))}k=Math.max(k*(1-w),400)}G.apply(this,[{x:T},{easing:H,duration:k}]).then((function(){V(T,b)||G.apply(e,[{x:q(T,b)}])}))}else G.apply(this,[{x:q(f,b)}]);var D=N(this.translation[1],l);if(V(v,D)){var P=v+_,M=d;if(!V(P,D)){P=q(P,D);var x=Math.sqrt(1-Math.abs((P-v)/_));if(this.isDamping("translate")){var S=x*(2*Math.abs(_)/g);P+=s*Math.min(S/20,1/4)*(_>0?1:-1),x=Math.sqrt(1-Math.abs((P-v)/_))}M=Math.max(M*(1-x),400)}G.apply(this,[{y:P},{easing:H,duration:M}]).then((function(){V(P,D)||G.apply(e,[{y:q(P,D)}])}))}else G.apply(this,[{y:q(v,D)}])}}},it=function(){function t(e){var i=e.container,h=e.element,l=e.damping,c=e.dblScale,f=e.rotation,p=e.scalation,v=e.translation;(0,a.Z)(this,t),(0,u.Z)(this,"damping",[]),(0,u.Z)(this,"dblScale",{}),(0,u.Z)(this,"rotation",[]),(0,u.Z)(this,"scalation",[]),(0,u.Z)(this,"translation",[]),(0,u.Z)(this,"_fingers",0),this.container=i,this.element=h,this.setDamping(l),this.setDblScale(c),this.setRotation(f),this.setScalation(p),this.setTranslation(v);var m=q(0,N(this.rotation)),g=q(1,N(this.scalation)),y=q(0,N(this.translation[0],g)),_=q(0,N(this.translation[1],g));this._transform=new L({a:m,k:g,x:y,y:_}),this._transition=new C({element:this.element,propertyName:"transform",propertyValue:new(function(t){(0,n.Z)(u,t);var e,i,h=(e=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,o.Z)(e);if(i){var a=(0,o.Z)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,r.Z)(this,t)});function u(){return(0,a.Z)(this,u),h.apply(this,arguments)}return(0,s.Z)(u,[{key:"toString",value:function(){return new L(this.value).toString()}}]),u}(j))(this._transform.toRaw())});var d=new w(this.container);d.done()&&(d.on("touchStart",J.bind(this)),d.on("touchMove",K.bind(this)),d.on("doubleTap",tt.bind(this)),d.on("swipe",et.bind(this)),d.on("touchEnd",Q.bind(this))),this._gesture=d}return(0,s.Z)(t,[{key:"destory",value:function(){this._gesture.destory()}},{key:"isDamping",value:function(t){return this.damping&&-1!==this.damping.indexOf(t)}},{key:"setDamping",value:function(t){this.damping=t||["scale","translate"]}},{key:"setDblScale",value:function(t){var e=this;if("number"==typeof t&&t>0)this.dblScale={adjust:!1,value:+t};else{var i=!0;if(t&&"number"!=typeof t){if("number"==typeof t.value&&t.value>0)return void(this.dblScale={adjust:!!t.adjust,value:t.value});i=!1!==t.adjust}this.dblScale=function(){var t=e.getContainerSize(),n=t.width,r=t.height,o=e.getElClientSize(),a=o.width,s=o.height,h=e.getElNaturalSize(),u=h.width,l=h.height;return{adjust:i,value:Math.max(2,Math.max(n/a,r/s),Math.min(u/n,l/r))}}}}},{key:"setRotation",value:function(t){t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this.rotation=t:this.rotation=function(){return[0,0]}}},{key:"setScalation",value:function(t){var e=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]&&t[0]>0?this.scalation=t:this.scalation=function(){return[1,2*N(e.dblScale).value]}}},{key:"setTranslation",value:function(t){this.setXTranslation(t&&t[0]),this.setYTranslation(t&&t[1])}},{key:"setXTranslation",value:function(t){var e=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this.translation[0]=t:this.translation[0]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._transform.k||1,i=e.getContainerSize().width,n=e.getElClientSize().width,r=Math.max((n*t-i)/2,0);return[-r,r]}}},{key:"setYTranslation",value:function(t){var e=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this.translation[1]=t:this.translation[1]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._transform.k||1,i=e.getContainerSize().height,n=e.getElClientSize().height,r=Math.max((n*t-i)/2,0);return[-r,r]}}},{key:"getElClientSize",value:function(){var t=this.element;return{width:t.clientWidth,height:t.clientHeight}}},{key:"getElNaturalSize",value:function(){var t=this.element;return"naturalWidth"in t&&"naturalHeight"in t?{width:t.naturalWidth,height:t.naturalHeight}:this.getElClientSize()}},{key:"getContainerSize",value:function(){var t=this.container;return{width:t.clientWidth,height:t.clientHeight}}},{key:"getContainerCenter",value:function(){var t=this.container.getBoundingClientRect(),e=t.left,i=t.top;return[e+t.width/2,i+t.height/2]}},{key:"getCenterOffset",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this._transform,r=n.k,o=void 0===r?1:r,a=n.x,s=void 0===a?0:a,u=n.y,l=void 0===u?0:u,c=e/o,f=this.getContainerCenter(),p=(0,h.Z)(f,2),v=p[0],m=p[1],g=t[0]-(v+s),y=t[1]-(m+l);if(i){var _=this.getContainerSize(),d=_.width,b=_.height,T=this.getElClientSize(),k=T.width/o,w=T.height/o;g=q(k-(d-k)/(c-1),[0,k])*Y(g/k,c,q(d/k,[1,2])),y=q(w-(b-w)/(c-1),[0,w])*Y(y/w,c,q(b/w,[1,2]))}return[g*=1-c,y*=1-c]}},{key:"rotate",value:function(t){return this.transform({a:t})}},{key:"rotateTo",value:function(t){return this.transformTo({a:t})}},{key:"scale",value:function(t,e){return this.transform({k:t},e)}},{key:"scaleTo",value:function(t,e){return this.transformTo({k:t},e)}},{key:"translate",value:function(t,e){return this.transform({x:t,y:e})}},{key:"translateTo",value:function(t,e){return this.transformTo({x:t,y:e})}},{key:"translateX",value:function(t){return this.transform({x:t})}},{key:"translateXTo",value:function(t){return this.transformTo({x:t})}},{key:"translateY",value:function(t){return this.transform({y:t})}},{key:"translateYTo",value:function(t){return this.transformTo({y:t})}},{key:"transform",value:function(t,e,i){var n=this._transform,r=n.a,o=void 0===r?0:r,a=n.k,s=void 0===a?1:a,h=n.x,u=void 0===h?0:h,l=n.y,c=void 0===l?0:l,f=t.a,p=t.k,v=t.x,m=t.y;return"number"==typeof f&&(f+=o),"number"==typeof p&&(p*=s),"number"==typeof v&&(v+=u),"number"==typeof m&&(m+=c),this.transformTo({a:f,k:p,x:v,y:m},e,i)}},{key:"transformTo",value:function(t,e,i){var n=e,r=i;i||Array.isArray(e)||(r=e,n=void 0);var o=this.rotation,a=this.scalation,s=this.translation,u=(0,h.Z)(s,2),l=u[0],c=u[1],f=t.a,p=t.k,v=t.x,m=t.y,g={};if("number"==typeof f&&(g.a=q(f,N(o))),"number"==typeof p){var y=g.k=q(p,N(a));if(Array.isArray(n)){var _=this.getCenterOffset(n,y),d=(0,h.Z)(_,2),b=d[0],T=d[1],k=this._transform,w=k.x,Z=void 0===w?0:w,D=k.y,P=void 0===D?0:D;g.x=q(("number"==typeof v?v:Z)+b,N(l,y)),g.y=q(("number"==typeof m?m:P)+T,N(c,y))}else"number"==typeof v&&(g.x=q(v,N(l,y))),"number"==typeof m&&(g.y=q(m,N(c,y)))}else"number"==typeof v&&(g.x=q(v,N(l))),"number"==typeof m&&(g.y=q(m,N(c)));return G.apply(this,[g,$({cancel:!1},r||{})])}},{key:"transforming",value:function(){return this._transition.transitioning()}}]),t}();const nt=it}}]);
//# sourceMappingURL=lib.ffbcdf25.js.map