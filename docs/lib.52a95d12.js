"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[647],{377:(t,i,e)=>{e.d(i,{ZP:()=>it});var n=e(649),r=e(808),s=e(132),a=e(46),o=e(597),h=e(951),l=e(976),c=e(517),u=e.n(c),f=e(25),v=e(444),d=e(751),g=e.n(d),m=e(507);function p(t,i,e){return t<=(1-i)/(2*i)?-.5:t>=(1+i-2*e)/(2*i)?.5:(t-(1-e)/(2*i))/(1-e/i)}function _(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),n=1;n<i;n++)e[n-1]=arguments[n];return"function"==typeof t?t.apply(void 0,e):t}function y(t,i){var e=(0,v.Z)(i,2),n=e[0],r=e[1];return n<=t&&t<=r}function b(t,i,e){var n=(0,v.Z)(i,2),r=n[0],s=n[1];return Math.max(Math.min(t,s),r)}function T(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}var x=function(){function t(i){var e,r=i.element,f=i.sizeInfo,v=i.dblAdjust,d=i.dblScale,m=i.damping,p=i.rotation,_=i.scalation,y=i.translation;(0,h.Z)(this,t),(0,n.Z)(this,"_dblAdjust",!0),(0,n.Z)(this,"_dblScale",0),(0,n.Z)(this,"_damping",[]),(0,n.Z)(this,"_rotation",[]),(0,n.Z)(this,"_scalation",[]),(0,n.Z)(this,"_translation",[]),(0,n.Z)(this,"_sizeInfo",{containerCenter:[0,0],containerWidth:0,containerHeight:0,naturalWidth:0,naturalHeight:0,elementWidth:0,elementHeight:0});try{e="string"==typeof r?document.querySelector(r):r}catch(t){e=null}e&&e instanceof HTMLElement||(e=document.createElement("div")),e.style.opacity="0",e.innerHTML="",this._element=e,this._transform=new(g())({a:0,k:1,x:0,y:0}),this._transition=new(u())({element:this._element,propertyName:"transform",propertyValue:new(function(t){(0,s.Z)(r,t);var i,e,n=(i=r,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,o.Z)(i);if(e){var r=(0,o.Z)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return(0,a.Z)(this,t)});function r(){return(0,h.Z)(this,r),n.apply(this,arguments)}return(0,l.Z)(r,[{key:"toString",value:function(){return new(g())(this.value).toString()}}]),r}(c.TAProperty))(this._transform.toRaw())}),this.setSizeInfo(f),this.setDblAdjust(v),this.setDamping(m),this.setDblScale(d),this.setRotation(p),this.setScalation(_),this.setTranslation(y)}return(0,l.Z)(t,[{key:"getElement",value:function(){return this._element}},{key:"getTransform",value:function(){return this._transform}},{key:"getSizeInfo",value:function(){return this._sizeInfo}},{key:"setSizeInfo",value:function(t){if(t){var i,e=t.containerCenter,n=t.containerWidth,r=t.containerHeight,s=t.naturalWidth,a=t.naturalHeight,o=s/a,h=(i=o>=n/r?n:o>=1/2.2?r*o:Math.min(n,s))/o;this._element.style.opacity="1",this._element.style.width="".concat(i,"px"),this._element.style.height="".concat(h,"px"),this._sizeInfo={containerCenter:e,containerWidth:n,containerHeight:r,naturalWidth:s,naturalHeight:a,elementWidth:i,elementHeight:h},this.reset()}}},{key:"setRotation",value:function(t){t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this._rotation=t:this._rotation=function(){return[0,0]}}},{key:"getRotation",value:function(){return _(this._rotation)}},{key:"setScalation",value:function(t){var i=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]&&t[0]>0?this._scalation=t:this._scalation=function(){return[1,2*i.getDblScale()]}}},{key:"getScalation",value:function(){return _(this._scalation)}},{key:"setTranslation",value:function(t){this.setXTranslation(t&&t[0]),this.setYTranslation(t&&t[1])}},{key:"getTranslation",value:function(t){return[this.getXTranslation(t),this.getYTranslation()]}},{key:"setXTranslation",value:function(t){var i=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this._translation[0]=t:this._translation[0]=function(t){var e=i.getSizeInfo(),n=e.containerWidth,r=e.elementWidth,s=Math.max((r*t-n)/2,0);return[-s,s]}}},{key:"getXTranslation",value:function(t){return _(this._translation[0],t||this._transform.k||1)}},{key:"setYTranslation",value:function(t){var i=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this._translation[1]=t:this._translation[1]=function(t){var e=i.getSizeInfo(),n=e.containerHeight,r=e.elementHeight,s=Math.max((r*t-n)/2,0);return[-s,s]}}},{key:"getYTranslation",value:function(t){return _(this._translation[1],t||this._transform.k||1)}},{key:"setDblScale",value:function(t){var i=this;this._dblScale="number"==typeof t&&t>0?t:function(){var t=i.getSizeInfo(),e=t.containerWidth,n=t.containerHeight,r=t.naturalWidth,s=t.naturalHeight,a=t.elementWidth,o=t.elementHeight;return Math.max(2,Math.max(e/a,n/o),Math.min(r/e,s/n))||1}}},{key:"getDblScale",value:function(){return _(this._dblScale)}},{key:"setDblAdjust",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._dblAdjust=t}},{key:"getDblAdjust",value:function(){return this._dblAdjust}},{key:"isDamping",value:function(t){return this._damping&&-1!==this._damping.indexOf(t)}},{key:"setDamping",value:function(t){this._damping=t||["scale","translate"]}},{key:"rotate",value:function(t){return this.transform({a:t})}},{key:"rotateTo",value:function(t){return this.transformTo({a:t})}},{key:"scale",value:function(t,i){return this.transform({k:t},i)}},{key:"scaleTo",value:function(t,i){return this.transformTo({k:t},i)}},{key:"translate",value:function(t,i){return this.transform({x:t,y:i})}},{key:"translateTo",value:function(t,i){return this.transformTo({x:t,y:i})}},{key:"translateX",value:function(t){return this.transform({x:t})}},{key:"translateXTo",value:function(t){return this.transformTo({x:t})}},{key:"translateY",value:function(t){return this.transform({y:t})}},{key:"translateYTo",value:function(t){return this.transformTo({y:t})}},{key:"transform",value:function(t,i,e){var n=this.getTransform(),r=n.a,s=void 0===r?0:r,a=n.k,o=void 0===a?1:a,h=n.x,l=void 0===h?0:h,c=n.y,u=void 0===c?0:c,f=t.a,v=t.k,d=t.x,g=t.y;return"number"==typeof f&&(f+=s),"number"==typeof v&&(v*=o),"number"==typeof d&&(d+=l),"number"==typeof g&&(g+=u),this.transformTo({a:f,k:v,x:d,y:g},i,e)}},{key:"transformTo",value:function(t,i,e){var n=i,r=e;e||Array.isArray(i)||(r=i,n=void 0);var s=t.a,a=t.k,o=t.x,h=t.y,l={};if("number"==typeof s&&(l.a=b(s,this.getRotation())),"number"==typeof a){var c=l.k=b(a,this.getScalation());if(Array.isArray(n)){var u=this.computeOffset(n,c),f=(0,v.Z)(u,2),d=f[0],g=f[1],m=this._transform,p=m.x,_=void 0===p?0:p,y=m.y,T=void 0===y?0:y;l.x=b(("number"==typeof o?o:_)+d,this.getXTranslation(c)),l.y=b(("number"==typeof h?h:T)+g,this.getYTranslation(c))}else"number"==typeof o&&(l.x=b(o,this.getXTranslation(c))),"number"==typeof h&&(l.y=b(h,this.getYTranslation(c)))}else"number"==typeof o&&(l.x=b(o,this.getXTranslation())),"number"==typeof h&&(l.y=b(h,this.getYTranslation()));return this.transitionRun(l,r)}},{key:"transitionRun",value:function(t){var i=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"==typeof e.duration&&e.duration<=0)return this._transform=new(g())(t),this._transition.bind(t),Promise.resolve(t);var r=t.a,s=t.k,a=t.x,o=t.y,h=this.getTransform(),l=h.a,u=void 0===l?0:l,f=h.k,v=void 0===f?1:f,d=h.x,m=void 0===d?0:d,p=h.y,_=void 0===p?0:p,y={},b={};return"number"==typeof r&&(y.a=(this._transform.a=r)-u,b.a=.001),"number"==typeof s&&(y.k=(this._transform.k=s)-v,b.k=.001),"number"==typeof a&&(y.x=(this._transform.x=a)-m,b.x=1),"number"==typeof o&&(y.y=(this._transform.y=o)-_,b.y=1),this._transition.apply(y,function(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?T(Object(e),!0).forEach((function(i){(0,n.Z)(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):T(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}({precision:b,cancel:!0,duration:500,easing:c.easeOutQuart},e)).then((function(t){return i.isTransitioning()||i._transition.bind(i._transform.toRaw()),t}))}},{key:"transitionCancel",value:function(){var t=this;return this._transition.cancel().map((function(i){var e=t.getTransform(),n=e.a,r=void 0===n?0:n,s=e.k,a=void 0===s?1:s,o=e.x,h=void 0===o?0:o,l=e.y,c=void 0===l?0:l;Object.keys(i).forEach((function(e){var n=i[e];"a"===e?t._transform.a=r-n:"k"===e?t._transform.k=a-n:"x"===e?t._transform.x=h-n:"y"===e&&(t._transform.y=c-n)}))})).length}},{key:"isTransitioning",value:function(){return this._transition.transitioning()}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=b(0,this.getRotation()),e=b(1,this.getScalation()),n=b(0,this.getXTranslation(e)),r=b(0,this.getYTranslation(e));this.transitionRun({a:i,k:e,x:n,y:r},{duration:t})}},{key:"computeOffset",value:function(t,i){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getSizeInfo(),r=n.containerCenter,s=n.containerWidth,a=n.containerHeight,o=n.elementWidth,h=n.elementHeight,l=this.getTransform(),c=l.k,u=void 0===c?1:c,f=l.x,d=void 0===f?0:f,g=l.y,m=void 0===g?0:g,_=i/u,y=(0,v.Z)(r,2),T=y[0],x=y[1],w=("number"==typeof t[0]?t[0]:T)-(T+d),k=("number"==typeof t[1]?t[1]:x)-(x+m);if(e){var O=s/1,S=a/1,I=o/u,Z=h/u;w=b(I-(O-I)/(_-1),[0,I])*p(w/I,_,b(O/I,[1,2]))||0,k=b(Z-(S-Z)/(_-1),[0,Z])*p(k/Z,_,b(S/Z,[1,2]))||0}return[w*=1-_,k*=1-_]}},{key:"moveBounce",value:function(t,i,e,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=this.getTransform(),a=s.a,o=void 0===a?0:a,h=s.k,l=void 0===h?1:h,c=s.x,u=void 0===c?0:c,f=s.y,d=void 0===f?0:f,g=this.getRotation();if(this.isDamping("rotate")){var p=b(o,g);o=p+(0,m.Gh)(o-p,{max:180}),p=b(o+=t,g),o=p+(0,m.Td)(o-p,{max:180})}else o=b(o+=t,g);var _=this.getScalation();if(this.isDamping("scale")){var y=b(l,_);l=y*(0,m.Gh)(l/y,{max:2,mode:1}),y=b(l*=i,_),l=y*(0,m.Td)(l/y,{max:2,mode:1})}else l=b(l*=i,_);var T=this.computeOffset(r,l),x=(0,v.Z)(T,2),w=x[0],k=x[1];if(this.isDamping("scale")){var O=this._sizeInfo.containerWidth,S=b(u,this.getXTranslation());u=S+(0,m.Gh)(u-S,{max:O}),S=b(u+=w+e,this.getXTranslation(l)),u=S+(0,m.Td)(u-S,{max:O});var I=this._sizeInfo.containerHeight,Z=b(d,this.getYTranslation());d=Z+(0,m.Gh)(d-Z,{max:I}),Z=b(d+=k+n,this.getYTranslation(l)),d=Z+(0,m.Td)(d-Z,{max:I})}else u=b(u+=w+e,this.getXTranslation(l)),d=b(d+=k+n,this.getYTranslation(l));this.transitionRun({a:o,k:l,x:u,y:d},{duration:0})}},{key:"resetBounce",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.getTransform(),n=e.a,r=void 0===n?0:n,s=e.k,a=void 0===s?1:s,o=e.x,h=void 0===o?0:o,l=e.y,c=void 0===l?0:l;if(this.isDamping("rotate")){var u=b(r,this.getRotation());r=u+(0,m.Gh)(r-u,{max:180})}if(this.isDamping("scale")){var f=b(a,this.getScalation());a=f*(0,m.Gh)(a/f,{max:2,mode:1})}if(this.isDamping("translate")){var v=this._sizeInfo.containerWidth,d=b(h,this.getXTranslation());h=d+(0,m.Gh)(h-d,{max:v});var g=this._sizeInfo.containerHeight,p=b(c,this.getYTranslation());c=p+(0,m.Gh)(c-p,{max:g})}this.transformTo({a:r,k:a,x:h,y:c},t,{cancel:i})}},{key:"dblScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=this.getTransform().k||1,e=b(this.getDblScale(),this.getScalation()),n=b(1,this.getScalation());if(e>n&&i<=n||e<n&&i>=n)if(this.getDblAdjust()){var r=this.computeOffset(t,e,this.getDblAdjust()),s=(0,v.Z)(r,2),a=s[0],o=s[1],h=this.getTransform(),l=h.x,c=void 0===l?0:l,u=h.y,f=void 0===u?0:u;this.transformTo({a:0,k:e,x:c+a,y:f+o},{cancel:!1})}else this.transformTo({k:e},t,{cancel:!1});else this.getDblAdjust()?this.transformTo({a:0,k:n,x:0,y:0},{cancel:!1}):this.transformTo({k:n},t,{cancel:!1})}},{key:"swipeBounce",value:function(t,i,e,r){var s=this,a=this._sizeInfo["x"===e?"containerWidth":"containerHeight"],o=1.2*this.getDblScale(),h=this.getTransform()[e]||0,l=this.getTranslation()["x"===e?0:1],u=i>0?1:-1,f=Math.max(1,Math.min(Math.abs(i),o*a))*u,v=Math.max(800,Math.min(2500,t));if(y(h+f,l))this.transitionRun((0,n.Z)({},e,h+f),{easing:c.easeOutQuad,duration:v});else{var d=b(h+f,l)-h,g=0;if(this.isDamping("translate")){var m=(y(h,l)?Math.sqrt(1-Math.abs(d/f)):1)*(2*Math.abs(f)/v);g=Math.min(30*m,a/4)*u}if("function"==typeof r)r(e,d,g,(function(t){return{duration:(1-Math.sqrt(1-Math.abs(t/f)))*v,easing:c.easeOutQuad}}));else{var p=Math.max((d+g)*u,0)*u,_=1-Math.sqrt(1-Math.abs(p/f));0===p?this.transitionRun((0,n.Z)({},e,b(h+p,l))):this.transitionRun((0,n.Z)({},e,h+p),{duration:_*v,easing:c.easeOutQuad}).then((function(){s.transitionRun((0,n.Z)({},e,b(h+p,l)))}))}}}}]),t}();const w=x;var k='\n  <svg width="100%" height="100%" viewBox="0 0 80 80">\n    <defs>\n      <linearGradient\n        x1="94.0869141%"\n        y1="0%"\n        x2="94.0869141%"\n        y2="90.559082%"\n        id="linearGradient-1"\n      >\n        <stop stop-color="#fff" stop-opacity="0" offset="0%" />\n        <stop stop-color="#fff" stop-opacity="0.3" offset="100%" />\n      </linearGradient>\n      <linearGradient\n        x1="100%"\n        y1="8.67370605%"\n        x2="100%"\n        y2="90.6286621%"\n        id="linearGradient-2"\n      >\n        <stop stop-color="#fff" offset="0%" />\n        <stop stop-color="#fff" stop-opacity="0.3" offset="100%" />\n      </linearGradient>\n    </defs>\n    <g\n      stroke="none"\n      stroke-width="1"\n      fill="none"\n      fill-rule="evenodd"\n      opacity="0.9"\n    >\n      <g>\n        <path\n          d="M40,0 C62.09139,0 80,17.90861 80,40 C80,62.09139 62.09139,80 40,80 L40,73 C58.2253967,73 73,58.2253967 73,40 C73,21.7746033 58.2253967,7 40,7 L40,0 Z"\n          fill="url(#linearGradient-1)"\n        />\n        <path\n          d="M40,0 L40,7 C21.7746033,7 7,21.7746033 7,40 C7,58.2253967 21.7746033,73 40,73 L40,80 C17.90861,80 0,62.09139 0,40 C0,17.90861 17.90861,0 40,0 Z"\n          fill="url(#linearGradient-2)"\n        />\n        <circle id="Oval" fill="#fff" cx="40.5" cy="3.5" r="3.5" />\n      </g>\n      <animateTransform\n        attributeName="transform"\n        begin="0s"\n        dur="1s"\n        type="rotate"\n        values="0 40 40;360 40 40"\n        repeatCount="indefinite"\n      />\n    </g>\n  </svg>\n',O='\n  <svg width="100%" height="100%" viewBox="0 0 24 24" fill="#fff">\n    <path\n      d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.763-15.864l.11 7.596h1.305l.11-7.596h-1.525zm.759 10.967c.512 0 .902-.383.902-.882 0-.5-.39-.882-.902-.882a.878.878 0 00-.896.882c0 .499.396.882.896.882z" />\n  </svg>\n',S=/^(?:-border(?:-top|-right|-bottom|-left)?(?:-width|)|(?:-margin|-padding)?(?:-top|-right|-bottom|-left)?|(?:-min|-max)?(?:-width|-height))$/;function I(t,i){if(t){var e="";Object.keys(i).forEach((function(n){var r=n.replace(/([A-Z])/g,"-$1").toLowerCase();if(0===i[n]||i[n]){var s="number"==typeof i[n]&&/^[a-z]/.test(r)&&S.test("-".concat(r))?"px":"",a="".concat(i[n]).concat(s);e+="".concat(r,":").concat(a,";")}else t.style.setProperty(r,"")})),e&&(t.style.cssText+=e)}return t}function Z(t,i){var e=null;return i&&(e=I(document.createElement("span"),{borderRadius:"100%",width:7,height:7,display:"inline-block",margin:t?"5px 0":"0 5px",background:"#fff",opacity:.6}),i.appendChild(e)),e}function z(t,i,e,n,r){var s=I(document.createElement("div"),{position:"relative",display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",overflow:"hidden",flex:1,marginTop:i&&!t?n:0,marginLeft:i||t?0:n});return e&&function(t){var i=I(document.createElement("span"),{position:"absolute",top:"50%",left:"50%",marginTop:-16,marginLeft:-16,width:32,height:32,display:"inline-block"});i.innerHTML=k,t.appendChild(i)}(s),r.appendChild(s),s}function P(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function C(t){var i=t||{},e=i.wrapper,r=i.entity,s=i.url,a=i.options;return void 0===r?(t.entity=null,(0,f.ZP)(s).then((function(i){return t.entity=new w(function(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?P(Object(e),!0).forEach((function(i){(0,n.Z)(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):P(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}({element:i},a)),t.width=i.naturalWidth,t.height=i.naturalHeight,e.innerHTML="",e.appendChild(i),!0})).catch((function(){var t,i;e.innerHTML="",t=e,(i=I(document.createElement("div"),{position:"absolute",top:"50%",left:"50%",transform:"translate3d(-50%,-50%,0)",width:"100%",color:"#fff",fontSize:"14px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:.88})).innerHTML='\n    <span style="width: 72px;height: 72px;">\n      '.concat(O,'\n    </span>\n    <span style="margin-top:16px;">图片加载失败</span>\n  '),t.appendChild(i)}))):Promise.resolve()}var j=e(54),M=e.n(j);function R(t){if(!(this._isClose||this._gesture&&this._gesture.isTouch())){var i=t.angle,e=void 0===i?0:i;if(this instanceof J){if(this.isTransitioning())return;var n=-this._activeIndex*this.getItemSize();if(0===Math.round(this._translate-n)){var r=(this._images&&this._images[this._activeIndex]||{}).entity;if(r){if(r.isTransitioning())return;isNaN(e)?r.resetBounce():r.moveBounce(e,1,0,0)}}}else{var s=(this._image||{}).entity;if(s){if(s.isTransitioning())return;isNaN(e)?s.resetBounce():s.moveBounce(e,1,0,0)}}}}function D(t){if(!(this._isClose||this._gesture&&this._gesture.isTouch())){var i=t.scale,e=void 0===i?1:i;if(this instanceof J){if(this.isTransitioning())return;var n=-this._activeIndex*this.getItemSize();if(0===Math.round(this._translate-n)){var r=(this._images&&this._images[this._activeIndex]||{}).entity;if(r){if(r.isTransitioning())return;isNaN(e)?r.resetBounce():r.moveBounce(0,e,0,0)}}}else{var s=(this._image||{}).entity;if(s){if(s.isTransitioning())return;isNaN(e)?s.resetBounce():s.moveBounce(0,e,0,0)}}}}function B(t){var i=this;if(!this._isClose)if(this instanceof J){if(this.isTransitioning())return;var e=(this._images&&this._images[this._activeIndex]||{}).entity;if("inside"===this._moveTarget&&e){if(e.isTransitioning())return;var r=t.velocity,s=void 0===r?0:r,a=t.swipeComputed;if(s>0&&a){var o=function(t,r,s,a){if(i instanceof J){var o=-i._activeIndex*i.getItemSize();if(0!==r){var h=a(r+s),l=h.duration,c=h.easing;Promise.all([e.transitionRun((0,n.Z)({},t,(e.getTransform()[t]||0)+r),{duration:l,easing:c,before:function(t){var i=Math.abs(r),e=Math.abs(r+s);return Math.min(e*t,i)/i}}),i.transitionRun(i._translate+s,{duration:l,easing:c,before:function(t){var i=Math.abs(r),e=Math.abs(s),n=Math.abs(r+s);return Math.max(n*t-i,0)/e}})]).then((function(){i instanceof J&&i.transitionRun(o)}))}else{var u=i._translate-o,f=u>0?1:-1,v=Math.max((s-u)*f,0)*f,d=a(v),g=d.duration,m=d.easing;0===v?i.transitionRun(o):i.transitionRun(i._translate+v,{duration:g,easing:m}).then((function(){i instanceof J&&i.transitionRun(o)}))}}},h=a(.003),l=h.duration,c=h.stretchX,u=h.stretchY;if("vertical"===this._direction){var f=e.getXTranslation();0===f[0]&&0===f[1]||e.swipeBounce(l,c,"x"),e.swipeBounce(l,u,"y",o)}else{e.swipeBounce(l,c,"x",o);var v=e.getYTranslation();0===v[0]&&0===v[1]||e.swipeBounce(l,u,"y")}}return}if("closures"===this._moveTarget){if(e&&e.isTransitioning())return;return void(this._swipeClose&&"Down"===t.direction&&(this.close(),this._moveTarget="none"))}var d=0===this.getItemSize()?0:-this._translate/this.getItemSize();this.slide(d>this._activeIndex?Math.ceil(d):Math.floor(d))}else{var g=(this._image||{}).entity;if(g){if(g.isTransitioning())return;var m=t.velocity,p=void 0===m?0:m,_=t.swipeComputed;if(p>0&&_){var y=_(.003),b=y.duration,T=y.stretchX,x=y.stretchY;g.swipeBounce(b,T,"x"),g.swipeBounce(b,x,"y")}}}}function E(){if(!this._isClose)if(this instanceof J){if(this.isTransitioning())return;var t=(this._images&&this._images[this._activeIndex]||{}).entity;if(t&&t.isTransitioning())return;"function"==typeof this._longPress&&this._longPress()}else{var i=(this._image||{}).entity;if(i&&i.isTransitioning())return;"function"==typeof this._longPress&&this._longPress()}}function H(){if(!this._isClose)if(this instanceof J){if(this.isTransitioning())return;var t=(this._images&&this._images[this._activeIndex]||{}).entity;if(t&&t.isTransitioning())return;"function"==typeof this._press&&this._press()}else{var i=(this._image||{}).entity;if(i&&i.isTransitioning())return;"function"==typeof this._press&&this._press()}}function G(t){if(!this._isClose){var i=t.point[2];if(this instanceof J){if(this.isTransitioning())return;var e=-this._activeIndex*this.getItemSize();if(0===Math.round(this._translate-e)){var n=(this._images&&this._images[this._activeIndex]||{}).entity;if(n){if(n.isTransitioning())return;n.dblScale(i)}}}else{var r=(this._image||{}).entity;if(r){if(r.isTransitioning())return;r.dblScale(i)}}}}var L=["x","y"];function A(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function X(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?A(Object(e),!0).forEach((function(i){(0,n.Z)(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):A(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function W(t){if(!this._isClose){0===this._fgBehavior&&t.pointer.length>1&&(this._fgBehavior=2);var i=0;if(this instanceof J){i+=this.transitionCancel();var e=(this._images&&this._images[this._activeIndex]||{}).entity,n=(this._images||[]).length;if(e){i+=e.transitionCancel();var s=e.getTransform(),a=s.x,o=void 0===a?0:a,h=s.y,l=void 0===h?0:h,c=(0,r.Z)(s,L),u=e.getTranslation(),f=(0,v.Z)(u,2),d=f[0],g=f[1],m=0===this._activeIndex,p=this._activeIndex===n-1;"vertical"===this._direction?!y(o,d)&&(l<=g[0]&&!p||l>=g[1]&&!m)&&e.transitionRun(X({x:b(o,d),y:l},c),{duration:0}):!y(l,g)&&(o<=d[0]&&!p||o>=d[1]&&!m)&&e.transitionRun(X({x:o,y:b(l,g)},c),{duration:0})}}else{var _=(this._image||{}).entity;_&&(i+=_.transitionCancel())}i>0&&this._gesture&&(this._gesture._preventTap=!0,this._gesture._preventSingleTap=!0,this._gesture._preventDoubleTap=!0,this._gesture._firstPoint=null,this._gesture._longTapTimer&&(clearTimeout(this._gesture._longTapTimer),this._gesture._longTapTimer=null))}}var Y=.3,N=.01,q=function(t,i,e){var n=(0,v.Z)(i,2),r=n[0],s=n[1],a=(0,v.Z)(e,2),o=a[0],h=a[1];return"vertical"===t?Math.abs(r-o)>4*Math.abs(s-h)&&r-o<=0:Math.abs(s-h)>4*Math.abs(r-o)&&s-h<=0};function Q(t){if(!this._isClose){0===this._fgBehavior&&1===t.pointer.length&&(this._fgBehavior=1),this._onePoint=1===t.pointer.length||1===this._fgBehavior;var i=(0,v.Z)(t.point,3),e=(i[0],i[1]),n=i[2],r=t.direction,s=t.angle,a=void 0===s?0:s,o=t.scale,h=void 0===o?1:o,l=t.deltaX,c=void 0===l?0:l,u=t.deltaY,f=void 0===u?0:u;if(this instanceof J){if(this.isTransitioning())return;var d=this._images&&this._images[this._activeIndex]||{},g=d.entity,p=d.wrapper,_=(this._images||[]).length;if(g){if(g.isTransitioning())return;var y=g.getTransform(),T=y.x,x=void 0===T?0:T,w=y.y,k=void 0===w?0:w,O=g.getTranslation(),S=(0,v.Z)(O,2),I=S[0],Z=S[1],z=0===I[0]&&0===I[1],P=0===Z[0]&&0===Z[1];if("none"===this._moveTarget&&(this._moveTarget="inside",this._onePoint)){var C=0===this._activeIndex,j=this._activeIndex===_-1,M=q(this._direction,e,n);if("vertical"===this._direction)if(this._swipeClose&&x>=I[1]&&M)this._moveTarget="closures";else{var R=z?f<0:"Up"===r,D=z?f>0:"Down"===r;(k<=Z[0]&&R&&!j||k>=Z[1]&&D&&!C)&&(this._moveTarget="outside")}else if(this._swipeClose&&k>=Z[1]&&M)this._moveTarget="closures";else{var B=P?c<0:"Left"===r,E=P?c>0:"Right"===r;(x<=I[0]&&B&&!j||x>=I[1]&&E&&!C)&&(this._moveTarget="outside")}}if("inside"===this._moveTarget){var H=-this._activeIndex*this.getItemSize(),G=(0,m.Gh)(this._translate-H,{max:this.getItemSize()}),L=c,A=f;if("vertical"===this._direction?A+=G:L+=G,this._onePoint){var X=0;"vertical"===this._direction?(X=A,L=z?0:L,X-=A=b(A+k,Z)-k):(X=L,A=P?0:A,X-=L=b(L+x,I)-x),g.moveBounce(0,1,L,A,n),this.transitionRun(H+(0,m.Td)(X,{max:this.getItemSize()}),{duration:0})}else g.moveBounce(a,h,L,A,n),0!==G&&this.transitionRun(H,{duration:0});return}}else"none"===this._moveTarget&&(this._moveTarget=this._swipeClose&&q(this._direction,e,n)?"closures":"outside");if("closures"===this._moveTarget){var W=t.moveX,Q=void 0===W?0:W,U=t.moveY,V=void 0===U?0:U,F=this._rectSize||{},$=F.width,K=void 0===$?0:$,tt=F.height,it=void 0===tt?0:tt,et=F.left,nt=void 0===et?0:et,rt=F.top,st=void 0===rt?0:rt,at=Math.min(Math.max(1-(("vertical"===this._direction?Q/K:V/it)||0),Y),1),ot=N+(at-Y)*(1-N)/(1-Y),ht=0,lt=0;if(p){var ct=0,ut=0,ft=1;if(p.style.transform){var vt=p.style.transform.split("("),dt=vt[1].split(")")[0].split(","),gt=(0,v.Z)(dt,2),mt=gt[0],pt=gt[1],_t=vt[2].split(")")[0];ct=parseFloat(mt),ut=parseFloat(pt),ft=parseFloat(_t)}ht=ct+c+(n[0]-(ct+nt+K/2))*(1-at/ft),lt=ut+f+(n[1]-(ut+st+it/2))*(1-at/ft)}return void this.originTransform(ht,lt,at,ot,0)}var yt=[(1-_)*this.getItemSize(),0],bt=b(this._translate,yt),Tt=bt+(0,m.Gh)(this._translate-bt,{max:this.getItemSize()});bt=b(Tt+="vertical"===this._direction?f:c,yt),Tt=bt+(0,m.Td)(Tt-bt,{max:this.getItemSize()}),this.transitionRun(Tt,{duration:0})}else{var xt=(this._image||{}).entity;if(xt){if(xt.isTransitioning())return;this._onePoint?xt.moveBounce(0,1,c,f,n):xt.moveBounce(a,h,c,f,n)}}}}function U(t){if(!this._isClose){var i="";if(this instanceof J&&(i=this._moveTarget),0===t.pointer.length)this._fgBehavior=0,this instanceof J&&(this._moveTarget="none");else if(1===this._fgBehavior){if(this instanceof J&&"outside"===i){var e=0===this.getItemSize()?0:-this._translate/this.getItemSize();this.slide(Math.round(e))}return}var n=t.point[2];if(this instanceof J){if(this.isTransitioning())return;if("closures"===i)return void this.originTransform(0,0,1,1,300);var r=(this._images&&this._images[this._activeIndex]||{}).entity;if(r){if(r.isTransitioning())return;r.resetBounce(n,this._onePoint)}var s=this.getItemSize(),a=this._activeIndex;"outside"===i&&(a=0===s?0:-this._translate/this.getItemSize()),this.slide(Math.round(a))}else{var o=(this._image||{}).entity;if(o){if(o.isTransitioning())return;o.resetBounce(n,this._onePoint)}}}}function V(t){var i=new(M())(t);return i.on("pointerStart",W.bind(this)),i.on("pointerMove",Q.bind(this)),i.on("pointerEnd",U.bind(this)),i.on("swipe",B.bind(this)),i.on("longTap",E.bind(this)),i.on("singleTap",H.bind(this)),i.on("doubleTap",G.bind(this)),i.on("rotate",R.bind(this)),i.on("scale",D.bind(this)),i}function F(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function $(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?F(Object(e),!0).forEach((function(i){(0,n.Z)(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):F(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}const J=function(){function t(i){var e=this,r=i.container,f=i.imageUrls,v=void 0===f?[]:f,d=i.activeIndex,g=void 0===d?0:d,m=i.direction,p=void 0===m?"horizontal":m,_=i.itemGap,y=void 0===_?20:_,b=i.hasLoading,T=void 0===b||b,x=i.hasIndicator,w=void 0===x||x,k=i.isLazy,O=void 0===k||k,S=i.swipeClose,P=void 0===S||S,j=i.closeDestory,M=void 0===j||j,R=i.backdropColor,D=void 0===R?"#000f":R,B=i.originRect,E=i.press,H=i.longPress,G=i.onChange,L=i.onResize,A=i.options,X=void 0===A?{}:A;(0,h.Z)(this,t),(0,n.Z)(this,"_container",null),(0,n.Z)(this,"_substance",null),(0,n.Z)(this,"_backdrop",null),(0,n.Z)(this,"_indicator",null),(0,n.Z)(this,"_itemGap",0),(0,n.Z)(this,"_direction","horizontal"),(0,n.Z)(this,"_rectSize",null),(0,n.Z)(this,"_isClose",!0),(0,n.Z)(this,"_swipeClose",!1),(0,n.Z)(this,"_closeDestory",!1),(0,n.Z)(this,"_originRect",null),(0,n.Z)(this,"_press",null),(0,n.Z)(this,"_longPress",null),(0,n.Z)(this,"_onChange",null),(0,n.Z)(this,"_removeResize",null),(0,n.Z)(this,"_images",null),(0,n.Z)(this,"_activeIndex",-1),(0,n.Z)(this,"_translate",0),(0,n.Z)(this,"_transition",null),(0,n.Z)(this,"_gesture",null),(0,n.Z)(this,"_onePoint",!1),(0,n.Z)(this,"_fgBehavior",0),(0,n.Z)(this,"_moveTarget","none");var W,Y,N,q=this._container=function(t){var i;try{i="string"==typeof t?document.querySelector(t):t}catch(t){i=null}return i&&i instanceof HTMLElement?(I(i,{display:"none"}),i.innerHTML=""):(i=I(document.createElement("div"),{position:"fixed",left:"0px",top:"0px",zIndex:"9999",width:"100%",height:"100%",overflow:"hidden",display:"none"}),document.body.appendChild(i)),i}(r);this._backdrop=(W=D,Y=q,N=I(document.createElement("div"),{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:W}),Y.appendChild(N),N);var Q=this._substance=function(t,i){var e=I(document.createElement("div"),{display:"flex",flexDirection:t?"column":"row"});return i.appendChild(e),e}("vertical"===p,q),U=this._indicator=function(t,i,e){var n=null;return i&&(n=I(document.createElement("div"),{position:"absolute",bottom:t?"0px":"16px",right:t?"16px":"auto",width:t?"auto":"100%",height:t?"100%":"auto",display:"none",flexDirection:t?"column":"row",justifyContent:"center",alignItems:"center"}),e.appendChild(n)),n}("vertical"===p,w&&v.length>1,q),F=this._gesture=V.apply(this,[q]);this._images=v.map((function(t,i){var n={wrapper:z(0===i,"vertical"===p,T,y,Q),indicator:Z("vertical"===p,U),url:t,width:0,height:0,options:$({rotation:F.isTouch()?void 0:[-Number.MAX_VALUE,Number.MAX_VALUE],scalation:F.isTouch()?void 0:[.1,10]},X)};return O||C(n).then((function(t){return t&&e.resetItemSize(i)})),n})),this._transition=new(u())({element:Q,propertyName:"transform",propertyValue:new(function(t){(0,s.Z)(r,t);var i,e,n=(i=r,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,o.Z)(i);if(e){var r=(0,o.Z)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return(0,a.Z)(this,t)});function r(){return(0,h.Z)(this,r),n.apply(this,arguments)}return(0,l.Z)(r,[{key:"toString",value:function(){return"translate".concat("vertical"===p?"Y":"X","(").concat(this.value.translate,"px)")}}]),r}(c.TAProperty))({translate:this._translate})}),this._itemGap=y,this._direction=p,this._swipeClose=P,this._closeDestory=M,this._originRect=B||null,this._press=E||null,this._longPress=H||null,this._onChange=G||null,this.slide(g,{duration:0});var J=function(){e.resetSize(),e.resetItemSize(),"function"==typeof L&&L()},K=function(t){t.preventDefault(),t.stopImmediatePropagation()};window.addEventListener("resize",J),window.addEventListener("contextmenu",K),this._removeResize=function(){window.removeEventListener("resize",J),window.removeEventListener("contextmenu",K)}}return(0,l.Z)(t,[{key:"resetSize",value:function(){if(this._container&&this._substance&&this._images){var t=this._container.getBoundingClientRect(),i=t.left,e=t.top,n=t.width,r=t.height;this._rectSize={left:i,top:e,width:n,height:r};var s=this._images.length;s>0&&I(this._substance,{width:"vertical"===this._direction?n:n*s+(s-1)*this._itemGap,height:"vertical"===this._direction?r*s+(s-1)*this._itemGap:r})}}},{key:"resetItemSize",value:function(t){var i=this;if(this._rectSize&&this._images){var e=this._rectSize,n=e.left,r=e.top,s=e.width,a=e.height,o=function(t){if(t&&t.entity&&0!==s&&0!==a){t.entity.setSizeInfo({containerCenter:[n+s/2,r+a/2],containerWidth:s,containerHeight:a,naturalWidth:t.width,naturalHeight:t.height});var e=t.entity.getSizeInfo().elementHeight;"vertical"!==i._direction&&e>a&&I(t.wrapper,{alignItems:"flex-start"})}};"number"==typeof t?o(this._images[t]):this._images.forEach(o)}}},{key:"getItemSize",value:function(){if(!this._rectSize)return 0;var t=this._rectSize,i=t.width,e=t.height,n="vertical"===this._direction?e:i;return 0===n?0:n+this._itemGap}},{key:"slide",value:function(t,i){var e=this;if(!this._images||0===this._images.length)return Promise.resolve();var n=Math.max(Math.min(t,this._images.length-1),0),r=this._activeIndex!==n;if(r){var s=(this._images[this._activeIndex]||{}).indicator;s&&I(s,{width:7,height:7,opacity:.6});var a=(this._images[n]||{}).indicator;a&&I(a,{width:8,height:8,opacity:1}),this._activeIndex=n,C(this._images[n]).then((function(t){return t&&e.resetItemSize(n)}))}var o=-n*this.getItemSize();return this.transitionRun(o,i).then((function(t){return r&&"function"==typeof e._onChange&&e._onChange(),t}))}},{key:"next",value:function(t){return this.slide(this._activeIndex+1,t)}},{key:"prev",value:function(t){return this.slide(this._activeIndex-1,t)}},{key:"transitionRun",value:function(t){var i=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t-this._translate;return 0!==n&&this._transition?"number"==typeof e.duration&&e.duration<=0?(this._translate=t,this._transition.bind({translate:t}),Promise.resolve({translate:t})):(this._translate=t,this._transition.apply({translate:n},$({precision:{translate:1},cancel:!0,duration:500,easing:c.easeOutQuart},e)).then((function(t){return i.isTransitioning()||i._transition&&i._transition.bind({translate:i._translate}),t}))):Promise.resolve({translate:this._translate})}},{key:"transitionCancel",value:function(){var t=this;return this._transition?this._transition.cancel().map((function(i){t._translate-=i.translate})).length:0}},{key:"isTransitioning",value:function(){return!!this._transition&&this._transition.transitioning()}},{key:"destory",value:function(){this._gesture&&(this._gesture.destory(),this._gesture=null),this._removeResize&&(this._removeResize(),this._removeResize=null),this._isClose=!0,this._transition=null,this._rectSize=null,this._originRect=null,this._images=null,this._press=null,this._longPress=null,this._onChange=null,this._substance=null,this._backdrop=null,this._indicator=null,this._container&&this._container.parentNode&&(this._container.parentNode.removeChild(this._container),this._container=null)}},{key:"setSwipeClose",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._container&&(this._swipeClose=t)}},{key:"setCloseDestory",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._container&&(this._closeDestory=t)}},{key:"setOriginRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._container&&(this._originRect=t)}},{key:"open",value:function(){var t=this;if(this._container&&this._isClose){this._isClose=!1,I(this._container,{display:"block"}),this.resetSize(),this.resetItemSize(),this._transition&&(this._translate=-this._activeIndex*this.getItemSize(),this._transition.bind({translate:this._translate}));var i=0,e=0,n=.01;if(this._originRect&&this._rectSize){var r=this._originRect,s=r.left,a=r.top,o=r.width,h=r.height,l=this._rectSize||{},c=l.left,u=void 0===c?0:c,f=l.top,v=void 0===f?0:f,d=l.width,g=void 0===d?0:d,m=l.height;i=s+o/2-(u+g/2),e=a+h/2-(v+(void 0===m?0:m)/2),n=o/g||.01}this.originTransform(i,e,n,0,0),setTimeout((function(){t.originTransform(0,0,1,1,300).then((function(){t._indicator&&I(t._indicator,{display:"flex"})}))}),1)}}},{key:"close",value:function(){var t=this;if(this._container&&!this._isClose){this._isClose=!0;var i=0,e=0,n=.01;if(this._originRect&&this._rectSize){var r=this._originRect,s=r.left,a=r.top,o=r.width,h=r.height,l=this._rectSize||{},c=l.left,u=void 0===c?0:c,f=l.top,v=void 0===f?0:f,d=l.width,g=void 0===d?0:d,m=l.height;i=s+o/2-(u+g/2),e=a+h/2-(v+(void 0===m?0:m)/2),n=o/g||.01}var p=(this._images&&this._images[this._activeIndex]||{}).entity;p&&p.reset(),this._indicator&&I(this._indicator,{display:"none"}),this.originTransform(i,e,n,0,300).then((function(){t._closeDestory?t.destory():t._container&&I(t._container,{display:"none"})}))}}},{key:"originTransform",value:function(t,i,e,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=this._backdrop;if(s){var a=(this._images&&this._images[this._activeIndex]||{}).wrapper;if(a&&I(a,{overflow:"visible",transform:"translate(".concat(t,"px,").concat(i,"px) scale(").concat(e,")"),transition:r>0?"transform ".concat(r,"ms"):""}),I(s,{opacity:n,transition:r>0?"opacity ".concat(r,"ms"):""}),r>0)return new Promise((function(t){s.ontransitionend=function(i){i.target===s&&"opacity"===i.propertyName&&(s.ontransitionend=null,a&&I(a,{overflow:"hidden",transition:"none"}),I(s,{transition:"none"}),t())}}))}return Promise.resolve()}}]),t}();var K=["urls","current","showMenu"];function tt(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function it(t){var i=t.urls,e=t.current,s=t.showMenu,a=(0,r.Z)(t,K),o=e?i.indexOf(e):0,h=new J(function(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?tt(Object(e),!0).forEach((function(i){(0,n.Z)(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):tt(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}({imageUrls:i,activeIndex:o,longPress:function(){"function"==typeof s&&s()},press:function(){h.close()}},a));h.open()}}}]);
//# sourceMappingURL=lib.52a95d12.js.map