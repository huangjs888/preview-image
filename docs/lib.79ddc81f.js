"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[647],{212:(t,e,n)=>{n.d(e,{ZP:()=>V});var i=n(649),r=n(808),a=n(132),s=n(46),o=n(597),h=n(951),l=n(976),c=n(517),u=n.n(c),f=n(25),v=n(444),d=n(751),g=n.n(d),p=n(507);function m(t,e,n){return t<=(1-e)/(2*e)?-.5:t>=(1+e-2*n)/(2*e)?.5:(t-(1-n)/(2*e))/(1-n/e)}function y(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return"function"==typeof t?t.apply(void 0,n):t}function _(t,e){var n=(0,v.Z)(e,2),i=n[0],r=n[1];return i<=t&&t<=r}function b(t,e,n){var i=(0,v.Z)(e,2),r=i[0],a=i[1];return Math.max(Math.min(t,a),r)}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}const x=function(){function t(e){var n,r=e.element,f=e.sizeInfo,v=e.dblAdjust,d=e.dblScale,p=e.damping,m=e.rotation,y=e.scalation,_=e.translation;(0,h.Z)(this,t),(0,i.Z)(this,"_dblAdjust",!0),(0,i.Z)(this,"_dblScale",0),(0,i.Z)(this,"_damping",[]),(0,i.Z)(this,"_rotation",[]),(0,i.Z)(this,"_scalation",[]),(0,i.Z)(this,"_translation",[]),(0,i.Z)(this,"_sizeInfo",{containerCenter:[0,0],containerWidth:0,containerHeight:0,naturalWidth:0,naturalHeight:0,elementWidth:0,elementHeight:0});try{n="string"==typeof r?document.querySelector(r):r}catch(t){n=null}n&&n instanceof HTMLElement||(n=document.createElement("div")),n.style.opacity="0",n.innerHTML="",this._element=n,this._transform=new(g())({a:0,k:1,x:0,y:0}),this._transition=new(u())({element:this._element,propertyName:"transform",propertyValue:new(function(t){(0,a.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,o.Z)(e);if(n){var r=(0,o.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,s.Z)(this,t)});function r(){return(0,h.Z)(this,r),i.apply(this,arguments)}return(0,l.Z)(r,[{key:"toString",value:function(){return new(g())(this.value).toString()}}]),r}(c.TAProperty))(this._transform.toRaw())}),this.setSizeInfo(f),this.setDblAdjust(v),this.setDamping(p),this.setDblScale(d),this.setRotation(m),this.setScalation(y),this.setTranslation(_)}return(0,l.Z)(t,[{key:"getElement",value:function(){return this._element}},{key:"getTransform",value:function(){return this._transform}},{key:"getSizeInfo",value:function(){return this._sizeInfo}},{key:"setSizeInfo",value:function(t){if(t){var e,n=t.containerCenter,i=t.containerWidth,r=t.containerHeight,a=t.naturalWidth,s=t.naturalHeight,o=a/s,h=(e=o>=i/r?i:o>=1/2.2?r*o:Math.min(i,a))/o;this._element.style.opacity="1",this._element.style.width="".concat(e,"px"),this._element.style.height="".concat(h,"px"),this._sizeInfo={containerCenter:n,containerWidth:i,containerHeight:r,naturalWidth:a,naturalHeight:s,elementWidth:e,elementHeight:h};var l=b(0,this.getRotation()),c=b(1,this.getScalation()),u=b(0,this.getXTranslation(c)),f=b(0,this.getYTranslation(c));this.transitionRun({a:l,k:c,x:u,y:f},{duration:0})}}},{key:"setRotation",value:function(t){t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this._rotation=t:this._rotation=function(){return[0,0]}}},{key:"getRotation",value:function(){return y(this._rotation)}},{key:"setScalation",value:function(t){var e=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]&&t[0]>0?this._scalation=t:this._scalation=function(){return[1,2*e.getDblScale()]}}},{key:"getScalation",value:function(){return y(this._scalation)}},{key:"setTranslation",value:function(t){this.setXTranslation(t&&t[0]),this.setYTranslation(t&&t[1])}},{key:"getTranslation",value:function(t){return[this.getXTranslation(t),this.getYTranslation()]}},{key:"setXTranslation",value:function(t){var e=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this._translation[0]=t:this._translation[0]=function(t){var n=e.getSizeInfo(),i=n.containerWidth,r=n.elementWidth,a=Math.max((r*t-i)/2,0);return[-a,a]}}},{key:"getXTranslation",value:function(t){return y(this._translation[0],t||this._transform.k||1)}},{key:"setYTranslation",value:function(t){var e=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this._translation[1]=t:this._translation[1]=function(t){var n=e.getSizeInfo(),i=n.containerHeight,r=n.elementHeight,a=Math.max((r*t-i)/2,0);return[-a,a]}}},{key:"getYTranslation",value:function(t){return y(this._translation[1],t||this._transform.k||1)}},{key:"setDblScale",value:function(t){var e=this;this._dblScale="number"==typeof t&&t>0?t:function(){var t=e.getSizeInfo(),n=t.containerWidth,i=t.containerHeight,r=t.naturalWidth,a=t.naturalHeight,s=t.elementWidth,o=t.elementHeight;return Math.max(2,Math.max(n/s,i/o),Math.min(r/n,a/i))||1}}},{key:"getDblScale",value:function(){return y(this._dblScale)}},{key:"setDblAdjust",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._dblAdjust=t}},{key:"getDblAdjust",value:function(){return this._dblAdjust}},{key:"isDamping",value:function(t){return this._damping&&-1!==this._damping.indexOf(t)}},{key:"setDamping",value:function(t){this._damping=t||["scale","translate"]}},{key:"rotate",value:function(t){return this.transform({a:t})}},{key:"rotateTo",value:function(t){return this.transformTo({a:t})}},{key:"scale",value:function(t,e){return this.transform({k:t},e)}},{key:"scaleTo",value:function(t,e){return this.transformTo({k:t},e)}},{key:"translate",value:function(t,e){return this.transform({x:t,y:e})}},{key:"translateTo",value:function(t,e){return this.transformTo({x:t,y:e})}},{key:"translateX",value:function(t){return this.transform({x:t})}},{key:"translateXTo",value:function(t){return this.transformTo({x:t})}},{key:"translateY",value:function(t){return this.transform({y:t})}},{key:"translateYTo",value:function(t){return this.transformTo({y:t})}},{key:"transform",value:function(t,e,n){var i=this.getTransform(),r=i.a,a=void 0===r?0:r,s=i.k,o=void 0===s?1:s,h=i.x,l=void 0===h?0:h,c=i.y,u=void 0===c?0:c,f=t.a,v=t.k,d=t.x,g=t.y;return"number"==typeof f&&(f+=a),"number"==typeof v&&(v*=o),"number"==typeof d&&(d+=l),"number"==typeof g&&(g+=u),this.transformTo({a:f,k:v,x:d,y:g},e,n)}},{key:"transformTo",value:function(t,e,n){var i=e,r=n;n||Array.isArray(e)||(r=e,i=void 0);var a=t.a,s=t.k,o=t.x,h=t.y,l={};if("number"==typeof a&&(l.a=b(a,this.getRotation())),"number"==typeof s){var c=l.k=b(s,this.getScalation());if(Array.isArray(i)){var u=this.computeOffset(i,c),f=(0,v.Z)(u,2),d=f[0],g=f[1],p=this._transform,m=p.x,y=void 0===m?0:m,_=p.y,T=void 0===_?0:_;l.x=b(("number"==typeof o?o:y)+d,this.getXTranslation(c)),l.y=b(("number"==typeof h?h:T)+g,this.getYTranslation(c))}else"number"==typeof o&&(l.x=b(o,this.getXTranslation(c))),"number"==typeof h&&(l.y=b(h,this.getYTranslation(c)))}else"number"==typeof o&&(l.x=b(o,this.getXTranslation())),"number"==typeof h&&(l.y=b(h,this.getYTranslation()));return this.transitionRun(l,r)}},{key:"transitionRun",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"==typeof n.duration&&n.duration<=0)return this._transform=new(g())(t),this._transition.bind(t),Promise.resolve(t);var r=t.a,a=t.k,s=t.x,o=t.y,h=this.getTransform(),l=h.a,u=void 0===l?0:l,f=h.k,v=void 0===f?1:f,d=h.x,p=void 0===d?0:d,m=h.y,y=void 0===m?0:m,_={},b={};return"number"==typeof r&&(_.a=(this._transform.a=r)-u,b.a=.001),"number"==typeof a&&(_.k=(this._transform.k=a)-v,b.k=.001),"number"==typeof s&&(_.x=(this._transform.x=s)-p,b.x=1),"number"==typeof o&&(_.y=(this._transform.y=o)-y,b.y=1),this._transition.apply(_,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({precision:b,cancel:!0,duration:500,easing:c.easeOutQuart},n)).then((function(t){return e.isTransitioning()||e._transition.bind(e._transform.toRaw()),t}))}},{key:"transitionCancel",value:function(){var t=this;return this._transition.cancel().map((function(e){var n=t.getTransform(),i=n.a,r=void 0===i?0:i,a=n.k,s=void 0===a?1:a,o=n.x,h=void 0===o?0:o,l=n.y,c=void 0===l?0:l;Object.keys(e).forEach((function(n){var i=e[n];"a"===n?t._transform.a=r-i:"k"===n?t._transform.k=s-i:"x"===n?t._transform.x=h-i:"y"===n&&(t._transform.y=c-i)}))})).length}},{key:"isTransitioning",value:function(){return this._transition.transitioning()}},{key:"computeOffset",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getSizeInfo(),r=i.containerCenter,a=i.containerWidth,s=i.containerHeight,o=i.elementWidth,h=i.elementHeight,l=this.getTransform(),c=l.k,u=void 0===c?1:c,f=l.x,d=void 0===f?0:f,g=l.y,p=void 0===g?0:g,y=e/u,_=(0,v.Z)(r,2),T=_[0],x=_[1],w=t[0]-(T+d),k=t[1]-(x+p);if(n){var O=a/1,S=s/1,I=o/u,j=h/u;w=b(I-(O-I)/(y-1),[0,I])*m(w/I,y,b(O/I,[1,2]))||0,k=b(j-(S-j)/(y-1),[0,j])*m(k/j,y,b(S/j,[1,2]))||0}return[w*=1-y,k*=1-y]}},{key:"move",value:function(t,e,n,i,r){var a=this.getTransform(),s=a.a,o=void 0===s?0:s,h=a.k,l=void 0===h?1:h,c=a.x,u=void 0===c?0:c,f=a.y,d=void 0===f?0:f,g=this.getRotation();if(this.isDamping("rotate")){var m=b(o,g);o=m+(0,p.Gh)(o-m,{max:180}),m=b(o+=e,g),o=m+(0,p.Td)(o-m,{max:180})}else o=b(o+=e,g);var y=this.getScalation();if(this.isDamping("scale")){var _=b(l,y);l=_*(0,p.Gh)(l/_,{max:2,mode:1}),_=b(l*=n,y),l=_*(0,p.Td)(l/_,{max:2,mode:1})}else l=b(l*=n,y);var T=this.computeOffset(t,l),x=(0,v.Z)(T,2),w=x[0],k=x[1];if(this.isDamping("scale")){var O=this._sizeInfo.containerWidth,S=b(u,this.getXTranslation());u=S+(0,p.Gh)(u-S,{max:O}),S=b(u+=w+i,this.getXTranslation(l)),u=S+(0,p.Td)(u-S,{max:O});var I=this._sizeInfo.containerHeight,j=b(d,this.getYTranslation());d=j+(0,p.Gh)(d-j,{max:I}),j=b(d+=k+r,this.getYTranslation(l)),d=j+(0,p.Td)(d-j,{max:I})}else u=b(u+=w+i,this.getXTranslation(l)),d=b(d+=k+r,this.getYTranslation(l));this.transitionRun({a:o,k:l,x:u,y:d},{duration:0})}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getTransform(),i=n.a,r=void 0===i?0:i,a=n.k,s=void 0===a?1:a,o=n.x,h=void 0===o?0:o,l=n.y,c=void 0===l?0:l;if(this.isDamping("rotate")){var u=b(r,this.getRotation());r=u+(0,p.Gh)(r-u,{max:180})}if(this.isDamping("scale")){var f=b(s,this.getScalation());s=f*(0,p.Gh)(s/f,{max:2,mode:1})}if(this.isDamping("translate")){var v=this._sizeInfo.containerWidth,d=b(h,this.getXTranslation());h=d+(0,p.Gh)(h-d,{max:v});var g=this._sizeInfo.containerHeight,m=b(c,this.getYTranslation());c=m+(0,p.Gh)(c-m,{max:g})}this.transformTo({a:r,k:s,x:h,y:c},t,{cancel:e})}},{key:"dblScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],e=this.getTransform().k||1,n=b(this.getDblScale(),this.getScalation()),i=b(1,this.getScalation());if(n>i&&e<=i||n<i&&e>=i)if(this.getDblAdjust()){var r=this.computeOffset(t,n,this.getDblAdjust()),a=(0,v.Z)(r,2),s=a[0],o=a[1],h=this.getTransform(),l=h.x,c=void 0===l?0:l,u=h.y,f=void 0===u?0:u;this.transformTo({a:0,k:n,x:c+s,y:f+o},{cancel:!1})}else this.transformTo({k:n},t,{cancel:!1});else this.getDblAdjust()?this.transformTo({a:0,k:i,x:0,y:0},{cancel:!1}):this.transformTo({k:i},t,{cancel:!1})}},{key:"swipeBounce",value:function(t,e,n,r){var a=this,s=this._sizeInfo["x"===n?"containerWidth":"containerHeight"],o=1.2*this.getDblScale(),h=this.getTransform()[n]||0,l=this.getTranslation()["x"===n?0:1],u=e>0?1:-1,f=Math.max(1,Math.min(Math.abs(e),o*s))*u,v=Math.max(800,Math.min(2500,t));if(_(h+f,l))this.transitionRun((0,i.Z)({},n,h+f),{easing:c.easeOutQuad,duration:v});else{var d=b(h+f,l)-h,g=0;if(this.isDamping("translate")){var p=(_(h,l)?Math.sqrt(1-Math.abs(d/f)):1)*(2*Math.abs(f)/v);g=Math.min(30*p,s/4)*u}if("function"==typeof r)r(n,d,g,(function(t){return{duration:(1-Math.sqrt(1-Math.abs(t/f)))*v,easing:c.easeOutQuad}}));else{var m=Math.max((d+g)*u,0)*u,y=1-Math.sqrt(1-Math.abs(m/f));0===m?this.transitionRun((0,i.Z)({},n,b(h+m,l))):this.transitionRun((0,i.Z)({},n,h+m),{duration:y*v,easing:c.easeOutQuad}).then((function(){a.transitionRun((0,i.Z)({},n,b(h+m,l)))}))}}}}]),t}();var w='\n  <svg width="100%" height="100%" viewBox="0 0 80 80">\n    <defs>\n      <linearGradient\n        x1="94.0869141%"\n        y1="0%"\n        x2="94.0869141%"\n        y2="90.559082%"\n        id="linearGradient-1"\n      >\n        <stop stop-color="#fff" stop-opacity="0" offset="0%" />\n        <stop stop-color="#fff" stop-opacity="0.3" offset="100%" />\n      </linearGradient>\n      <linearGradient\n        x1="100%"\n        y1="8.67370605%"\n        x2="100%"\n        y2="90.6286621%"\n        id="linearGradient-2"\n      >\n        <stop stop-color="#fff" offset="0%" />\n        <stop stop-color="#fff" stop-opacity="0.3" offset="100%" />\n      </linearGradient>\n    </defs>\n    <g\n      stroke="none"\n      stroke-width="1"\n      fill="none"\n      fill-rule="evenodd"\n      opacity="0.9"\n    >\n      <g>\n        <path\n          d="M40,0 C62.09139,0 80,17.90861 80,40 C80,62.09139 62.09139,80 40,80 L40,73 C58.2253967,73 73,58.2253967 73,40 C73,21.7746033 58.2253967,7 40,7 L40,0 Z"\n          fill="url(#linearGradient-1)"\n        />\n        <path\n          d="M40,0 L40,7 C21.7746033,7 7,21.7746033 7,40 C7,58.2253967 21.7746033,73 40,73 L40,80 C17.90861,80 0,62.09139 0,40 C0,17.90861 17.90861,0 40,0 Z"\n          fill="url(#linearGradient-2)"\n        />\n        <circle id="Oval" fill="#fff" cx="40.5" cy="3.5" r="3.5" />\n      </g>\n      <animateTransform\n        attributeName="transform"\n        begin="0s"\n        dur="1s"\n        type="rotate"\n        values="0 40 40;360 40 40"\n        repeatCount="indefinite"\n      />\n    </g>\n  </svg>\n',k='\n  <svg width="100%" height="100%" viewBox="0 0 24 24" fill="#fff">\n    <path\n      d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.763-15.864l.11 7.596h1.305l.11-7.596h-1.525zm.759 10.967c.512 0 .902-.383.902-.882 0-.5-.39-.882-.902-.882a.878.878 0 00-.896.882c0 .499.396.882.896.882z" />\n  </svg>\n',O=/^(?:-border(?:-top|-right|-bottom|-left)?(?:-width|)|(?:-margin|-padding)?(?:-top|-right|-bottom|-left)?|(?:-min|-max)?(?:-width|-height))$/;function S(t,e){return t&&Object.keys(e).forEach((function(n){if(void 0!==e[n]){var i=n.replace(/([A-Z])/g,"-$1").toLowerCase(),r="number"==typeof e[n]&&/^[a-z]/.test(i)&&O.test("-".concat(i))?"".concat(e[n],"px"):String(e[n]);t.style.setProperty(i,r)}})),t}function I(t,e,n,i,r){var a=S(document.createElement("div"),{position:"relative",display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",overflow:"hidden",flex:1,marginTop:e&&!t?i:0,marginLeft:e||t?0:i});if(n){var s=S(document.createElement("span"),{position:"absolute",top:"50%",left:"50%",marginTop:-16,marginLeft:-16,width:32,height:32,display:"inline-block"});s.innerHTML=w,a.appendChild(s)}return r.appendChild(a),a}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function z(t){var e=t||{},n=e.wrapper,r=e.entity,a=e.url,s=e.options;return void 0===r?(t.entity=null,(0,f.ZP)(a).then((function(e){return t.entity=new x(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({element:e},s)),t.width=e.naturalWidth,t.height=e.naturalHeight,n.innerHTML="",n.appendChild(e),!0})).catch((function(){var t,e;n.innerHTML="",t=n,(e=S(document.createElement("div"),{position:"absolute",top:"50%",left:"50%",transform:"translate3d(-50%,-50%,0)",width:"100%",color:"#fff",fontSize:"14px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:.88})).innerHTML='\n    <span style="width: 72px;height: 72px;">\n      '.concat(k,'\n    </span>\n    <span style="margin-top:16px;">图片加载失败</span>\n  '),t.appendChild(e)}))):Promise.resolve()}var Z=n(54),M=n.n(Z);function P(t){var e=this;if(this instanceof q){if(this.isTransitioning())return;var n=(this._images&&this._images[this._activeIndex]||{}).entity;if("inside"===this._moveTarget&&n){if(n.isTransitioning())return;var r=t.velocity,a=void 0===r?0:r,s=t.swipeComputed;if(a>0&&s){var o=function(t,r,a,s){if(e instanceof q){var o=-e._activeIndex*e.getItemSize();if(0!==r){var h=s(r+a),l=h.duration,c=h.easing;Promise.all([n.transitionRun((0,i.Z)({},t,(n.getTransform()[t]||0)+r),{duration:l,easing:c,before:function(t){var e=Math.abs(r),n=Math.abs(r+a);return Math.min(n*t,e)/e}}),e.transitionRun(e._translate+a,{duration:l,easing:c,before:function(t){var e=Math.abs(r),n=Math.abs(a),i=Math.abs(r+a);return Math.max(i*t-e,0)/n}})]).then((function(){e instanceof q&&e.transitionRun(o)}))}else{var u=e._translate-o,f=u>0?1:-1,v=Math.max((a-u)*f,0)*f,d=s(v),g=d.duration,p=d.easing;0===v?e.transitionRun(o):e.transitionRun(e._translate+v,{duration:g,easing:p}).then((function(){e instanceof q&&e.transitionRun(o)}))}}},h=s(.003),l=h.duration,c=h.stretchX,u=h.stretchY;if("vertical"===this._direction){var f=n.getXTranslation();0===f[0]&&0===f[1]||n.swipeBounce(l,c,"x"),n.swipeBounce(l,u,"y",o)}else{n.swipeBounce(l,c,"x",o);var v=n.getYTranslation();0===v[0]&&0===v[1]||n.swipeBounce(l,u,"y")}}return}if("closures"===this._moveTarget){if(n&&n.isTransitioning())return;"Down"===t.direction&&this._events&&"function"==typeof this._events.downSwipe&&this._events.downSwipe()&&(this._moveTarget="none")}else{var d=0===this.getItemSize()?0:-this._translate/this.getItemSize();this.slide(d>this._activeIndex?Math.ceil(d):Math.floor(d))}}else{var g=(this._image||{}).entity;if(g){if(g.isTransitioning())return;var p=t.velocity,m=void 0===p?0:p,y=t.swipeComputed;if(m>0&&y){var _=y(.003),b=_.duration,T=_.stretchX,x=_.stretchY;g.swipeBounce(b,T,"x"),g.swipeBounce(b,x,"y")}}}}function D(){if(this instanceof q){if(this.isTransitioning())return;var t=(this._images&&this._images[this._activeIndex]||{}).entity;if(t&&t.isTransitioning())return;this._events&&"function"==typeof this._events.longTap&&this._events.longTap()}else{var e=(this._image||{}).entity;if(e&&e.isTransitioning())return;this._events&&"function"==typeof this._events.longTap&&this._events.longTap()}}function R(){if(this instanceof q){if(this.isTransitioning())return;var t=(this._images&&this._images[this._activeIndex]||{}).entity;if(t&&t.isTransitioning())return;this._events&&"function"==typeof this._events.singleTap&&this._events.singleTap()}else{var e=(this._image||{}).entity;if(e&&e.isTransitioning())return;this._events&&"function"==typeof this._events.singleTap&&this._events.singleTap()}}function C(t){if(this instanceof q){if(this.isTransitioning())return;var e=-this._activeIndex*this.getItemSize();if(0===Math.round(this._translate-e)){var n=(this._images&&this._images[this._activeIndex]||{}).entity;if(n){if(n.isTransitioning())return;n.dblScale(t.point)}}}else{var i=(this._image||{}).entity;if(i){if(i.isTransitioning())return;i.dblScale(t.point)}}}var E=["x","y"];function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G(t){var e=t.toucheIds;0===this._fgBehavior&&e.length>1&&(this._fgBehavior=2);var n=0;if(this instanceof q){n+=this.transitionCancel();var i=(this._images&&this._images[this._activeIndex]||{}).entity,a=(this._images||[]).length;if(i){n+=i.transitionCancel();var s=i.getTransform(),o=s.x,h=void 0===o?0:o,l=s.y,c=void 0===l?0:l,u=(0,r.Z)(s,E),f=i.getTranslation(),d=(0,v.Z)(f,2),g=d[0],p=d[1],m=0===this._activeIndex,y=this._activeIndex===a-1;"vertical"===this._direction?!_(h,g)&&(c<=p[0]&&!y||c>=p[1]&&!m)&&i.transitionRun(L({x:b(h,g),y:c},u),{duration:0}):!_(c,p)&&(h<=g[0]&&!y||h>=g[1]&&!m)&&i.transitionRun(L({x:h,y:b(c,p)},u),{duration:0})}}else{var T=(this._image||{}).entity;T&&(n+=T.transitionCancel())}n>0&&this._gesture&&(this._gesture._preventTap=!0,this._gesture._preventSingleTap=!0,this._gesture._preventDoubleTap=!0,this._gesture._firstPoint=null,this._gesture._longTapTimer&&(clearTimeout(this._gesture._longTapTimer),this._gesture._longTapTimer=null))}var B=function(t,e,n){var i=(0,v.Z)(e,2),r=i[0],a=i[1],s=(0,v.Z)(n,2),o=s[0],h=s[1];return"vertical"===t?Math.abs(r-o)>4*Math.abs(a-h)&&r-o<=0:(console.log(90-180*Math.atan(Math.abs(a-h)/Math.abs(r-o))/Math.PI),Math.abs(a-h)>4*Math.abs(r-o)&&a-h<=0)};function W(t){var e=t.toucheIds;0===this._fgBehavior&&1===e.length&&(this._fgBehavior=1);var n=!1;1!==e.length&&1!==this._fgBehavior||(this._gesture&&(this._gesture._rotateAngle=null),n=!0);var i=t.direction,r=t.movePoint,a=t.endPoint,s=t.point,o=t.angle,h=void 0===o?0:o,l=t.scale,c=void 0===l?1:l,u=t.deltaX,f=void 0===u?0:u,d=t.deltaY,g=void 0===d?0:d;if(this instanceof q){if(this.isTransitioning())return;var m=this._images&&this._images[this._activeIndex]||{},y=m.entity,_=m.wrapper,T=(this._images||[]).length;if(y){if(y.isTransitioning())return;var x=y.getTransform(),w=x.x,k=void 0===w?0:w,O=x.y,I=void 0===O?0:O,j=y.getTranslation(),z=(0,v.Z)(j,2),Z=z[0],M=z[1],P=0===Z[0]&&0===Z[1],D=0===M[0]&&0===M[1];if("none"===this._moveTarget&&(this._moveTarget="inside",n)){var R=0===this._activeIndex,C=this._activeIndex===T-1,E=B(this._direction,r,a);if("vertical"===this._direction)if(k>=Z[1]&&E)this._moveTarget="closures";else{var H=P?g<0:"Up"===i,L=P?g>0:"Down"===i;(I<=M[0]&&H&&!C||I>=M[1]&&L&&!R)&&(this._moveTarget="outside")}else if(I>=M[1]&&E)this._moveTarget="closures";else{var G=D?f<0:"Left"===i,W=D?f>0:"Right"===i;(k<=Z[0]&&G&&!C||k>=Z[1]&&W&&!R)&&(this._moveTarget="outside")}}if("inside"===this._moveTarget){var A=-this._activeIndex*this.getItemSize(),X=(0,p.Gh)(this._translate-A,{max:this.getItemSize()}),Y=f,N=g;if("vertical"===this._direction?N+=X:Y+=X,n){var Q=0;"vertical"===this._direction?(Q=N,Y=P?0:Y,Q-=N=b(N+I,M)-I):(Q=Y,N=D?0:N,Q-=Y=b(Y+k,Z)-k),y.move(s,0,1,Y,N),this.transitionRun(A+(0,p.Td)(Q,{max:this.getItemSize()}),{duration:0})}else y.move(s,h,c,Y,N),0!==X&&this.transitionRun(A,{duration:0});return}}else if("none"===this._moveTarget){var U=B(this._direction,r,a);this._moveTarget=U?"closures":"outside"}if("closures"===this._moveTarget){if(this.container&&this._rectSize){var F,V=t.moveX,$=void 0===V?0:V,J=t.moveY,K=void 0===J?0:J,tt=this._rectSize,et=tt.width,nt=tt.height,it=tt.left,rt=tt.top;F="vertical"===this._direction?0===et?0:$/et:0===nt?0:K/nt;var at=Math.min(Math.max(1-F,.3),1);if(_){var st=0,ot=0,ht=1;if(_.style.transform){var lt=_.style.transform.split("("),ct=lt[1].split(")")[0].split(","),ut=(0,v.Z)(ct,2),ft=ut[0],vt=ut[1],dt=lt[2].split(")")[0];st=parseFloat(ft),ot=parseFloat(vt),ht=parseFloat(dt)}var gt=s[0]-(st+it+et/2),pt=s[1]-(ot+rt+nt/2),mt=at/ht;pt*=1-mt,S(_,{overflow:"",transform:"translate(".concat(st+f+(gt*=1-mt),"px,").concat(ot+g+pt,"px) scale(").concat(at,")"),transition:"none"})}S(this.container,{background:"rgba(0,0,0,".concat((at-.3)/.7,")"),transition:"none"})}return}var yt=[(1-T)*this.getItemSize(),0],_t=b(this._translate,yt),bt=_t+(0,p.Gh)(this._translate-_t,{max:this.getItemSize()});_t=b(bt+="vertical"===this._direction?g:f,yt),bt=_t+(0,p.Td)(bt-_t,{max:this.getItemSize()}),this.transitionRun(bt,{duration:0})}else{var Tt=(this._image||{}).entity;if(Tt){if(Tt.isTransitioning())return;n?Tt.move(s,0,1,f,g):Tt.move(s,h,c,f,g)}}}function A(t){var e=t.toucheIds,n=t.point;if(0===e.length)this._fgBehavior=0;else if(1===this._fgBehavior){if(this instanceof q&&"outside"===this._moveTarget){var i=0===this.getItemSize()?0:-this._translate/this.getItemSize();this.slide(Math.round(i))}return}var r=!!this._gesture&&"number"!=typeof this._gesture._rotateAngle;if(this instanceof q){var a=this._moveTarget;if(0===e.length&&(this._moveTarget="none"),this.isTransitioning())return;var s=this._images&&this._images[this._activeIndex]||{},o=s.entity,h=s.wrapper;if("closures"===a){var l=this.container;return void(l&&(S(l,{background:"rgba(0,0,0,1)",transition:"all 0.4s"}),h&&S(h,{transform:"translate(0px,0px) scale(1)",transition:"transform 0.4s"}),l.addEventListener("transitionend",(function t(e){e.target===l&&-1!==e.propertyName.indexOf("background")&&(l.removeEventListener("transitionend",t),S(l,{transition:"none"}),h&&S(h,{overflow:"hidden",transition:"none"}))}))))}if(o){if(o.isTransitioning())return;o.reset(n,r)}var c=this.getItemSize(),u=this._activeIndex;"outside"===a&&(u=0===c?0:-this._translate/this.getItemSize()),this.slide(Math.round(u))}else{var f=(this._image||{}).entity;if(f){if(f.isTransitioning())return;f.reset(n,r)}}}function X(t){var e=new(M())(t);return e.done()&&(e.on("touchStart",G.bind(this)),e.on("touchMove",W.bind(this)),e.on("doubleTap",C.bind(this)),e.on("swipe",P.bind(this)),e.on("longTap",D.bind(this)),e.on("singleTap",R.bind(this)),e.on("touchEnd",A.bind(this))),e}var Y=["container","imageUrls","activeIndex","direction","itemGap","hasLoading","hasIndicator","isLazy","options"];function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}const q=function(){function t(e){var n=this,f=e.container,v=e.imageUrls,d=void 0===v?[]:v,g=e.activeIndex,p=void 0===g?0:g,m=e.direction,y=void 0===m?"horizontal":m,_=e.itemGap,b=void 0===_?20:_,T=e.hasLoading,x=void 0===T||T,w=e.hasIndicator,k=void 0===w||w,O=e.isLazy,j=void 0===O||O,Z=e.options,M=void 0===Z?{}:Z,P=(0,r.Z)(e,Y);(0,h.Z)(this,t),(0,i.Z)(this,"container",null),(0,i.Z)(this,"contentEl",null),(0,i.Z)(this,"_itemGap",0),(0,i.Z)(this,"_direction","horizontal"),(0,i.Z)(this,"_rectSize",null),(0,i.Z)(this,"_events",null),(0,i.Z)(this,"_images",null),(0,i.Z)(this,"_activeIndex",-1),(0,i.Z)(this,"_translate",0),(0,i.Z)(this,"_transition",null),(0,i.Z)(this,"_gesture",null),(0,i.Z)(this,"_fgBehavior",0),(0,i.Z)(this,"_moveTarget","none"),(0,i.Z)(this,"_removeResize",null);var D=this.container=function(t){var e;try{e="string"==typeof t?document.querySelector(t):t}catch(t){e=null}return e&&e instanceof HTMLElement?(S(e,{display:"none"}),e.innerHTML=""):(e=S(document.createElement("div"),{position:"fixed",left:"0px",top:"0px",zIndex:"9999",width:"100%",height:"100%",background:"black",overflow:"hidden",display:"none"}),document.body.appendChild(e)),e}(f),R=this.contentEl=function(t,e){var n=S(document.createElement("div"),{display:"flex",flexDirection:t?"column":"row"});return e.appendChild(n),n}("vertical"===y,D),C=function(t,e,n){var i=null;return e&&(i=S(document.createElement("div"),{position:"absolute",bottom:t?"0px":"16px",right:t?"16px":"auto",width:t?"auto":"100%",height:t?"100%":"auto",display:"flex",flexDirection:t?"column":"row",justifyContent:"center",alignItems:"center"}),n.appendChild(i)),i}("vertical"===y,k&&d.length>1,this.container);this._images=d.map((function(t,e){var i,r,a,s={wrapper:I(0===e,"vertical"===y,x,b,R),indicator:(i="vertical"===y,r=C,a=null,r&&(a=S(document.createElement("span"),{borderRadius:"100%",width:7,height:7,display:"inline-block",margin:i?"5px 0":"0 5px",background:"#fff",opacity:.6}),r.appendChild(a)),a),url:t,width:0,height:0,options:M};return j||z(s).then((function(t){return t&&n.resetItemSize(e)})),s})),this._gesture=X.apply(this,[D]),this._transition=new(u())({element:this.contentEl,propertyName:"transform",propertyValue:new(function(t){(0,a.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,o.Z)(e);if(n){var r=(0,o.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,s.Z)(this,t)});function r(){return(0,h.Z)(this,r),i.apply(this,arguments)}return(0,l.Z)(r,[{key:"toString",value:function(){return"translate".concat("vertical"===y?"Y":"X","(").concat(this.value.translate,"px)")}}]),r}(c.TAProperty))({translate:this._translate})}),this._itemGap=b,this._direction=y,this._events=P,this.slide(p,{duration:0});var E=function(){n.resetSize(),n.resetItemSize()};window.addEventListener("resize",E),this._removeResize=function(){window.removeEventListener("resize",E)}}return(0,l.Z)(t,[{key:"resetSize",value:function(){if(this.container&&this.contentEl&&this._images){var t=this.container.getBoundingClientRect(),e=t.left,n=t.top,i=t.width,r=t.height;this._rectSize={left:e,top:n,width:i,height:r};var a=this._images.length;a>0&&S(this.contentEl,{width:"vertical"===this._direction?i:i*a+(a-1)*this._itemGap,height:"vertical"===this._direction?r*a+(a-1)*this._itemGap:r})}}},{key:"resetItemSize",value:function(t){var e=this;if(this._rectSize&&this._images){var n=this._rectSize,i=n.left,r=n.top,a=n.width,s=n.height,o=function(t){if(t&&t.entity&&0!==a&&0!==s){t.entity.setSizeInfo({containerCenter:[i+a/2,r+s/2],containerWidth:a,containerHeight:s,naturalWidth:t.width,naturalHeight:t.height});var n=t.entity.getSizeInfo().elementHeight;"vertical"!==e._direction&&n>s&&S(t.wrapper,{alignItems:"flex-start"})}};"number"==typeof t?o(this._images[t]):this._images.forEach(o)}}},{key:"getItemSize",value:function(){if(!this._rectSize)return 0;var t=this._rectSize,e=t.width,n=t.height,i="vertical"===this._direction?n:e;return 0===i?0:i+this._itemGap}},{key:"slide",value:function(t,e){var n=this;if(!this._images||0===this._images.length)return Promise.resolve();var i=Math.max(Math.min(t,this._images.length-1),0),r=this._activeIndex!==i;if(r){var a=(this._images[this._activeIndex]||{}).indicator;a&&S(a,{width:7,height:7,opacity:.6});var s=(this._images[i]||{}).indicator;s&&S(s,{width:8,height:8,opacity:1}),this._activeIndex=i,z(this._images[i]).then((function(t){return t&&n.resetItemSize(i)}))}var o=-i*this.getItemSize();return this.transitionRun(o,e).then((function(t){return r&&n._events&&"function"==typeof n._events.onChange&&n._events.onChange(),t}))}},{key:"next",value:function(t){return this.slide(this._activeIndex+1,t)}},{key:"prev",value:function(t){return this.slide(this._activeIndex-1,t)}},{key:"transitionRun",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t-this._translate;return 0!==r&&this._transition?"number"==typeof n.duration&&n.duration<=0?(this._translate=t,this._transition.bind({translate:t}),Promise.resolve({translate:t})):(this._translate=t,this._transition.apply({translate:r},function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({precision:{translate:1},cancel:!0,duration:500,easing:c.easeOutQuart},n)).then((function(t){return e.isTransitioning()||e._transition&&e._transition.bind({translate:e._translate}),t}))):Promise.resolve({translate:this._translate})}},{key:"transitionCancel",value:function(){var t=this;return this._transition?this._transition.cancel().map((function(e){t._translate-=e.translate})).length:0}},{key:"isTransitioning",value:function(){return!!this._transition&&this._transition.transitioning()}},{key:"destory",value:function(){this._gesture&&(this._gesture.destory(),this._gesture=null),this._removeResize&&(this._removeResize(),this._removeResize=null),this._transition=null,this._rectSize=null,this._images=null,this._events=null,this.contentEl=null,this.container&&this.container.parentNode&&(this.container.parentNode.removeChild(this.container),this.container=null)}},{key:"open",value:function(){var t=this.container;t&&"block"!==t.style.display&&(S(t,{display:"block",opacity:0}),this.resetSize(),this.resetItemSize(),this._transition&&(this._translate=-this._activeIndex*this.getItemSize(),this._transition.bind({translate:this._translate})),S(t,{opacity:1,transition:"opacity 0.4s"}),t.addEventListener("transitionend",(function e(n){n.target===t&&"opacity"===n.propertyName&&(t.removeEventListener("transitionend",e),t.ontransitionend=null,S(t,{transition:"none"}))})))}},{key:"close",value:function(){var t=this,e=this.container;e&&(S(e,{opacity:0,transition:"opacity 0.4s"}),e.addEventListener("transitionend",(function n(i){i.target===e&&"opacity"===i.propertyName&&(e.removeEventListener("transitionend",n),S(e,{transition:"none"}),t.destory())})))}}]),t}();var Q=["urls","current","showMenu"];function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function V(t){var e=t.urls,n=t.current,i=t.showMenu,a=(0,r.Z)(t,Q),s=n?e.indexOf(n):0,o=new q(F(F({imageUrls:e,activeIndex:s},a),{},{longTap:function(){"function"==typeof i&&i()},singleTap:function(){o.close()},downSwipe:function(){return o.close(),!0}}));o.open()}}}]);
//# sourceMappingURL=lib.79ddc81f.js.map