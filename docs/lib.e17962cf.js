"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[647],{378:(t,e,n)=>{n.d(e,{Z:()=>rt});var i=n(951),r=n(976),o=n(649),a=n(444),s=n(169),u=n(243),h=n(132),l=n(492),c=n(597);function f(t,e,n){return"number"!=typeof t||t<n?e:t}function p(t,e){var n=(0,a.Z)(t,2),i=n[0],r=n[1],o=(0,a.Z)(e,2),s=o[0],u=o[1];return"number"==typeof i&&"number"==typeof s&&"number"==typeof r&&"number"==typeof u?Math.sqrt(Math.pow(s-i,2)+Math.pow(u-r,2)):0}function v(t,e){var n=(0,a.Z)(t,2),i=n[0],r=n[1],o=(0,a.Z)(e,2),s=o[0],u=o[1];return"number"==typeof i&&"number"==typeof s&&"number"==typeof r&&"number"==typeof u?180*Math.atan2(u-r,s-i)/Math.PI:0}function m(t,e){var n=(0,a.Z)(t,2),i=n[0],r=n[1],o=(0,a.Z)(e,2),s=o[0],u=o[1],h="number"==typeof i&&"number"==typeof r,l="number"==typeof s&&"number"==typeof u;return h||l?h&&!l?[i,r]:!h&&l?[s,u]:[(i+s)/2,(r+u)/2]:[0,0]}function _(t,e){var n=(0,a.Z)(t,2),i=n[0],r=n[1],o=(0,a.Z)(e,2),s=o[0],u=o[1];if("number"==typeof i&&"number"==typeof s&&"number"==typeof r&&"number"==typeof u){var h=i-s,l=r-u;if(h!==l)return Math.abs(h)>=Math.abs(l)?i-s>0?"Left":"Right":r-u>0?"Up":"Down"}return"None"}var g=function(t,e){for(var n=t;n&&n!==e;)n=n.parentNode;return!!n};function y(t){var e=this;if(t.touches){t.preventDefault(),t.stopPropagation();var n={currentTarget:this.element,sourceEvent:t,timestamp:Date.now(),point:[0,0]},i=Array.prototype.filter.call(t.touches,(function(e){return g(e.target,t.currentTarget)}));t.changedTouches.length===i.length&&(this._touch0=null,this._touch1=null);for(var r=0,o=i.length;r<o;++r){var a=i[r],s=[a.pageX,a.pageY],u=[s,s,s,[a.identifier]];this._touch0?this._touch1||this._touch0[3][0]===a.identifier||(this._touch1=u):this._touch0=u}if(this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._swipePoints=null,this._rotateAngle=null,this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch1&&this._touch0)n.point=m(this._touch0[0],this._touch1[0]),this.emit("gestureStart",n);else{if(!this._touch0)return;n.point=this._touch0[0],this._preventTap=!1,this._longTapTimer=window.setTimeout((function(){e._preventTap=!0,e._preventSingleTap=!0,e._preventDoubleTap=!0,e._longTapTimer=null,e._touch0&&(n.waitTime=e.longTapInterval,e.emit("longTap",n))}),this.longTapInterval),this._singleTapTimer&&this._firstPoint&&p(this._firstPoint,this._touch0[0])<this.doubleTapDistance?(clearTimeout(this._singleTapTimer),this._singleTapTimer=null,this._preventSingleTap=!0,this._preventDoubleTap=!1,n.point=this._firstPoint):(this._firstPoint=this._touch0[0],this._preventSingleTap=!1,this._preventDoubleTap=!0)}this.emit("touchStart",n)}}function d(t){var e=t.changedTouches;if(e){t.preventDefault(),t.stopPropagation();for(var n={currentTarget:this.element,sourceEvent:t,timestamp:Date.now(),point:[0,0]},i=0,r=e.length;i<r;++i){var o=e[i],a=[o.pageX,o.pageY];this._touch0&&this._touch0[3][0]===o.identifier?(this._touch0[1]=this._touch0[2],this._touch0[2]=a):this._touch1&&this._touch1[3][0]===o.identifier&&(this._touch1[1]=this._touch1[2],this._touch1[2]=a)}if(this._touch0&&p(this._touch0[0],this._touch0[2])>this.touchMoveDistance||this._touch1&&p(this._touch1[0],this._touch1[2])>this.touchMoveDistance){if(this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch1&&this._touch0){var s=m(this._touch0[2],this._touch1[2]),u=m(this._touch0[1],this._touch1[1]),h=m(this._touch0[0],this._touch1[0]);n.point=s,n.direction=_(u,s),n.moveDirection=_(h,s),n.deltaX=s[0]-u[0],n.moveX=s[0]-h[0],n.deltaY=s[1]-u[1],n.moveY=s[1]-h[1];var l=p(this._touch0[2],this._touch1[2]),c=p(this._touch0[1],this._touch1[1]),f=p(this._touch0[0],this._touch1[0]);f>0&&l>0&&c>0&&(n.scale=l/c,n.moveScale=l/f);var g=v(this._touch0[2],this._touch1[2])-v(this._touch0[1],this._touch1[1]);g<-180?g+=360:g>180&&(g-=360),n.angle=g;var y=(this._rotateAngle||0)+g;n.moveAngle=this._rotateAngle=y,this.emit("rotate",n),f>0&&l>0&&c>0&&this.emit("pinch",n),this.emit("multiPan",n),this.emit("gestureMove",n)}else{if(!this._touch0)return;var d=Date.now(),T=this._swipePoints||[[],[]];d-((T[1][0]?T[1][0].timestamp:0)||0)>this.swipeDuration&&(T[0]=T[1],T[1]=[]),T[1].push({point:this._touch0[2],timestamp:d}),this._swipePoints=T,n.point=this._touch0[2],n.direction=_(this._touch0[1],this._touch0[2]),n.moveDirection=_(this._touch0[0],this._touch0[2]),n.deltaX=this._touch0[2][0]-this._touch0[1][0],n.moveX=this._touch0[2][0]-this._touch0[0][0],n.deltaY=this._touch0[2][1]-this._touch0[1][1],n.moveY=this._touch0[2][1]-this._touch0[0][1],this.emit("pan",n)}this.emit("touchMove",n)}}}function T(t){var e=this,n=t.changedTouches;if(n){t.stopPropagation();for(var i,r,o={currentTarget:this.element,sourceEvent:t,timestamp:Date.now(),point:[0,0]},s=null,u=null,h=0,l=n.length;h<l;++h){var c=n[h];this._touch0&&this._touch0[3][0]===c.identifier?(s=this._touch0,this._touch0=null):this._touch1&&this._touch1[3][0]===c.identifier&&(u=this._touch1,this._touch1=null)}if(this._touch1&&!this._touch0&&(this._touch0=this._touch1,this._touch1=null,u=s,s=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch0)o.point=m(this._touch0[2],this._touch1?this._touch1[2]:u?u[2]:[]),this.emit("gestureEnd",o);else if(s&&(o.point=u?m(s[2],u[2]):s[2],this._preventTap||this.emit("tap",o),this._preventSingleTap||(this._singleTapTimer=window.setTimeout((function(){e._singleTapTimer=null,o.delayTime=e.doubleTapInterval,e.emit("singleTap",o)}),this.doubleTapInterval)),this._preventDoubleTap||(this._firstPoint&&(o.point=this._firstPoint),o.intervalTime=this.doubleTapInterval,this.emit("doubleTap",o)),this._swipePoints)){var f=(0,a.Z)(this._swipePoints,2),g=f[0],y=f[1],d=y[y.length-1];if(Date.now()-d.timestamp<=this.raiseDuration){for(var T=y[0],b=g.length-1;b>=0&&d.timestamp-g[b].timestamp<=this.swipeDuration;b--)T=g[b];var k=(i=d.timestamp-T.timestamp,"number"!=typeof(r=p(T.point,d.point))||0===r||"number"!=typeof i||0===i?0:r/i);if(k>this.swipeVelocity){var w=v(T.point,d.point);o.direction=_(T.point,d.point),o.angle=w,o.velocity=k,o.swipeComputed=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,n=0,i=0,r=0;t>1?(i=e/(n=t),r=e*n/2):t>0&&(n=e/(i=t),r=e*e/(2*i));var o=function(t,e){if("number"!=typeof t||"number"!=typeof e)return[0,0];var n=e*Math.PI/180;return[t*Math.cos(n),t*Math.sin(n)]}(r,w),s=(0,a.Z)(o,2);return{duration:n,stretchX:s[0],stretchY:s[1],deceleration:i}},this.emit("swipe",o)}}}this.emit("touchEnd",o),this._touch0&&!this._touch1&&(this._touch0[0]=this._touch0[1]=this._touch0[2],o.point=this._touch0[0],this.emit("touchStart",o))}}function b(t){t.stopPropagation(),this.emit("touchCancel",{currentTarget:this.element,point:[],timestamp:Date.now(),sourceEvent:t}),T.apply(this,[t])}function k(){this._singleTapTimer&&(clearTimeout(this._singleTapTimer),this._singleTapTimer=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._firstPoint=null,this._touch0=null,this._touch1=null,this._preventTap=!0,this._swipePoints=null,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._rotateAngle=null}const w=function(t){(0,h.Z)(p,t);var e,n,a=(e=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,c.Z)(e);if(n){var r=(0,c.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,l.Z)(this,t)});function p(t,e){var n,r;if((0,i.Z)(this,p),n=a.call(this),(0,o.Z)((0,s.Z)(n),"_rotateAngle",null),(0,o.Z)((0,s.Z)(n),"_singleTapTimer",null),(0,o.Z)((0,s.Z)(n),"_longTapTimer",null),(0,o.Z)((0,s.Z)(n),"_preventTap",!0),(0,o.Z)((0,s.Z)(n),"_swipePoints",null),(0,o.Z)((0,s.Z)(n),"_preventSingleTap",!0),(0,o.Z)((0,s.Z)(n),"_preventDoubleTap",!0),(0,o.Z)((0,s.Z)(n),"_firstPoint",null),(0,o.Z)((0,s.Z)(n),"_touch0",null),(0,o.Z)((0,s.Z)(n),"_touch1",null),(0,o.Z)((0,s.Z)(n),"_destory",null),!((r="string"==typeof t?document.querySelector(t):t)&&r instanceof HTMLElement))throw new Error("Please pass in a valid element...");n.element=r;var u,h=e||{},l=h.longTapInterval,c=h.doubleTapInterval,v=h.doubleTapDistance,m=h.touchMoveDistance,_=h.swipeVelocity,g=h.swipeDuration,w=h.raiseDuration;if(n.longTapInterval=f(l,750,500),n.doubleTapInterval=f(c,250,200),n.doubleTapDistance=f(v,30,1),n.touchMoveDistance=f(m,3,0),n.swipeVelocity=f(_,.3,0),n.swipeDuration=f(g,100,1),n.raiseDuration=f(w,100,1),(u=n.element)&&(navigator.maxTouchPoints||"ontouchstart"in u)){var Z=y.bind((0,s.Z)(n)),D=d.bind((0,s.Z)(n)),x=T.bind((0,s.Z)(n)),M=b.bind((0,s.Z)(n));n.element.addEventListener("touchstart",Z,!1),n.element.addEventListener("touchmove",D,!1),n.element.addEventListener("touchend",x,!1),n.element.addEventListener("touchcancel",M,!1);var S=k.bind((0,s.Z)(n));window.addEventListener("scroll",S),n._destory=function(){n.element.removeEventListener("touchstart",Z),n.element.removeEventListener("touchmove",D),n.element.removeEventListener("touchend",x),n.element.removeEventListener("touchcancel",M),window.removeEventListener("scroll",S)}}return n}return(0,r.Z)(p,[{key:"done",value:function(){return!!this._destory}},{key:"destory",value:function(){(0,u.Z)((0,c.Z)(p.prototype),"off",this).call(this),k.apply(this),this._destory&&(this._destory(),this._destory=null)}}]),p}(function(){function t(){(0,i.Z)(this,t),(0,o.Z)(this,"events",{}),this.events={}}return(0,r.Z)(t,[{key:"one",value:function(t,e,n){var i=this,r="function"==typeof e?function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];e.apply(null,a),i.off(t,r,n)}:e;this.on(t,r,n)}},{key:"on",value:function(t,e,n){var i=this.events[t]||{pool:[],single:-1};if("function"==typeof e)if(n)-1===i.single?i.single=i.pool.push(e)-1:i.pool[i.single]=e;else{for(var r=!0,o=0,a=i.pool.length;o<a;o++)if(i.pool[o]===e&&o!==i.single){r=!1;break}r&&i.pool.push(e)}else n&&-1!==i.single&&(i.pool.splice(i.single,1),i.single=-1);this.events[t]=i}},{key:"off",value:function(t,e,n){if(void 0===t)this.events={};else if(void 0===e)delete this.events[t];else if(n){var i=this.events[t];i&&-1!==i.single&&(i.pool.splice(i.single,1),i.single=-1)}else{var r=this.events[t];if(r)for(var o=r.pool.length-1;o>=0;o--)if(r.pool[o]===e&&o!==r.single){r.pool.splice(o,1);break}}}},{key:"emit",value:function(t,e){var n=this.events[t];if(n)for(var i=0,r=n.pool.length;i<r;i++){var o=n.pool[i];if("function"==typeof o&&!1===o.apply(null,[e,t]))break}}}]),t}());var Z,D=n(808),x=window.requestAnimationFrame||(Z=0,function(t){var e=Date.now(),n=Math.max(0,16-(e-Z));return Z=e+n,window.setTimeout(t,n)}),M=window.cancelAnimationFrame||function(t){return window.clearTimeout(t)},S=function(t,e){e>0?window.setTimeout(t,e):t(Math.abs(e))},P=function(){function t(e){var n=e.duration,r=e.easing,a=e.delay;(0,i.Z)(this,t),(0,o.Z)(this,"_frameId",0),(0,o.Z)(this,"_sleepId",0),(0,o.Z)(this,"_elapsed",0),(0,o.Z)(this,"_tick",null),this.duration="number"!=typeof n||n<=0?0:n,this.easing="function"!=typeof r?function(t){return t}:r,this.delay="number"!=typeof a?0:a}return(0,r.Z)(t,[{key:"start",value:function(t){var e=this;if(0===this._frameId&&0===this._elapsed){var n=this.duration,i=this.easing,r=this.delay;if(n>0){var o=function r(o){var a=Date.now();e._elapsed+=a-o,e._elapsed<n?(e._frameId=x((function(){return r(a)})),t(i(e._elapsed/n))):(t(1),e._tick=null,e._frameId=0,e._elapsed=0)};this._tick=o,S((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e._elapsed=t,o(Date.now())}),r)}else S((function(){t(1)}),r)}}},{key:"restart",value:function(){this.stop(),this._elapsed<this.duration&&this._tick&&this._tick(Date.now())}},{key:"sleep",value:function(t){var e=this;"number"!=typeof t||t<=0||(this.stop(),this._elapsed<this.duration&&this._tick&&(this._sleepId=window.setTimeout((function(){e.restart()}),t)))}},{key:"stop",value:function(){window.clearTimeout(this._sleepId),M(this._frameId),this._frameId=0}},{key:"end",value:function(){this.stop(),this._elapsed<this.duration&&this._tick&&(this._elapsed=this.duration,this._tick(Date.now()))}}]),t}();const R=P;var O=["precision","transition","cancel"];function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var E=(0,r.Z)((function t(e){(0,i.Z)(this,t),this.value=e})),A=function(){function t(e){var n=e.element,r=e.propertyName,a=e.propertyValue;(0,i.Z)(this,t),(0,o.Z)(this,"_animation",[]),this.element=n,this.propertyName=r.replace(/([A-Z])/g,"-$1").toLowerCase(),this.element.style.setProperty(this.propertyName,a.toString()),this.propertyValue=a}return(0,r.Z)(t,[{key:"bind",value:function(t){var e=this.element,n=this.propertyName,i=this.propertyValue,r={};Object.keys(t).forEach((function(e){var n=t[e];"number"==typeof n&&(r[e]=n)})),i.value=r,e.style.setProperty(n,i.toString())}},{key:"apply",value:function(t,e){var n=this;return new Promise((function(i){var r=e.precision,a=void 0===r?{}:r,s=e.transition,u=void 0===s?function(){}:s,h=e.cancel,l=void 0===h||h,c=(0,D.Z)(e,O),f=n.element,p=n.propertyName,v=n.propertyValue,m={};Object.keys(t).forEach((function(e){var n=t[e];"number"==typeof n&&(Math.abs(n)>(a[e]||0)?m[e]=n:"number"==typeof v.value[e]&&(v.value[e]+=n))}));var _=Object.keys(m);if(_.length>0){var g=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},m),y=new R(c);n._animation.push({animation:y,remainValue:g,cancel:l}),y.start((function(t){if(_.forEach((function(e){var n=m[e]*(1-t);"number"==typeof v.value[e]&&(v.value[e]+=g[e]-n),g[e]=n})),f.style.setProperty(p,v.toString()),u(v.value),1===t){var e=n._animation.findIndex((function(t){return y===t.animation}));-1!==e&&n._animation.splice(e,1),i(v.value)}}))}else f.style.setProperty(p,v.toString()),u(v.value),i(v.value)}))}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[];return this._animation=this._animation.filter((function(n){var i=n.animation,r=n.remainValue;return!n.cancel||(i[t?"end":"stop"](),e.push(r),!1)})),e}},{key:"transitioning",value:function(){return 0!==this._animation.length}}]),t}(),I=Math.PI/180,X={multiply:function(t,e,n){var i=e[0],r=e[4],o=e[8],a=e[12],s=e[1],u=e[5],h=e[9],l=e[13],c=e[2],f=e[6],p=e[10],v=e[14],m=e[3],_=e[7],g=e[11],y=e[15],d=n[0],T=n[1],b=n[2],k=n[3],w=n[4],Z=n[5],D=n[6],x=n[7],M=n[8],S=n[9],P=n[10],R=n[11],O=n[12],j=n[13],E=n[14],A=n[15];t[0]=i*d+r*w+o*M+a*O,t[4]=i*T+r*Z+o*S+a*j,t[8]=i*b+r*D+o*P+a*E,t[12]=i*k+r*x+o*R+a*A,t[1]=s*d+u*w+h*M+l*O,t[5]=s*T+u*Z+h*S+l*j,t[9]=s*b+u*D+h*P+l*E,t[13]=s*k+u*x+h*R+l*A,t[2]=c*d+f*w+p*M+v*O,t[6]=c*T+f*Z+p*S+v*j,t[10]=c*b+f*D+p*P+v*E,t[14]=c*k+f*x+p*R+v*A,t[3]=m*d+_*w+g*M+y*O,t[7]=m*T+_*Z+g*S+y*j,t[11]=m*b+_*D+g*P+y*E,t[15]=m*k+_*x+g*R+y*A},identity:function(t){for(var e=0;e<16;e++)t[e]=0;for(var n=0;n<16;n+=5)t[n]=1},translate:function(t,e,n,i){for(var r=0;r<4;r++)t[12+r]+=t[r]*e+t[4+r]*n+t[8+r]*i},scale:function(t,e,n,i){for(var r=0;r<4;r++)t[r]*=e,t[4+r]*=n,t[8+r]*=i},rotate:function(t,e,n,i,r){var o=new Float32Array(16);o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1;var a=e*I,s=Math.sin(a),u=Math.cos(a);if(1===n&&0===i&&0===r)o[5]=u,o[10]=u,o[6]=s,o[9]=-s,o[1]=0,o[2]=0,o[4]=0,o[8]=0,o[0]=1;else if(0===n&&0===i&&0===r)o[0]=u,o[10]=u,o[8]=s,o[2]=-s,o[1]=0,o[4]=0,o[6]=0,o[9]=0,o[5]=1;else if(0===n&&0===i&&1===r)o[0]=u,o[5]=u,o[1]=s,o[4]=-s,o[2]=0,o[6]=0,o[8]=0,o[9]=0,o[10]=1;else{var h=Math.sqrt(n*n+i*i+r*r);if(1!==h){var l=1/h;n*=l,i*=l,r*=l}var c=1-u,f=n*i,p=i*r,v=r*n,m=n*s,_=i*s,g=r*s;o[0]=n*n*c+u,o[4]=f*c-g,o[8]=v*c+_,o[1]=f*c+g,o[5]=i*i*c+u,o[9]=p*c-m,o[2]=v*c-_,o[6]=p*c+m,o[10]=r*r*c+u}X.multiply(t,t,o)},rotateEuler:function(t,e,n,i){var r=new Float32Array(16),o=e*I,a=n*I,s=i*I,u=Math.cos(o),h=Math.sin(o),l=Math.cos(a),c=Math.sin(a),f=Math.cos(s),p=Math.sin(s),v=u*c,m=h*c;r[0]=l*f,r[1]=-l*p,r[2]=c,r[3]=0,r[4]=v*f+u*p,r[5]=-v*p+u*f,r[6]=-h*l,r[7]=0,r[8]=-m*f+h*p,r[9]=m*p+h*f,r[10]=u*l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,X.multiply(t,t,r)},perspective:function(t,e,n,i,r){var o=1/Math.tan(e*(Math.PI/360)),a=1/(i-r);t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*a,t[15]=0}};const Y=X;var H=function(){function t(e){(0,i.Z)(this,t),this.a=e.a,this.k=e.k,this.x=e.x,this.y=e.y}return(0,r.Z)(t,[{key:"toRaw",value:function(){var t={};return"number"==typeof this.a&&(t.a=this.a),"number"==typeof this.k&&(t.k=this.k),"number"==typeof this.x&&(t.x=this.x),"number"==typeof this.y&&(t.y=this.y),t}},{key:"toString",value:function(){var t=this.a,e=void 0===t?0:t,n=this.k,i=void 0===n?1:n,r=this.x,o=void 0===r?0:r,a=this.y,s=void 0===a?0:a,u=new Float32Array(16);return Y.identity(u),Y.translate(u,o,s,0),Y.scale(u,i,i,i),Y.rotate(u,-e,0,0,1),"matrix3d(".concat(Array.prototype.slice.call(u).join(","),")")}}],[{key:"identity",value:function(){return new t({a:0,k:1,x:0,y:0})}}]),t}();function z(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===t)return 0;if(e<=0)return 1;var i=t||1,r=Math.min(1,e);return r=n?1/r:r,Math.pow(Math.abs(i),r)*(i>0?1:-1)}function W(t,e,n){return t<=(1-e)/(2*e)?-.5:t>=(1+e-2*n)/(2*e)?.5:(t-(1-n)/(2*e))/(1-n/e)}function L(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return"function"==typeof t?t.apply(void 0,n):t}function C(t,e){var n=(0,a.Z)(e,2),i=n[0],r=n[1];return i<=t&&t<=r}function V(t,e,n){var i=(0,a.Z)(e,2),r=i[0],o=i[1];return Math.max(Math.min(t,o),r)}function q(t,e){var n=(0,a.Z)(e,2),i=n[0],r=n[1];if(t<i||t>r){var o=t<i?i:r;return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?o*z(t/o,.4):o+z(t-o,.8)}return t}function N(t,e){var n=(0,a.Z)(e,2),i=n[0],r=n[1];if(t<i||t>r){var o=t<i?i:r;return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?o*z(t/o,.4,!0):o+z(t-o,.8,!0)}return t}function B(t){return 1-(1-t)*(1-t)}function F(t){return 1-(1-t)*(1-t)*(1-t)*(1-t)}function $(t,e){return t&&Object.keys(e).forEach((function(n){if(void 0!==e[n]){var i=n.replace(/([A-Z])/g,"-$1").toLowerCase(),r="number"==typeof e[n]&&"z-index"!==i&&"opacity"!==i?"".concat(e[n],"px"):String(e[n]);t.style.setProperty(i,r)}})),t}function U(t,e){return new Promise((function(n,i){var r=new Image;r.onload=function(){n(r),r.onload=null},r.onprogress=function(t){return e(t.loaded/t.total)},r.onerror=function(t){return i(t)},r.src=t}))}function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var J=function(){function t(e){var n=e.element,a=e.rectSize,s=e.dblAdjust,u=e.dblScale,f=e.damping,p=e.rotation,v=e.scalation,m=e.translation;(0,i.Z)(this,t),(0,o.Z)(this,"_dblAdjust",!0),(0,o.Z)(this,"_dblScale",0),(0,o.Z)(this,"_damping",[]),(0,o.Z)(this,"_rotation",[]),(0,o.Z)(this,"_scalation",[]),(0,o.Z)(this,"_translation",[]),(0,o.Z)(this,"_rectSize",{containerCenter:[0,0],containerWidth:0,containerHeight:0,naturalWidth:0,naturalHeight:0,elementWidth:0,elementHeight:0}),this._element=n,this._transform=new H({a:0,k:1,x:0,y:0}),this._transition=new A({element:this._element,propertyName:"transform",propertyValue:new(function(t){(0,h.Z)(a,t);var e,n,o=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,c.Z)(e);if(n){var r=(0,c.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,l.Z)(this,t)});function a(){return(0,i.Z)(this,a),o.apply(this,arguments)}return(0,r.Z)(a,[{key:"toString",value:function(){return new H(this.value).toString()}}]),a}(E))(this._transform.toRaw())}),this.setRectSize(a),this.setDblAdjust(s),this.setDamping(f),this.setDblScale(u),this.setRotation(p),this.setScalation(v),this.setTranslation(m)}return(0,r.Z)(t,[{key:"getElement",value:function(){return this._element}},{key:"getTransform",value:function(){return this._transform}},{key:"getRectSize",value:function(){return this._rectSize}},{key:"setRectSize",value:function(t){if(t){var e,n=t.containerCenter,i=t.containerWidth,r=t.containerHeight,o=t.naturalWidth,a=t.naturalHeight,s=o/a,u=(e=s>=i/r?i:s>=1/2.2?r*s:Math.min(i,o))/s;this._element.style.width="".concat(e,"px"),this._element.style.height="".concat(u,"px"),this._rectSize={containerCenter:n,containerWidth:i,containerHeight:r,naturalWidth:o,naturalHeight:a,elementWidth:e,elementHeight:u};var h=V(0,this.getRotation()),l=V(1,this.getScalation()),c=V(0,this.getXTranslation(l)),f=V(0,this.getYTranslation(l));this.transitionRun({a:h,k:l,x:c,y:f},{duration:0})}}},{key:"setRotation",value:function(t){t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this._rotation=t:this._rotation=function(){return[0,0]}}},{key:"getRotation",value:function(){return L(this._rotation)}},{key:"setScalation",value:function(t){var e=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]&&t[0]>0?this._scalation=t:this._scalation=function(){return[1,2*e.getDblScale()]}}},{key:"getScalation",value:function(){return L(this._scalation)}},{key:"setTranslation",value:function(t){this.setXTranslation(t&&t[0]),this.setYTranslation(t&&t[1])}},{key:"getTranslation",value:function(t){return[this.getXTranslation(t),this.getYTranslation()]}},{key:"setXTranslation",value:function(t){var e=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this._translation[0]=t:this._translation[0]=function(t){var n=e.getRectSize(),i=n.containerWidth,r=n.elementWidth,o=Math.max((r*t-i)/2,0);return[-o,o]}}},{key:"getXTranslation",value:function(t){return L(this._translation[0],t||this._transform.k||1)}},{key:"setYTranslation",value:function(t){var e=this;t&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[1]>=t[0]?this._translation[1]=t:this._translation[1]=function(t){var n=e.getRectSize(),i=n.containerHeight,r=n.elementHeight,o=Math.max((r*t-i)/2,0);return[-o,o]}}},{key:"getYTranslation",value:function(t){return L(this._translation[1],t||this._transform.k||1)}},{key:"setDblScale",value:function(t){var e=this;this._dblScale="number"==typeof t&&t>0?t:function(){var t=e.getRectSize(),n=t.containerWidth,i=t.containerHeight,r=t.naturalWidth,o=t.naturalHeight,a=t.elementWidth,s=t.elementHeight;return Math.max(2,Math.max(n/a,i/s),Math.min(r/n,o/i))||1}}},{key:"getDblScale",value:function(){return L(this._dblScale)}},{key:"setDblAdjust",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._dblAdjust=t}},{key:"getDblAdjust",value:function(){return this._dblAdjust}},{key:"isDamping",value:function(t){return this._damping&&-1!==this._damping.indexOf(t)}},{key:"setDamping",value:function(t){this._damping=t||["scale","translate"]}},{key:"rotate",value:function(t){return this.transform({a:t})}},{key:"rotateTo",value:function(t){return this.transformTo({a:t})}},{key:"scale",value:function(t,e){return this.transform({k:t},e)}},{key:"scaleTo",value:function(t,e){return this.transformTo({k:t},e)}},{key:"translate",value:function(t,e){return this.transform({x:t,y:e})}},{key:"translateTo",value:function(t,e){return this.transformTo({x:t,y:e})}},{key:"translateX",value:function(t){return this.transform({x:t})}},{key:"translateXTo",value:function(t){return this.transformTo({x:t})}},{key:"translateY",value:function(t){return this.transform({y:t})}},{key:"translateYTo",value:function(t){return this.transformTo({y:t})}},{key:"transform",value:function(t,e,n){var i=this.getTransform(),r=i.a,o=void 0===r?0:r,a=i.k,s=void 0===a?1:a,u=i.x,h=void 0===u?0:u,l=i.y,c=void 0===l?0:l,f=t.a,p=t.k,v=t.x,m=t.y;return"number"==typeof f&&(f+=o),"number"==typeof p&&(p*=s),"number"==typeof v&&(v+=h),"number"==typeof m&&(m+=c),this.transformTo({a:f,k:p,x:v,y:m},e,n)}},{key:"transformTo",value:function(t,e,n){var i=e,r=n;n||Array.isArray(e)||(r=e,i=void 0);var o=t.a,s=t.k,u=t.x,h=t.y,l={};if("number"==typeof o&&(l.a=V(o,this.getRotation())),"number"==typeof s){var c=l.k=V(s,this.getScalation());if(Array.isArray(i)){var f=this.computeOffset(i,c),p=(0,a.Z)(f,2),v=p[0],m=p[1],_=this._transform,g=_.x,y=void 0===g?0:g,d=_.y,T=void 0===d?0:d;l.x=V(("number"==typeof u?u:y)+v,this.getXTranslation(c)),l.y=V(("number"==typeof h?h:T)+m,this.getYTranslation(c))}else"number"==typeof u&&(l.x=V(u,this.getXTranslation(c))),"number"==typeof h&&(l.y=V(h,this.getYTranslation(c)))}else"number"==typeof u&&(l.x=V(u,this.getXTranslation())),"number"==typeof h&&(l.y=V(h,this.getYTranslation()));return this.transitionRun(l,r)}},{key:"transitionRun",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"==typeof n.duration&&n.duration<=0)return this._transform=new H(t),this._transition.bind(t),Promise.resolve();var i=t.a,r=t.k,a=t.x,s=t.y,u=this.getTransform(),h=u.a,l=void 0===h?0:h,c=u.k,f=void 0===c?1:c,p=u.x,v=void 0===p?0:p,m=u.y,_=void 0===m?0:m,g={},y={};return"number"==typeof i&&(g.a=(this._transform.a=i)-l,y.a=.001),"number"==typeof r&&(g.k=(this._transform.k=r)-f,y.k=.001),"number"==typeof a&&(g.x=(this._transform.x=a)-v,y.x=1),"number"==typeof s&&(g.y=(this._transform.y=s)-_,y.y=1),this._transition.apply(g,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({precision:y,duration:400,easing:F,cancel:!0},n)).then((function(t){return e._transition.transitioning()||e._transition.bind(e._transform.toRaw()),t}))}},{key:"transitionCancel",value:function(){var t=this;return this._transition.cancel().map((function(e){var n=t.getTransform(),i=n.a,r=void 0===i?0:i,o=n.k,a=void 0===o?1:o,s=n.x,u=void 0===s?0:s,h=n.y,l=void 0===h?0:h;Object.keys(e).forEach((function(n){var i=e[n];"a"===n?t._transform.a=r-i:"k"===n?t._transform.k=a-i:"x"===n?t._transform.x=u-i:"y"===n&&(t._transform.y=l-i)}))})).length}},{key:"isTransitioning",value:function(){return this._transition.transitioning()}},{key:"computeOffset",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getRectSize(),r=i.containerCenter,o=i.containerWidth,s=i.containerHeight,u=i.elementWidth,h=i.elementHeight,l=this.getTransform(),c=l.k,f=void 0===c?1:c,p=l.x,v=void 0===p?0:p,m=l.y,_=void 0===m?0:m,g=e/f,y=(0,a.Z)(r,2),d=y[0],T=y[1],b=t[0]-(d+v),k=t[1]-(T+_);if(n){var w=o/1,Z=s/1,D=u/f,x=h/f;b=V(D-(w-D)/(g-1),[0,D])*W(b/D,g,V(w/D,[1,2]))||0,k=V(x-(Z-x)/(g-1),[0,x])*W(k/x,g,V(Z/x,[1,2]))||0}return[b*=1-g,k*=1-g]}}]),t}();const K=J;var Q=function(t){var e=this._image,n=this._gesture;e&&n&&(t.sourceEvent.touches.length>1&&0===this._fingers&&(this._fingers=2),e.transitionCancel()>0&&(n._firstPoint=null,n._preventSingleTap=!0))},tt=function(t){var e=this._image,n=this._gesture;if(e&&n&&(1===t.sourceEvent.touches.length&&0===this._fingers&&(this._fingers=1),!e.isTransitioning())){var i=t.point,r=t.angle,o=void 0===r?0:r,s=t.scale,u=void 0===s?1:s,h=t.deltaX,l=void 0===h?0:h,c=t.deltaY,f=void 0===c?0:c,p=e.getTransform(),v=p.a,m=void 0===v?0:v,_=p.k,g=void 0===_?1:_,y=p.x,d=void 0===y?0:y,T=p.y,b=void 0===T?0:T,k={};if(1===this._fingers){n._rotateAngle=null;var w=V,Z=d,D=b;e.isDamping("translate")&&(Z=N(d,e.getXTranslation()),D=N(b,e.getYTranslation()),w=q),k={a:m,k:g,x:w(Z+l,e.getXTranslation()),y:w(D+f,e.getYTranslation())}}else{var x=V,M=m;e.isDamping("rotate")&&(M=N(m,e.getRotation()),x=q);var S=V,P=g;e.isDamping("scale")&&(P=N(g,e.getScalation(),!0),S=q);var R=V,O=d,j=b;e.isDamping("translate")&&(O=N(d,e.getXTranslation()),j=N(b,e.getYTranslation()),R=q);var E=x(M+o,e.getRotation()),A=S(P*u,e.getScalation(),!0),I=e.computeOffset(i,A),X=(0,a.Z)(I,2),Y=X[0],H=X[1];k={a:E,k:A,x:R(O+Y+l,e.getXTranslation(A)),y:R(j+H+f,e.getYTranslation(A))}}e.transitionRun(k,{duration:0})}},et=function(t){var e=this._image,n=this._gesture;if(e&&n&&(0===t.sourceEvent.touches.length&&0!==this._fingers&&(this._fingers=0),!e.isTransitioning())){var i=e.getTransform(),r=i.a,o=void 0===r?0:r,a=i.k,s=void 0===a?1:a,u=i.x,h=void 0===u?0:u,l=i.y,c=void 0===l?0:l;e.isDamping("rotate")&&(o=N(o,e.getRotation())),e.isDamping("scale")&&(s=N(s,e.getScalation(),!0)),e.isDamping("translate")&&(h=N(h,e.getXTranslation()),c=N(c,e.getYTranslation())),e.transformTo({a:o,k:s,x:h,y:c},t.point,{cancel:"number"!=typeof n._rotateAngle})}},nt=function(t){var e=this._image,n=this._gesture;if(e&&n&&!e.isTransitioning()){var i=e.getTransform().k||1,r=V(e.getDblScale(),e.getScalation()),o=V(1,e.getScalation());if(r>o&&i<=o||r<o&&i>=o)if(e.getDblAdjust()){var s=e.computeOffset(t.point,r,e.getDblAdjust()),u=(0,a.Z)(s,2),h=u[0],l=u[1],c=e.getTransform(),f=c.x,p=void 0===f?0:f,v=c.y,m=void 0===v?0:v;e.transformTo({a:0,k:r,x:p+h,y:m+l},{cancel:!1})}else e.transformTo({k:r},t.point,{cancel:!1});else e.getDblAdjust()?e.transformTo({a:0,k:o,x:0,y:0},{cancel:!1}):e.transformTo({k:o},t.point,{cancel:!1})}},it=function(t){var e=this._image,n=this._gesture;if(e&&n&&!e.isTransitioning()){var i=t.velocity,r=void 0===i?0:i,o=t.swipeComputed;if(r>0&&o){var a=this.element,s=a.clientWidth,u=a.clientHeight,h=e.getTransform(),l=h.x,c=void 0===l?0:l,f=h.y,p=void 0===f?0:f,v=o(.003,r>3?2+Math.pow(r-2,1/3):r),m=v.duration,_=v.stretchX,g=v.stretchY,y=Math.max(1200,Math.min(m,2500)),d=e.getXTranslation();if(C(c,d)){var T=c+_,b=y;if(!C(T,d)){T=V(T,d);var k=Math.sqrt(1-Math.abs((T-c)/_));if(e.isDamping("translate")){var w=k*(2*Math.abs(_)/m);T+=s*Math.min(w/20,1/4)*(_>0?1:-1),k=Math.sqrt(1-Math.abs((T-c)/_))}b=Math.max(b*(1-k),400)}e.transitionRun({x:T},{easing:B,duration:b}).then((function(){C(T,d)||e.transitionRun({x:V(T,d)})}))}else e.transitionRun({x:V(c,d)});var Z=e.getYTranslation();if(C(p,Z)){var D=p+g,x=y;if(!C(D,Z)){D=V(D,Z);var M=Math.sqrt(1-Math.abs((D-p)/g));if(e.isDamping("translate")){var S=M*(2*Math.abs(g)/m);D+=u*Math.min(S/20,1/4)*(g>0?1:-1),M=Math.sqrt(1-Math.abs((D-p)/g))}x=Math.max(x*(1-M),400)}e.transitionRun({y:D},{easing:B,duration:x}).then((function(){C(D,Z)||e.transitionRun({y:V(D,Z)})}))}else e.transitionRun({y:V(p,Z)})}}};const rt=function(){function t(e){var n,r=this,a=e.element,s=e.url;(0,i.Z)(this,t),(0,o.Z)(this,"_image",null),(0,o.Z)(this,"_gesture",null),(0,o.Z)(this,"_fingers",0),(0,o.Z)(this,"_removeResize",null);try{n="string"==typeof a?document.querySelector(a):a}catch(t){n=null}if(!(n&&n instanceof HTMLElement))throw new Error("Please pass in a valid element...");n.innerHTML="",this.element=$(n,{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"});var u=new w(this.element);u.done()&&(u.on("touchStart",Q.bind(this)),u.on("touchMove",tt.bind(this)),u.on("doubleTap",nt.bind(this)),u.on("swipe",it.bind(this)),u.on("touchEnd",et.bind(this))),this._gesture=u;var h=0,l=0,c=function(){if(r._image){var t=r.element.getBoundingClientRect(),e=t.left,n=t.top,i=t.width,o=t.height;r._image.setRectSize({containerCenter:[e+i/2,n+o/2],containerWidth:i,containerHeight:o,naturalWidth:h,naturalHeight:l}),r._image.getRectSize().elementHeight>o&&$(r.element,{alignItems:"flex-start"})}};U(s,(function(t){console.log(t)})).then((function(t){h=t.naturalWidth,l=t.naturalHeight,r._image=new K({element:t}),r.element.appendChild(t),c()})).catch((function(t){console.error(t)})),window.addEventListener("resize",c),this._removeResize=function(){window.removeEventListener("resize",c)},setTimeout((function(){U(s,(function(t){console.log(t)})).then((function(t){})).catch((function(t){console.error(t)}))}),1e3)}return(0,r.Z)(t,[{key:"destory",value:function(){this._image=null,this._gesture&&(this._gesture.destory(),this._gesture=null),this._removeResize&&(this._removeResize(),this._removeResize=null)}}]),t}()}}]);
//# sourceMappingURL=lib.e17962cf.js.map