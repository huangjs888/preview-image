{"version":3,"file":"react-preview-image.min.js","sources":["../node_modules/@huangjs888/gesture/es/react-gesture.min.js","../node_modules/@huangjs888/gesture/es/gesture.min.js","../src/react/useChanged.ts","../src/react/useDerivedState.ts","../src/react/useIsomorphicLayoutEffect.ts","../node_modules/@huangjs888/transition/es/transition.min.js","../node_modules/@huangjs888/transition/es/easing.min.js","../src/core/defaultAnimationExtendOptions.ts","../src/core/swiper.ts","../node_modules/@huangjs888/transform/es/transform.min.js","../node_modules/@huangjs888/damping/es/damping.min.js","../src/utils/index.ts","../src/core/item.ts","../src/svg/loading.svg","../src/svg/error.svg","../src/react/image.tsx","../node_modules/@huangjs888/lightdom/es/lightdom.min.js","../src/react/portal.tsx","../src/react/useStableMemo.ts","../src/events/rotate.ts","../src/events/scale.ts","../src/events/longTap.ts","../src/events/singleTap.ts","../src/events/swipe.ts","../src/events/doubleTap.ts","../src/events/pointerStart.ts","../src/events/pointerMove.ts","../src/events/pointerEnd.ts","../src/react/gallery.tsx","../src/react/index.tsx"],"sourcesContent":["import e from\"react\";import t from\"react-dom\";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;arguments.length>t;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i.apply(this,arguments)}const n=!(\"undefined\"==typeof window||void 0===window.document||void 0===window.document.createElement)?e.useLayoutEffect:e.useEffect;function o(e,t,i){n((()=>{const n=e();if(n){const e=e=>{\"function\"==typeof i&&i.call(null,e)};return n.on(t,e),()=>{n.off(t,e)}}return()=>{}}),[i,t,e])}class r{constructor(){this.events={},this.events={}}one(e,t,i){const n=\"function\"==typeof t?(...o)=>{t.apply(null,o),this.off(e,n,i)}:t;this.on(e,n,i)}on(e,t,i){const n=this.events[e]||{pool:[],single:-1};if(\"function\"==typeof t)if(i)-1===n.single?n.single=n.pool.push(t)-1:n.pool[n.single]=t;else{let e=!0;for(let i=0,o=n.pool.length;o>i;i++)if(n.pool[i]===t&&i!==n.single){e=!1;break}e&&n.pool.push(t)}else i&&-1!==n.single&&(n.pool.splice(n.single,1),n.single=-1);this.events[e]=n}off(e,t,i){if(void 0===e)this.events={};else if(void 0===t)delete this.events[e];else if(i){const t=this.events[e];t&&-1!==t.single&&(t.pool.splice(t.single,1),t.single=-1)}else{const i=this.events[e];if(i)for(let e=i.pool.length-1;e>=0;e--)if(i.pool[e]===t&&e!==i.single){i.pool.splice(e,1);break}}}emit(e,t){const i=this.events[e];if(i)for(let n=0,o=i.pool.length;o>n;n++){const o=i.pool[n];if(\"function\"==typeof o){if(!1===o.call(null,t,e))break}}}}const s=(e,t)=>{let i=e;for(;i&&i!==t;)i=i.parentNode;return!!i};function p(e,t,i){return\"number\"!=typeof e||i>e?t:e}function a(){return window.navigator.maxTouchPoints||\"ontouchstart\"in window.document}function l(e,t=!1){if(e.touches){if(t){const t=Array.prototype.filter.call(e.touches,(t=>s(t.target,e.currentTarget))).map((e=>({pageX:e.pageX,pageY:e.pageY,identifier:e.identifier})));return{points:t,isFirst:e.changedTouches.length===t.length}}return{points:Array.prototype.slice.call(e.changedTouches||[]).map((e=>({pageX:e.pageX,pageY:e.pageY,identifier:e.identifier})))}}return{points:[{pageX:e.pageX,pageY:e.pageY,identifier:-1}],isFirst:t}}function h([e,t],[i,n]){return\"number\"==typeof e&&\"number\"==typeof i&&\"number\"==typeof t&&\"number\"==typeof n?Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2)):0}function u([e,t],[i,n]){return\"number\"==typeof e&&\"number\"==typeof i&&\"number\"==typeof t&&\"number\"==typeof n?180*Math.atan2(n-t,i-e)/Math.PI:0}function c([e,t],[i,n]){const o=\"number\"==typeof e&&\"number\"==typeof t,r=\"number\"==typeof i&&\"number\"==typeof n;return o||r?o&&!r?[e,t]:!o&&r?[i,n]:[(e+i)/2,(t+n)/2]:[0,0]}function m([e,t],[i,n]){if(\"number\"==typeof e&&\"number\"==typeof i&&\"number\"==typeof t&&\"number\"==typeof n){const o=e-i,r=t-n;if(o!==r)return Math.abs(r)>Math.abs(o)?t-n>0?\"Up\":\"Down\":e-i>0?\"Left\":\"Right\"}return\"None\"}class f extends r{constructor(e){super(),this.wheelDelay=350,this.longTapInterval=750,this.doubleTapInterval=250,this.doubleTapDistance=30,this.touchMoveDistance=3,this.swipeVelocity=.3,this.swipeDuration=100,this.raiseDuration=100,this._rotateAngle=0,this._singleTapTimer=0,this._longTapTimer=0,this._wheelTimerEnd=null,this._preventTap=!0,this._swipePoints=null,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._firstPointer=null,this._pointer0=null,this._pointer1=null,this.resetOptions(e)}resetOptions(e){const{wheelDelay:t,longTapInterval:i,doubleTapInterval:n,doubleTapDistance:o,touchMoveDistance:r,swipeVelocity:s,swipeDuration:a,raiseDuration:l}=e||{};this.wheelDelay=p(t,350,1),this.longTapInterval=p(i,750,1),this.doubleTapInterval=p(n,250,1),this.doubleTapDistance=p(o,30,1),this.touchMoveDistance=p(r,3,0),this.swipeVelocity=p(s,.3,0),this.swipeDuration=p(a,100,1),this.raiseDuration=p(l,100,1)}preventAllTap(e=!0){this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,e&&(this._firstPointer=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=0)}}function d(e){const t={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]},{points:i,isFirst:n}=l(e,!0);n?(this._wheelTimerEnd&&(clearTimeout(this._wheelTimerEnd.timer),this._wheelTimerEnd.wheelEnd(),this._wheelTimerEnd=null),this._pointer0=null,this._pointer1=null):(this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1));for(let e=0,t=i.length;t>e;++e){const t=i[e],n=[t.pageX,t.pageY],o={start:n,previous:n,current:n,identifier:t.identifier,changed:!0};this._pointer0?this._pointer1||this._pointer0.identifier===t.identifier||(this._pointer1=o):this._pointer0=o}this.preventAllTap(!1),this._swipePoints=null,this._rotateAngle=0;const o=this._pointer0,r=this._pointer1;if(r&&o)this._firstPointer=null,t.pointers=[o,r],t.getPoint=()=>c(o.current,r.current),this.emit(\"gestureStart\",t);else{if(!o)return;{t.pointers=[o],t.getPoint=()=>o.current,this._preventTap=!1,this._longTapTimer=+setTimeout((()=>{this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._longTapTimer=0,this._firstPointer=null,t.waitTime=this.longTapInterval,this.emit(\"longTap\",t)}),this.longTapInterval);const e=this._firstPointer,i=this._singleTapTimer;i&&e&&h(e.current,o.current)<this.doubleTapDistance?(clearTimeout(i),this._singleTapTimer=0,this._preventSingleTap=!0,this._preventDoubleTap=!1,t.getPoint=()=>e.current):(this._firstPointer=o,this._preventSingleTap=!1,this._preventDoubleTap=!0)}}this.emit(\"pointerStart\",t)}function _(e){const t={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]};this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1);const{points:i}=l(e);for(let e=0,t=i.length;t>e;++e){const t=i[e],n=[t.pageX,t.pageY];this._pointer0&&this._pointer0.identifier===t.identifier?(this._pointer0.changed=!0,this._pointer0.previous=this._pointer0.current,this._pointer0.current=n):this._pointer1&&this._pointer1.identifier===t.identifier&&(this._pointer1.changed=!0,this._pointer1.previous=this._pointer1.current,this._pointer1.current=n)}const n=this._pointer0,o=this._pointer1;if(n&&h(n.start,n.current)>this.touchMoveDistance||o&&h(o.start,o.current)>this.touchMoveDistance){if(this.preventAllTap(),o&&n){t.pointers=[n,o];const{start:e,previous:i,current:r}=n,{start:s,previous:p,current:a}=o,l=c(r,a),f=c(i,p),d=c(e,s);t.getPoint=e=>\"start\"===e?d:\"previous\"===e?f:l,t.direction=m(f,l),t.moveDirection=m(d,l),t.deltaX=l[0]-f[0],t.moveX=l[0]-d[0],t.deltaY=l[1]-f[1],t.moveY=l[1]-d[1];const _=h(r,a),v=h(i,p),g=h(e,s);g>0&&_>0&&v>0&&(t.scale=_/v,t.moveScale=_/g);let T=u(r,a)-u(i,p);-180>T?T+=360:T>180&&(T-=360),t.angle=T,this._rotateAngle+=T,t.moveAngle=this._rotateAngle,this.emit(\"rotate\",t),g>0&&_>0&&v>0&&this.emit(\"scale\",t),this.emit(\"multiPan\",t),this.emit(\"gestureMove\",t)}else{if(!n)return;{t.pointers=[n];const{start:e,previous:i,current:o}=n;t.getPoint=t=>\"start\"===t?e:\"previous\"===t?i:o,t.direction=m(i,o),t.moveDirection=m(e,o),t.deltaX=o[0]-i[0],t.moveX=o[0]-e[0],t.deltaY=o[1]-i[1],t.moveY=o[1]-e[1];const r=Date.now(),s=this._swipePoints||[[],[]];r-((s[1][0]?s[1][0].timestamp:0)||0)>this.swipeDuration&&(s[0]=s[1],s[1]=[]),s[1].push({point:o,timestamp:r}),this._swipePoints=s,this.emit(\"pan\",t)}}this.emit(\"pointerMove\",t)}}function v(e){const t={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]};let i=null,n=null;this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1);const{points:o}=l(e);for(let e=0,t=o.length;t>e;++e){const t=o[e];this._pointer0&&this._pointer0.identifier===t.identifier?(this._pointer0.changed=!0,i=this._pointer0,this._pointer0=null):this._pointer1&&this._pointer1.identifier===t.identifier&&(this._pointer1.changed=!0,n=this._pointer1,this._pointer1=null)}if(this._pointer1&&!this._pointer0&&(this._pointer0=this._pointer1,this._pointer1=null,n=i,i=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=0),this._pointer0){t.pointers=[this._pointer0],this._pointer1?t.pointers.push(this._pointer1):n&&(t.leavePointers=[n],this._rotateAngle=0);const e=c(this._pointer0.start,this._pointer1?this._pointer1.start:n?n.start:[]),i=c(this._pointer0.previous,this._pointer1?this._pointer1.previous:n?n.previous:[]),o=c(this._pointer0.current,this._pointer1?this._pointer1.current:n?n.current:[]);t.getPoint=t=>\"start\"===t?e:\"previous\"===t?i:o,this.emit(\"gestureEnd\",t)}else if(i){t.leavePointers=[i],n&&t.leavePointers.push(n);const e=n?c(i.start,n.start):i.start,o=n?c(i.previous,n.previous):i.previous,p=n?c(i.current,n.current):i.current;if(t.getPoint=t=>\"start\"===t?e:\"previous\"===t?o:p,this._preventTap||(this.emit(\"tap\",t),this._preventTap=!0),this._preventSingleTap||(this._singleTapTimer=+setTimeout((()=>{this._singleTapTimer=0,t.delayTime=this.doubleTapInterval,this.emit(\"singleTap\",t)}),this.doubleTapInterval),this._preventSingleTap=!0),!this._preventDoubleTap){const e=this._firstPointer;e&&(t.getPoint=()=>e.current),t.intervalTime=this.doubleTapInterval,this.emit(\"doubleTap\",t),this._firstPointer=null,this._preventDoubleTap=!0}if(this._swipePoints){const[e,i]=this._swipePoints,n=i[i.length-1];if(Date.now()-n.timestamp<=this.raiseDuration){let o=i[0];for(let t=e.length-1;t>=0&&n.timestamp-e[t].timestamp<=this.swipeDuration;t--)o=e[t];const p=(r=n.timestamp-o.timestamp,\"number\"!=typeof(s=h(o.point,n.point))||0===s||\"number\"!=typeof r||0===r?0:s/r);if(p>this.swipeVelocity){const e=u(o.point,n.point);t.direction=m(o.point,n.point),t.angle=e,t.velocity=p,t.swipeComputed=(t,i=p)=>{let n=0,o=0,r=0;t>1?(n=t,o=i/n,r=i*n/2):t>0&&(o=t,n=i/o,r=i*i/(2*o));const[s,a]=function(e,t){if(\"number\"!=typeof e||\"number\"!=typeof t)return[0,0];const i=t*Math.PI/180;return[e*Math.cos(i),e*Math.sin(i)]}(r,e);return{duration:n,stretchX:s,stretchY:a,deceleration:o}},this.emit(\"swipe\",t),this._swipePoints=null}}}}var r,s;this.emit(\"pointerEnd\",t)}function g(e){this.emit(\"pointerCancel\",{sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]}),v.call(this,e)}function T(e){const t=this;function i(){\"undefined\"!=typeof window&&(window.removeEventListener(\"mousemove\",r),window.removeEventListener(\"mouseup\",s),window.removeEventListener(\"blur\",n),window.removeEventListener(\"dragstart\",o),\"onselectstart\"in window.document.documentElement&&window.removeEventListener(\"selectstart\",o))}function n(e){e.preventDefault(),e.stopPropagation(),i()}function o(e){e.preventDefault(),e.stopPropagation()}function r(i){if(0===e.button)_.call(t,i);else{const n={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]},o=[i.pageX,i.pageY];if(t._pointer0){t._pointer0.previous=t._pointer0.current,t._pointer0.current=o,n.pointers=[t._pointer0];const{start:e,previous:i,current:r}=t._pointer0;n.getPoint=t=>\"start\"===t?e:\"previous\"===t?i:r,n.direction=m(i,r),n.moveDirection=m(e,r),n.deltaX=r[0]-i[0],n.moveX=r[0]-e[0],n.deltaY=r[1]-i[1],n.moveY=r[1]-e[1],n.angle=n.deltaX/4,n.moveAngle=n.moveX/4,t.emit(\"rotate\",n)}}}function s(n){if(i(),0===e.button)v.call(t,n);else{const i={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]},o=[n.pageX,n.pageY];if(t._pointer0){const e=t._pointer0;t._pointer0=null,e.previous=e.current,e.current=o,i.leavePointers=[e];const{start:n,previous:r,current:s}=e;i.getPoint=e=>\"start\"===e?n:\"previous\"===e?r:s}i.angle=NaN,t.emit(\"rotate\",i)}}if(\"undefined\"!=typeof window&&(window.addEventListener(\"mousemove\",r),window.addEventListener(\"mouseup\",s),window.addEventListener(\"blur\",n),window.addEventListener(\"dragstart\",o,{capture:!0,passive:!1}),\"onselectstart\"in window.document.documentElement&&window.addEventListener(\"selectstart\",o,{capture:!0,passive:!1})),0===e.button)d.call(t,e);else{t._wheelTimerEnd&&(clearTimeout(t._wheelTimerEnd.timer),t._wheelTimerEnd.wheelEnd(),t._wheelTimerEnd=null);const i=[e.pageX,e.pageY];t._pointer0={start:i,previous:i,current:i,identifier:-1,changed:!0}}}function w(e){const t={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]},i=[e.pageX,e.pageY];this._wheelTimerEnd?(this._pointer0&&(this._pointer0.previous=this._pointer0.current,this._pointer0.current=i),clearTimeout(this._wheelTimerEnd.timer)):this._pointer0={start:i,previous:i,current:i,identifier:-1,changed:!0};const n=()=>{this._pointer0=null,this._wheelTimerEnd=null,t.timestamp=Date.now(),t.scale=NaN,this.emit(\"scale\",t)};if(this._wheelTimerEnd={wheelEnd:n,timer:+setTimeout(n,this.wheelDelay),scale:this._wheelTimerEnd?this._wheelTimerEnd.scale:1},this._pointer0){t.pointers=[this._pointer0];const{start:i,previous:n,current:o}=this._pointer0;t.getPoint=e=>\"start\"===e?i:\"previous\"===e?n:o;const r=Math.pow(2,-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002));this._wheelTimerEnd.scale*=r,t.moveScale=this._wheelTimerEnd.scale,t.scale=r,this.emit(\"scale\",t)}}const b=[\"children\",\"options\",\"preventAllTap\"];var P=e.forwardRef(((r,s)=>{let{children:p,options:l,preventAllTap:h}=r,u=function(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;r.length>n;n++)0>t.indexOf(i=r[n])&&(o[i]=e[i]);return o}(r,b);const c=e.useRef(null),m=e.useRef(null);n((()=>{m.current=new f}),[]),n((()=>{m.current&&m.current.resetOptions(l)}),[l]),n((()=>{h&&m.current&&m.current.preventAllTap()}),[h]),function(e,t){const{onPan:i,onTap:n,onSwipe:r,onSingleTap:s,onLongTap:p,onDoubleTap:a,onMultiPan:l,onScale:h,onRotate:u,onPointerStart:c,onPointerMove:m,onPointerEnd:f,onPointerCancel:d,onGestureStart:_,onGestureMove:v,onGestureEnd:g}=e;o(t,\"pan\",i),o(t,\"tap\",n),o(t,\"swipe\",r),o(t,\"singleTap\",s),o(t,\"longTap\",p),o(t,\"doubleTap\",a),o(t,\"multiPan\",l),o(t,\"scale\",h),o(t,\"rotate\",u),o(t,\"pointerStart\",c),o(t,\"pointerMove\",m),o(t,\"pointerEnd\",f),o(t,\"pointerCancel\",d),o(t,\"gestureStart\",_),o(t,\"gestureMove\",v),o(t,\"gestureEnd\",g)}(u,e.useCallback((()=>m.current),[])),e.useImperativeHandle(s,(()=>({findDOMElement:()=>c.current,getInstance:()=>m.current})),[]);const P=e.useCallback((i=>{let n=i;!(i instanceof Element)&&i instanceof e.Component&&(n=t.findDOMNode(i)),n instanceof Element||(n=null),c.current=n}),[]),E=(e,t)=>{const i=m.current;i&&e.apply(i,t)};return p?e.Children.only(e.cloneElement(p,i({ref:P},a()?{onTouchStart:(...e)=>E(d,e),onTouchMove:(...e)=>E(_,e),onTouchEnd:(...e)=>E(v,e),onTouchCancel:(...e)=>E(g,e)}:{onMouseDown:(...e)=>E(T,e),onWheel:(...e)=>E(w,e)}))):(console.warn(\"Warning: Gesture children must exist.\"),null)}));export{P as default,a as isTouchable};\n//# sourceMappingURL=react-gesture.min.js.map\n","class e{constructor(){this.events={},this.events={}}one(e,t,i){const n=\"function\"==typeof t?(...s)=>{t.apply(null,s),this.off(e,n,i)}:t;this.on(e,n,i)}on(e,t,i){const n=this.events[e]||{pool:[],single:-1};if(\"function\"==typeof t)if(i)-1===n.single?n.single=n.pool.push(t)-1:n.pool[n.single]=t;else{let e=!0;for(let i=0,s=n.pool.length;s>i;i++)if(n.pool[i]===t&&i!==n.single){e=!1;break}e&&n.pool.push(t)}else i&&-1!==n.single&&(n.pool.splice(n.single,1),n.single=-1);this.events[e]=n}off(e,t,i){if(void 0===e)this.events={};else if(void 0===t)delete this.events[e];else if(i){const t=this.events[e];t&&-1!==t.single&&(t.pool.splice(t.single,1),t.single=-1)}else{const i=this.events[e];if(i)for(let e=i.pool.length-1;e>=0;e--)if(i.pool[e]===t&&e!==i.single){i.pool.splice(e,1);break}}}emit(e,t){const i=this.events[e];if(i)for(let n=0,s=i.pool.length;s>n;n++){const s=i.pool[n];if(\"function\"==typeof s){if(!1===s.call(null,t,e))break}}}}const t=(e,t)=>{let i=e;for(;i&&i!==t;)i=i.parentNode;return!!i};function i(e,t,i){return\"number\"!=typeof e||i>e?t:e}function n(){return window.navigator.maxTouchPoints||\"ontouchstart\"in window.document}function s(e,i=!1){if(e.touches){if(i){const i=Array.prototype.filter.call(e.touches,(i=>t(i.target,e.currentTarget))).map((e=>({pageX:e.pageX,pageY:e.pageY,identifier:e.identifier})));return{points:i,isFirst:e.changedTouches.length===i.length}}return{points:Array.prototype.slice.call(e.changedTouches||[]).map((e=>({pageX:e.pageX,pageY:e.pageY,identifier:e.identifier})))}}return{points:[{pageX:e.pageX,pageY:e.pageY,identifier:-1}],isFirst:i}}function o([e,t],[i,n]){return\"number\"==typeof e&&\"number\"==typeof i&&\"number\"==typeof t&&\"number\"==typeof n?Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2)):0}function r([e,t],[i,n]){return\"number\"==typeof e&&\"number\"==typeof i&&\"number\"==typeof t&&\"number\"==typeof n?180*Math.atan2(n-t,i-e)/Math.PI:0}function p([e,t],[i,n]){const s=\"number\"==typeof e&&\"number\"==typeof t,o=\"number\"==typeof i&&\"number\"==typeof n;return s||o?s&&!o?[e,t]:!s&&o?[i,n]:[(e+i)/2,(t+n)/2]:[0,0]}function a([e,t],[i,n]){if(\"number\"==typeof e&&\"number\"==typeof i&&\"number\"==typeof t&&\"number\"==typeof n){const s=e-i,o=t-n;if(s!==o)return Math.abs(o)>Math.abs(s)?t-n>0?\"Up\":\"Down\":e-i>0?\"Left\":\"Right\"}return\"None\"}let l=class extends e{constructor(e){super(),this.wheelDelay=350,this.longTapInterval=750,this.doubleTapInterval=250,this.doubleTapDistance=30,this.touchMoveDistance=3,this.swipeVelocity=.3,this.swipeDuration=100,this.raiseDuration=100,this._rotateAngle=0,this._singleTapTimer=0,this._longTapTimer=0,this._wheelTimerEnd=null,this._preventTap=!0,this._swipePoints=null,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._firstPointer=null,this._pointer0=null,this._pointer1=null,this.resetOptions(e)}resetOptions(e){const{wheelDelay:t,longTapInterval:n,doubleTapInterval:s,doubleTapDistance:o,touchMoveDistance:r,swipeVelocity:p,swipeDuration:a,raiseDuration:l}=e||{};this.wheelDelay=i(t,350,1),this.longTapInterval=i(n,750,1),this.doubleTapInterval=i(s,250,1),this.doubleTapDistance=i(o,30,1),this.touchMoveDistance=i(r,3,0),this.swipeVelocity=i(p,.3,0),this.swipeDuration=i(a,100,1),this.raiseDuration=i(l,100,1)}preventAllTap(e=!0){this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,e&&(this._firstPointer=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=0)}};function h(e){const t={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]},{points:i,isFirst:n}=s(e,!0);n?(this._wheelTimerEnd&&(clearTimeout(this._wheelTimerEnd.timer),this._wheelTimerEnd.wheelEnd(),this._wheelTimerEnd=null),this._pointer0=null,this._pointer1=null):(this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1));for(let e=0,t=i.length;t>e;++e){const t=i[e],n=[t.pageX,t.pageY],s={start:n,previous:n,current:n,identifier:t.identifier,changed:!0};this._pointer0?this._pointer1||this._pointer0.identifier===t.identifier||(this._pointer1=s):this._pointer0=s}this.preventAllTap(!1),this._swipePoints=null,this._rotateAngle=0;const r=this._pointer0,a=this._pointer1;if(a&&r)this._firstPointer=null,t.pointers=[r,a],t.getPoint=()=>p(r.current,a.current),this.emit(\"gestureStart\",t);else{if(!r)return;{t.pointers=[r],t.getPoint=()=>r.current,this._preventTap=!1,this._longTapTimer=+setTimeout((()=>{this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._longTapTimer=0,this._firstPointer=null,t.waitTime=this.longTapInterval,this.emit(\"longTap\",t)}),this.longTapInterval);const e=this._firstPointer,i=this._singleTapTimer;i&&e&&o(e.current,r.current)<this.doubleTapDistance?(clearTimeout(i),this._singleTapTimer=0,this._preventSingleTap=!0,this._preventDoubleTap=!1,t.getPoint=()=>e.current):(this._firstPointer=r,this._preventSingleTap=!1,this._preventDoubleTap=!0)}}this.emit(\"pointerStart\",t)}function u(e){const t={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]};this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1);const{points:i}=s(e);for(let e=0,t=i.length;t>e;++e){const t=i[e],n=[t.pageX,t.pageY];this._pointer0&&this._pointer0.identifier===t.identifier?(this._pointer0.changed=!0,this._pointer0.previous=this._pointer0.current,this._pointer0.current=n):this._pointer1&&this._pointer1.identifier===t.identifier&&(this._pointer1.changed=!0,this._pointer1.previous=this._pointer1.current,this._pointer1.current=n)}const n=this._pointer0,l=this._pointer1;if(n&&o(n.start,n.current)>this.touchMoveDistance||l&&o(l.start,l.current)>this.touchMoveDistance){if(this.preventAllTap(),l&&n){t.pointers=[n,l];const{start:e,previous:i,current:s}=n,{start:h,previous:u,current:c}=l,m=p(s,c),d=p(i,u),_=p(e,h);t.getPoint=e=>\"start\"===e?_:\"previous\"===e?d:m,t.direction=a(d,m),t.moveDirection=a(_,m),t.deltaX=m[0]-d[0],t.moveX=m[0]-_[0],t.deltaY=m[1]-d[1],t.moveY=m[1]-_[1];const v=o(s,c),f=o(i,u),g=o(e,h);g>0&&v>0&&f>0&&(t.scale=v/f,t.moveScale=v/g);let T=r(s,c)-r(i,u);-180>T?T+=360:T>180&&(T-=360),t.angle=T,this._rotateAngle+=T,t.moveAngle=this._rotateAngle,this.emit(\"rotate\",t),g>0&&v>0&&f>0&&this.emit(\"scale\",t),this.emit(\"multiPan\",t),this.emit(\"gestureMove\",t)}else{if(!n)return;{t.pointers=[n];const{start:e,previous:i,current:s}=n;t.getPoint=t=>\"start\"===t?e:\"previous\"===t?i:s,t.direction=a(i,s),t.moveDirection=a(e,s),t.deltaX=s[0]-i[0],t.moveX=s[0]-e[0],t.deltaY=s[1]-i[1],t.moveY=s[1]-e[1];const o=Date.now(),r=this._swipePoints||[[],[]];o-((r[1][0]?r[1][0].timestamp:0)||0)>this.swipeDuration&&(r[0]=r[1],r[1]=[]),r[1].push({point:s,timestamp:o}),this._swipePoints=r,this.emit(\"pan\",t)}}this.emit(\"pointerMove\",t)}}function c(e){const t={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]};let i=null,n=null;this._pointer0&&(this._pointer0.changed=!1),this._pointer1&&(this._pointer1.changed=!1);const{points:l}=s(e);for(let e=0,t=l.length;t>e;++e){const t=l[e];this._pointer0&&this._pointer0.identifier===t.identifier?(this._pointer0.changed=!0,i=this._pointer0,this._pointer0=null):this._pointer1&&this._pointer1.identifier===t.identifier&&(this._pointer1.changed=!0,n=this._pointer1,this._pointer1=null)}if(this._pointer1&&!this._pointer0&&(this._pointer0=this._pointer1,this._pointer1=null,n=i,i=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=0),this._pointer0){t.pointers=[this._pointer0],this._pointer1?t.pointers.push(this._pointer1):n&&(t.leavePointers=[n],this._rotateAngle=0);const e=p(this._pointer0.start,this._pointer1?this._pointer1.start:n?n.start:[]),i=p(this._pointer0.previous,this._pointer1?this._pointer1.previous:n?n.previous:[]),s=p(this._pointer0.current,this._pointer1?this._pointer1.current:n?n.current:[]);t.getPoint=t=>\"start\"===t?e:\"previous\"===t?i:s,this.emit(\"gestureEnd\",t)}else if(i){t.leavePointers=[i],n&&t.leavePointers.push(n);const e=n?p(i.start,n.start):i.start,s=n?p(i.previous,n.previous):i.previous,l=n?p(i.current,n.current):i.current;if(t.getPoint=t=>\"start\"===t?e:\"previous\"===t?s:l,this._preventTap||(this.emit(\"tap\",t),this._preventTap=!0),this._preventSingleTap||(this._singleTapTimer=+setTimeout((()=>{this._singleTapTimer=0,t.delayTime=this.doubleTapInterval,this.emit(\"singleTap\",t)}),this.doubleTapInterval),this._preventSingleTap=!0),!this._preventDoubleTap){const e=this._firstPointer;e&&(t.getPoint=()=>e.current),t.intervalTime=this.doubleTapInterval,this.emit(\"doubleTap\",t),this._firstPointer=null,this._preventDoubleTap=!0}if(this._swipePoints){const[e,i]=this._swipePoints,n=i[i.length-1];if(Date.now()-n.timestamp<=this.raiseDuration){let s=i[0];for(let t=e.length-1;t>=0&&n.timestamp-e[t].timestamp<=this.swipeDuration;t--)s=e[t];const p=(h=n.timestamp-s.timestamp,\"number\"!=typeof(u=o(s.point,n.point))||0===u||\"number\"!=typeof h||0===h?0:u/h);if(p>this.swipeVelocity){const e=r(s.point,n.point);t.direction=a(s.point,n.point),t.angle=e,t.velocity=p,t.swipeComputed=(t,i=p)=>{let n=0,s=0,o=0;t>1?(n=t,s=i/n,o=i*n/2):t>0&&(s=t,n=i/s,o=i*i/(2*s));const[r,a]=function(e,t){if(\"number\"!=typeof e||\"number\"!=typeof t)return[0,0];const i=t*Math.PI/180;return[e*Math.cos(i),e*Math.sin(i)]}(o,e);return{duration:n,stretchX:r,stretchY:a,deceleration:s}},this.emit(\"swipe\",t),this._swipePoints=null}}}}var h,u;this.emit(\"pointerEnd\",t)}function m(e){this.emit(\"pointerCancel\",{sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]}),c.call(this,e)}function d(e){const t=this;function i(){\"undefined\"!=typeof window&&(window.removeEventListener(\"mousemove\",o),window.removeEventListener(\"mouseup\",r),window.removeEventListener(\"blur\",n),window.removeEventListener(\"dragstart\",s),\"onselectstart\"in window.document.documentElement&&window.removeEventListener(\"selectstart\",s))}function n(e){e.preventDefault(),e.stopPropagation(),i()}function s(e){e.preventDefault(),e.stopPropagation()}function o(i){if(0===e.button)u.call(t,i);else{const n={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]},s=[i.pageX,i.pageY];if(t._pointer0){t._pointer0.previous=t._pointer0.current,t._pointer0.current=s,n.pointers=[t._pointer0];const{start:e,previous:i,current:o}=t._pointer0;n.getPoint=t=>\"start\"===t?e:\"previous\"===t?i:o,n.direction=a(i,o),n.moveDirection=a(e,o),n.deltaX=o[0]-i[0],n.moveX=o[0]-e[0],n.deltaY=o[1]-i[1],n.moveY=o[1]-e[1],n.angle=n.deltaX/4,n.moveAngle=n.moveX/4,t.emit(\"rotate\",n)}}}function r(n){if(i(),0===e.button)c.call(t,n);else{const i={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]},s=[n.pageX,n.pageY];if(t._pointer0){const e=t._pointer0;t._pointer0=null,e.previous=e.current,e.current=s,i.leavePointers=[e];const{start:n,previous:o,current:r}=e;i.getPoint=e=>\"start\"===e?n:\"previous\"===e?o:r}i.angle=NaN,t.emit(\"rotate\",i)}}if(\"undefined\"!=typeof window&&(window.addEventListener(\"mousemove\",o),window.addEventListener(\"mouseup\",r),window.addEventListener(\"blur\",n),window.addEventListener(\"dragstart\",s,{capture:!0,passive:!1}),\"onselectstart\"in window.document.documentElement&&window.addEventListener(\"selectstart\",s,{capture:!0,passive:!1})),0===e.button)h.call(t,e);else{t._wheelTimerEnd&&(clearTimeout(t._wheelTimerEnd.timer),t._wheelTimerEnd.wheelEnd(),t._wheelTimerEnd=null);const i=[e.pageX,e.pageY];t._pointer0={start:i,previous:i,current:i,identifier:-1,changed:!0}}}function _(e){const t={sourceEvent:e,timestamp:Date.now(),pointers:[],leavePointers:[],getPoint:()=>[0,0]},i=[e.pageX,e.pageY];this._wheelTimerEnd?(this._pointer0&&(this._pointer0.previous=this._pointer0.current,this._pointer0.current=i),clearTimeout(this._wheelTimerEnd.timer)):this._pointer0={start:i,previous:i,current:i,identifier:-1,changed:!0};const n=()=>{this._pointer0=null,this._wheelTimerEnd=null,t.timestamp=Date.now(),t.scale=NaN,this.emit(\"scale\",t)};if(this._wheelTimerEnd={wheelEnd:n,timer:+setTimeout(n,this.wheelDelay),scale:this._wheelTimerEnd?this._wheelTimerEnd.scale:1},this._pointer0){t.pointers=[this._pointer0];const{start:i,previous:n,current:s}=this._pointer0;t.getPoint=e=>\"start\"===e?i:\"previous\"===e?n:s;const o=Math.pow(2,-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002));this._wheelTimerEnd.scale*=o,t.moveScale=this._wheelTimerEnd.scale,t.scale=o,this.emit(\"scale\",t)}}class v extends l{constructor(e,t){super(t),this.element=null,this._unbind=null;const i=function(e){let t=e;return\"string\"==typeof e&&(t=document.querySelector(e)),\"function\"==typeof e&&(t=e()),t||null}(e);if(!i)throw Error(\"Please pass in a valid element...\");if(this.element=i,n()){const e=h.bind(this),t=u.bind(this),n=c.bind(this),s=m.bind(this);i.addEventListener(\"touchstart\",e,!1),i.addEventListener(\"touchmove\",t,!1),i.addEventListener(\"touchend\",n,!1),i.addEventListener(\"touchcancel\",s,!1),this._unbind=()=>{i.removeEventListener(\"touchstart\",e),i.removeEventListener(\"touchmove\",t),i.removeEventListener(\"touchend\",n),i.removeEventListener(\"touchcancel\",s)}}else{const e=d.bind(this),t=_.bind(this);i.addEventListener(\"mousedown\",e,!1),i.addEventListener(\"wheel\",t,!1),this._unbind=()=>{i.removeEventListener(\"mousedown\",e),i.removeEventListener(\"wheel\",t)}}}destory(){super.off(),this._unbind&&(this._unbind(),this._unbind=null,this.element=null)}}export{v as default,n as isTouchable};\n//# sourceMappingURL=gesture.min.js.map\n","/*\n * @Author: Huangjs\n * @Date: 2023-08-08 16:47:13\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-09-13 15:31:35\n * @Description: ******\n */\n\nimport React from 'react';\n\nexport function useChanged<T>(\n  value: T,\n  compare = (prev: T | void, next: T) => prev !== next,\n): boolean {\n  const propsRef = React.useRef<T>(value);\n  const changed = compare(propsRef.current, value);\n  if (changed) {\n    propsRef.current = value;\n  }\n  return changed;\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-08-08 16:47:13\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-09-13 15:35:55\n * @Description: ******\n */\n\nimport React from 'react';\nimport { useChanged } from './useChanged';\n\nexport function useForceUpdate() {\n  const setState = React.useState({})[1];\n  return React.useCallback(() => setState({}), [setState]);\n}\n\ntype Updater<T> = (updater: T | ((origin: T) => T)) => void;\nexport function useDerivedState<T>(\n  value: T | (() => T),\n  useCompare = (prev: T, next: T) => (useChanged(next) ? next : prev),\n): [T, Updater<T>] {\n  const _value = typeof value === 'function' ? (value as () => T)() : value;\n  const nowValueRef = React.useRef<T>(_value);\n  nowValueRef.current = useCompare(nowValueRef.current, _value);\n  const forceUpdate = useForceUpdate();\n  const updateValue: Updater<T> = React.useCallback(\n    (v) => {\n      const val = typeof v === 'function' ? (v as (origin: T) => T)(nowValueRef.current) : v;\n      // 是否需要比较？\n      if (val !== nowValueRef.current) {\n        nowValueRef.current = val;\n        forceUpdate();\n      }\n    },\n    [forceUpdate],\n  );\n  return [nowValueRef.current, updateValue];\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-08-24 16:40:36\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-09-20 14:29:15\n * @Description: ******\n */\n\nimport React from 'react';\n\nexport function canUseDOM() {\n  return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n}\n\nexport const useIsomorphicLayoutEffect = canUseDOM() ? React.useLayoutEffect : React.useEffect;\n","function t(){return t=Object.assign?Object.assign.bind():function(t){for(var e=1;arguments.length>e;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},t.apply(this,arguments)}function e(t,e){if(null==t)return{};var s,i,n={},a=Object.keys(t);for(i=0;a.length>i;i++)0>e.indexOf(s=a[i])&&(n[s]=t[s]);return n}const s=/^(?:-border(?:-top|-right|-bottom|-left)?(?:-width|)|(?:-margin|-padding)?(?:-top|-right|-bottom|-left)?|(?:-min|-max)?(?:-width|-height))$/;const i=\"undefined\"==typeof window?global:window,n=[\"moz\",\"webkit\"];let a=i.requestAnimationFrame,o=i.cancelAnimationFrame||i.cancelRequestAnimationFrame;if(!a||!o)for(var r=0;2>r;r++)a=i[n[r]+\"RequestAnimationFrame\"],o=i[n[r]+\"CancelAnimationFrame\"]||i[n[r]+\"CancelRequestAnimationFrame\"];a&&o||(a=function(){let t=0;return function(e){const s=Date.now(),i=Math.max(0,16-(s-t));return t=s+i,window.setTimeout(e,i)}}(),o=function(t){return window.clearTimeout(t)});const c=a,l=o,h=(t,e)=>e>0?+setTimeout(t,e):(t(Math.abs(e)),0);class u{constructor({duration:t,easing:e,delay:s}={}){this._delay=0,this._frameId=0,this._elapsed=0,this._sleepId=0,this._delayId=0,this._tick=null,this._delayFn=null,this.duration=\"number\"==typeof t&&t>0?t:0,this.easing=\"function\"!=typeof e?t=>t:e,this.delay=\"number\"!=typeof s?0:s}start(t){if(!this._tick&&!this._delayFn){const{duration:e,easing:s,delay:i}=this;this._delayFn=i=>{if(this._delayId=0,this._delayFn=null,this._delay=0,e>0){const n=i=>{const a=Date.now();this._elapsed+=a-i,e>this._elapsed?(this._frameId=c((()=>n(a))),t(s(this._elapsed/e))):(this._tick=null,this._frameId=0,this._elapsed=0,t(1))};this._tick=n,this._elapsed=i||0,n(Date.now())}else t(1)},this._delay=Date.now(),this._delayId=h(this._delayFn,i)}}restart(){if((this._tick||this._delayFn)&&(this.stop(),this._tick&&this._tick(Date.now()),this._delayFn)){const t=this.delay+this._delay;this._delay+=Date.now(),this._delayId=h(this._delayFn,t)}}sleep(t){t&&t>0&&(this._tick||this._delayFn)&&(this.stop(),this._sleepId=+setTimeout((()=>{this._sleepId=0,this.restart()}),t))}stop(){(this._tick||this._delayFn)&&(this._delayId&&(clearTimeout(this._delayId),this._delayId=0,this._delay-=Date.now()),this._frameId&&(l(this._frameId),this._frameId=0),this._sleepId&&(clearTimeout(this._sleepId),this._sleepId=0))}end(){(this._tick||this._delayFn)&&(this.stop(),this._tick&&this._tick(Date.now()+this._elapsed-this.duration),this._delayFn&&this._delayFn(this.duration))}}let p=class{constructor(t,e,s){const i=this.value=\"number\"==typeof t?{default:t}:t;if(\"number\"==typeof e){const t={};Object.keys(i).forEach((s=>{t[s]=e||0})),this.precision=t}else e&&(this.precision=e);\"function\"==typeof s&&(this.transform=s)}toRaw(){const t={value:this.value};return this.precision&&(t.precision=this.precision),this.transform&&(t.transform=this.transform),t}};const d=[\"value\",\"precision\"];const f=[\"value\"],_=[\"before\",\"after\",\"cancel\"];let y=class{constructor({cssProperties:t,apply:e}={}){this.cssProperties={},this._cssProperties=null,this._animations=[],this._apply=e||(()=>{}),t&&this.apply(t)}update(){!this.running()&&this._cssProperties&&(this.cssProperties=this._cssProperties,this._cssProperties=null);const{cssProperties:t}=this,e={};Object.keys(t).forEach((s=>{const{value:i,transform:n}=t[s];e[s.replace(/([A-Z])/g,\"-$1\").toLocaleLowerCase()]=n(i)})),this._apply(e)}value(){const t=this._cssProperties||this.cssProperties,e={};return Object.keys(t).forEach((s=>{e[s]=t[s].value})),e}apply(s,i){this._cssProperties||(this._cssProperties=this.cssProperties);const n=function(e,s){const i=t({},e);if(s instanceof p){const n=Object.keys(e)[0];if(n){const a=e[n],o=s.toRaw();i[n]=t({},a,o,{value:t({},a.value,o.value)})}}else Object.keys(s).forEach((n=>{const a=e[n],o=s[n].toRaw();i[n]=a?t({},a,o,{value:t({},a.value,o.value)}):t({transform:t=>Object.keys(t).map((e=>t[e])).join(\" \"),precision:{}},o)}));return i}(this._cssProperties,s),a=function(s,i){const n={};return Object.keys(s).forEach((a=>{const o=s[a].value,r=i[a],{value:c,precision:l}=r,h=e(r,d);let u=null;Object.keys(o).forEach((t=>{const e=c[t]-o[t];Math.abs(e)>(l[t]||0)&&(u||(u={}),u[t]=e)})),u&&(n[a]=t({value:u,precision:l},h))})),n}(this._cssProperties,n);this._cssProperties=n;const o=Object.keys(a),r={};o.forEach((s=>{const i=a[s],{value:n}=i,o=e(i,f);r[s]=t({value:t({},n)},o),this.cssProperties[s]=t({},this.cssProperties[s],o)}));const c=i&&0!==o.length?i:{};return new Promise((t=>{const{before:s=(()=>{}),after:i=(()=>{}),cancel:n=!0}=c,l=e(c,_),h=new u(l);this._animations.push({animation:h,cancel:n,remain:r}),h.start((e=>{const n=s(e,this.value());if(!1!==n){let t=e;\"number\"==typeof n&&(t=n),o.forEach((e=>{const s=this.cssProperties[e].value,i=a[e].value,n=r[e].value;Object.keys(i).forEach((e=>{const a=i[e]*(1-t);s[e]+=n[e]-a,n[e]=a}))})),this.update()}if(i(e,this.value()),1===e){const e=this._animations.findIndex((t=>h===t.animation));-1!==e&&this._animations.splice(e,1),this.update(),t(this.value())}}))}))}cancel(t=!1){let e=0;return this._animations=this._animations.filter((({animation:s,remain:i,cancel:n})=>{if(n){s[t?\"end\":\"stop\"](),e+=1;const n=this._cssProperties;return n&&Object.keys(i).forEach((t=>{if(n[t]){const e=i[t].value,s=n[t].value;Object.keys(e).forEach((t=>{s[t]-=e[t]}))}})),!1}return!0})),this.update(),e}running(){return 0!==this._animations.length}};const m=p;class b extends y{constructor(e,i){super(t({apply:t=>function(t,e){if(t&&e){let i=\"\";Object.keys(e).forEach((n=>{const a=function(t){return t.replace(/([A-Z])/g,\"-$1\").toLocaleLowerCase()}(n),o=e[n];if(o||0===o){const t=\"number\"==typeof o&&/^[a-z]/.test(a)&&s.test(\"-\"+a)?\"px\":\"\";i+=`${a}: ${o}${t};`}else t.style.removeProperty(a)})),t.style.cssText+=i}return t}(function(t){let e=t;return\"string\"==typeof t&&(e=document.querySelector(t)),\"function\"==typeof t&&(e=t()),e||null}(e),t)},i||{}))}}export{m as Value,b as default};\n//# sourceMappingURL=transition.min.js.map\n","const n=n=>n,t=n=>n*n,o=n=>1-(1-n)*(1-n),c=n,r=t,u=o,e=n=>n*n*n,s=n=>1-(1-n)*(1-n)*(1-n),f=n=>n*n*n*n,i=n=>1-(1-n)*(1-n)*(1-n)*(1-n),p=n=>n*n*n*n*n,x=n=>1-(1-n)*(1-n)*(1-n)*(1-n)*(1-n);function a(t=0,o=1,c=n){const r=1/(o-t);return r&&r>0?n=>(c(n/r+t)-c(t))*r/((c(1/r+t)-c(t))*r):()=>0}function b(t=.5,o=n,c=n){return t>0?1>t?n=>n>t?(c(n/(1-t)-t/(1-t))+t/(1-t))*(1-t):o(n/t)*t:o:c}const d=b(.5,o,t),g=b(.5,t,o);export{a as createEase,b as createEaseInOut,e as easeInCubic,d as easeInOutQuad,r as easeInQuad,f as easeInQuart,p as easeInQuint,c as easeLinear,s as easeOutCubic,g as easeOutInQuad,u as easeOutQuad,i as easeOutQuart,x as easeOutQuint};\n//# sourceMappingURL=easing.min.js.map\n","/*\n * @Author: Huangjs\n * @Date: 2023-02-13 15:22:58\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 16:01:30\n * @Description: ******\n */\n\nimport { type IAnimationExtendOptions } from '@huangjs888/transition';\nimport { easeOutQuart } from '@huangjs888/transition/easing';\n\nexport const defaultAnimationExtendOptions: IAnimationExtendOptions = {\n  cancel: true,\n  duration: 500,\n  easing: easeOutQuart,\n};\n","/*\n * @Author: Huangjs\n * @Date: 2023-02-13 15:22:58\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 16:03:01\n * @Description: ******\n */\n\nimport Transition, {\n  Value,\n  type ITransitionOptions,\n  type IAnimationExtendOptions,\n} from '@huangjs888/transition';\nimport { type IElement } from '@huangjs888/lightdom';\nimport { defaultAnimationExtendOptions } from './defaultAnimationExtendOptions';\n\nclass SwiperModel<T extends Object | null> extends Transition {\n  _direction: IDirection = 'horizontal';\n  _itemModels: T[] = [];\n  _itemSize: number = 0;\n  _activeIndex: number = -1;\n  _enableSwipeClose: boolean = true;\n  _fgBehavior: number = 0; // 当第一根手指放上去后，接着有三种行为：0: 直接拿开 1: 直接移动 2: 再放一根手指\n  _moveTarget: 'closures' | 'outside' | 'inside' | 'none' = 'none'; // 判断是内部的图片移动，还是外部swiper移动，还是进入swipeClose\n  constructor({\n    direction,\n    itemModels,\n    itemSize,\n    enableSwipeClose,\n    transitionEl,\n    ...transitionOption\n  }: SwiperOption<T> = {}) {\n    super(transitionEl || null, transitionOption);\n    this.apply({\n      transform: new Value(0, 1, (v) => `translateX(${v.default}px)`),\n    });\n    this.swipeClose(enableSwipeClose);\n    this.direction(direction);\n    this.itemSize(itemSize);\n    this.itemModels(itemModels);\n  }\n  activeIndex() {\n    return this._activeIndex;\n  }\n  isHorizontal() {\n    return this._direction === 'horizontal';\n  }\n  isVertical() {\n    return this._direction === 'vertical';\n  }\n  swipeClose(enableSwipeClose?: boolean) {\n    if (typeof enableSwipeClose !== 'undefined') {\n      this._enableSwipeClose = enableSwipeClose;\n    }\n    return this._enableSwipeClose;\n  }\n  direction(direction?: IDirection) {\n    if (direction) {\n      this._direction = direction;\n      const xy = direction === 'vertical' ? 'Y' : 'X';\n      // 方向改变了要重置transform函数\n      this.apply(new Value(0, 1, (v) => `translate${xy}(${v.default}px)`));\n    }\n    return this._direction;\n  }\n  itemSize(itemSize?: number) {\n    if (typeof itemSize !== 'undefined') {\n      this._itemSize = itemSize;\n      // 单位尺寸变了，需要调整一下位移\n      this.apply(new Value(-this.activeIndex() * itemSize));\n    }\n    return this._itemSize;\n  }\n  itemModels(itemModels?: number | T | T[], index?: number) {\n    if (typeof itemModels === 'undefined') {\n      return this._itemModels;\n    } else if (typeof itemModels === 'number') {\n      return this._itemModels[itemModels];\n    } else if (Array.isArray(itemModels)) {\n      this._itemModels = itemModels;\n      return itemModels;\n    } else {\n      this._itemModels[index || 0] = itemModels;\n      return itemModels;\n    }\n  }\n  currentItem(): T | null {\n    return this.itemModels(this.activeIndex()) as T;\n  }\n  countItems() {\n    return (this.itemModels() as T[]).length;\n  }\n  slide(index: number, options: IAnimationExtendOptions = {}) {\n    const { before, after, ...restOptions } = options;\n    const activeIndex = Math.max(Math.min(index, this.countItems() - 1), 0);\n    const isChanged = this.activeIndex() !== activeIndex;\n    if (isChanged) {\n      this._activeIndex = activeIndex;\n      before?.(activeIndex);\n    }\n    const translate = -activeIndex * this.itemSize();\n    return this.apply(new Value(translate), {\n      ...defaultAnimationExtendOptions,\n      ...restOptions,\n    }).then(() => {\n      if (isChanged) {\n        after?.(activeIndex);\n      }\n      return activeIndex;\n    });\n  }\n  next(options?: IAnimationExtendOptions) {\n    return this.slide(this._activeIndex + 1, options);\n  }\n  prev(options?: IAnimationExtendOptions) {\n    return this.slide(this._activeIndex - 1, options);\n  }\n}\n\nexport type IDirection = 'vertical' | 'horizontal';\n\nexport type SwiperOption<T> = {\n  direction?: IDirection;\n  enableSwipeClose?: boolean;\n  itemModels?: T | T[];\n  itemSize?: number;\n} & ITransitionOptions & { transitionEl?: IElement };\n\nexport type ISPBox = {\n  x?: number;\n  y?: number;\n  w?: number;\n  h?: number;\n};\n\nexport type IOpenStyle = {\n  o?: number;\n  k?: number;\n  t?: number;\n} & ISPBox;\n\nexport type ICallback = {\n  [key: string]: Function;\n};\n\nexport default SwiperModel;\n","const t=Math.PI/180,n={multiply:function(t,n,e){const o=n[0],s=n[4],a=n[8],i=n[12],r=n[1],c=n[5],y=n[9],l=n[13],h=n[2],f=n[6],u=n[10],p=n[14],m=n[3],M=n[7],x=n[11],b=n[15],k=e[0],d=e[1],w=e[2],A=e[3],F=e[4],I=e[5],P=e[6],g=e[7],j=e[8],q=e[9],v=e[10],E=e[11],R=e[12],S=e[13],$=e[14],z=e[15];t[0]=o*k+s*F+a*j+i*R,t[4]=o*d+s*I+a*q+i*S,t[8]=o*w+s*P+a*v+i*$,t[12]=o*A+s*g+a*E+i*z,t[1]=r*k+c*F+y*j+l*R,t[5]=r*d+c*I+y*q+l*S,t[9]=r*w+c*P+y*v+l*$,t[13]=r*A+c*g+y*E+l*z,t[2]=h*k+f*F+u*j+p*R,t[6]=h*d+f*I+u*q+p*S,t[10]=h*w+f*P+u*v+p*$,t[14]=h*A+f*g+u*E+p*z,t[3]=m*k+M*F+x*j+b*R,t[7]=m*d+M*I+x*q+b*S,t[11]=m*w+M*P+x*v+b*$,t[15]=m*A+M*g+x*E+b*z},identity:function(t){for(let n=0;16>n;n++)t[n]=0;for(let n=0;16>n;n+=5)t[n]=1},translate:function(t,n,e,o){for(let s=0;4>s;s++)t[12+s]+=t[s]*n+t[4+s]*e+t[8+s]*o},scale:function(t,n,e,o){for(let s=0;4>s;s++)t[s]*=n,t[4+s]*=e,t[8+s]*=o},rotate:function(e,o,s,a,i){const r=new Float32Array(16);r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1;const c=o*t,y=Math.sin(c),l=Math.cos(c);if(1===s&&0===a&&0===i)r[5]=l,r[10]=l,r[6]=y,r[9]=-y,r[1]=0,r[2]=0,r[4]=0,r[8]=0,r[0]=1;else if(0===s&&0===a&&0===i)r[0]=l,r[10]=l,r[8]=y,r[2]=-y,r[1]=0,r[4]=0,r[6]=0,r[9]=0,r[5]=1;else if(0===s&&0===a&&1===i)r[0]=l,r[5]=l,r[1]=y,r[4]=-y,r[2]=0,r[6]=0,r[8]=0,r[9]=0,r[10]=1;else{const t=Math.sqrt(s*s+a*a+i*i);if(1!==t){const n=1/t;s*=n,a*=n,i*=n}const n=1-l,e=s*a,o=a*i,c=i*s,h=s*y,f=a*y,u=i*y;r[0]=s*s*n+l,r[4]=e*n-u,r[8]=c*n+f,r[1]=e*n+u,r[5]=a*a*n+l,r[9]=o*n-h,r[2]=c*n-f,r[6]=o*n+h,r[10]=i*i*n+l}n.multiply(e,e,r)},rotateEuler:function(e,o,s,a){const i=new Float32Array(16),r=o*t,c=s*t,y=a*t,l=Math.cos(r),h=Math.sin(r),f=Math.cos(c),u=Math.sin(c),p=Math.cos(y),m=Math.sin(y),M=l*u,x=h*u;i[0]=f*p,i[1]=-f*m,i[2]=u,i[3]=0,i[4]=M*p+l*m,i[5]=-M*m+l*p,i[6]=-h*f,i[7]=0,i[8]=-x*p+h*m,i[9]=x*m+h*p,i[10]=l*f,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,n.multiply(e,e,i)},perspective:function(t,n,e,o,s){const a=1/Math.tan(n*(Math.PI/360)),i=1/(o-s);t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+o)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*o*i,t[15]=0}};class e{constructor(t={}){\"number\"==typeof t.a&&(this.a=t.a),\"number\"==typeof t.k&&(this.k=t.k),\"number\"==typeof t.x&&(this.x=t.x),\"number\"==typeof t.y&&(this.y=t.y)}static identity(){return new e({a:0,k:1,x:0,y:0})}toRaw(){const t={};return\"number\"==typeof this.a&&(t.a=this.a),\"number\"==typeof this.k&&(t.k=this.k),\"number\"==typeof this.x&&(t.x=this.x),\"number\"==typeof this.y&&(t.y=this.y),t}toString(){const{a:t=0,k:e=1,x:o=0,y:s=0}=this,a=new Float32Array(16);return n.identity(a),n.translate(a,o,s,0),n.scale(a,e,e,e),n.rotate(a,-t,0,0,1),`matrix3d(${Array.prototype.slice.call(a).join(\",\")})`}}export{n as Matrix,e as default};\n//# sourceMappingURL=transform.min.js.map\n","function t(t,n,e,o=!1){return 1>t||1>n||o&&t>n||0>=e||e>1?t:o?Math.pow((n-1)*t/(n-t),1/e):n/(1+(n-1)/Math.pow(t,e))}function n(n,e={}){if(0===n)return 0;const{max:o=9999,mode:r=0,expo:a=.88}=e;let u=Math.abs(n);return u=1>u?1===r?1/t(1/u,o,a):t(u+1,o,a)-1:t(u,o,a),u*(n>0?1:-1)}function e(n,e={}){if(0===n)return 0;const{max:o=9999,mode:r=0,expo:a=.88}=e;let u=Math.abs(n);return u=1>u?1===r?1/t(1/u,o,a,!0):t(u+1,o,a,!0)-1:t(u,o,a,!0),u*(n>0?1:-1)}export{n as performDamping,e as revokeDamping};\n//# sourceMappingURL=damping.min.js.map\n","/*\n * @Author: Huangjs\n * @Date: 2023-06-26 09:46:00\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-08 10:02:22\n * @Description: ******\n */\n\n// 解决0.1+0.2不等于0.3的问题\nexport function fixDecimal(value: number, places: number = 15) {\n  const multiple = Math.pow(10, places);\n  return Math.round(value * multiple) / multiple;\n}\n// 算出双击时offset的比例\nexport function ratioOffset(v: number, k: number, t: number) {\n  if (v <= (1 - k) / (2 * k)) {\n    return -1 / 2;\n  } else if (v >= (1 + k - 2 * t) / (2 * k)) {\n    return 1 / 2;\n  } else {\n    return (v - (1 - t) / (2 * k)) / (1 - t / k);\n  }\n}\n// 传入的a是函数，就返回函数执行结果，否则直接返回a\nexport function effectuate(fn: any, ...args: any) {\n  return typeof fn === 'function' ? fn(...args) : fn;\n}\n// 判断v是否在min和max之间\nexport function isBetween(v: number, [min, max]: number[]) {\n  return min <= v && v <= max;\n}\n// 若v在min和max之间，则返回v值，否则，返回边缘值min或max\nexport function between(v: number, [min, max]: number[], _?: boolean) {\n  return Math.max(Math.min(v, max), min);\n}\n\nexport function getSPBox(element?: Element | null) {\n  if (element) {\n    const { left, top, width, height } = element.getBoundingClientRect();\n    return { x: left + width / 2, y: top + height / 2, w: width, h: height };\n  }\n  return { x: 0, y: 0, w: 0, h: 0 };\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-02-13 15:22:58\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 16:02:45\n * @Description: ******\n */\n\nimport Transition, {\n  Value,\n  type ITransitionOptions,\n  type IAnimationExtendOptions,\n} from '@huangjs888/transition';\nimport { easeOutQuad } from '@huangjs888/transition/easing';\nimport Transform from '@huangjs888/transform';\nimport { revokeDamping, performDamping } from '@huangjs888/damping';\nimport { type IElement } from '@huangjs888/lightdom';\nimport { defaultAnimationExtendOptions } from './defaultAnimationExtendOptions';\nimport { between, isBetween, effectuate, ratioOffset } from '../utils';\n\nclass ItemModel extends Transition {\n  _dblAdjust: boolean = true;\n  _dblScale: number | (() => number) = 0; // 双击放大比例和是否调整放大时的中心点\n  _damping: IDamping[] = []; // 可以进行阻尼的变换\n  _rotation: number[] | (() => number[]) = []; // 旋转范围\n  _scalation: number[] | (() => number[]) = []; // 缩放范围\n  _translation: (number[] | ((v: number) => number[]))[] = []; // 平移范围\n  _sizePosition: ISizePosition & {\n    elementWidth: number;\n    elementHeight: number;\n  } = {\n    containerCenter: [0, 0],\n    containerWidth: 0,\n    containerHeight: 0,\n    naturalWidth: 0,\n    naturalHeight: 0,\n    elementWidth: 0,\n    elementHeight: 0,\n  };\n  constructor({\n    sizePosition,\n    dblAdjust,\n    dblScale,\n    damping,\n    rotation,\n    scalation,\n    translation,\n    transitionEl,\n    ...transitionOption\n  }: IItemModelOption = {}) {\n    super(transitionEl || null, transitionOption);\n    this.apply({\n      transform: new Value({ a: 0, k: 1, x: 0, y: 0 }, { a: 0.001, k: 0.001, x: 1, y: 1 }, (v) =>\n        new Transform(v).toString(),\n      ),\n    });\n    this.sizePosition(sizePosition);\n    this.setDblAdjust(dblAdjust); // 设置双击是否调整中心点\n    this.setDamping(damping); // 设置[]，则全都不阻尼\n    this.setDblScale(dblScale); // 设置1，则不进行双击缩放，但可双击归位\n    this.setRotation(rotation); // 设置相同数字（比如0），则不允许旋转，该数字为初始旋转\n    this.setScalation(scalation); // 设置相同数字（比如1），则不允许缩放，该数为初始缩放\n    this.setTranslation(translation); // 设置相同数字（比如0），则不允许平移，该数为初始位置\n  }\n  reset(duration: number = 0) {\n    const a = between(0, this.getRotation()); // 初始角度a\n    const k = between(1, this.getScalation()); // 初始比例k\n    const x = between(0, this.getXTranslation(k)); // 初始位移x\n    const y = between(0, this.getYTranslation(k)); //初始位移y\n    this.apply(new Value({ a, k, x, y }), { ...defaultAnimationExtendOptions, duration });\n  }\n  sizePosition(sizePosition?: ISizePosition) {\n    if (sizePosition) {\n      const { containerCenter, containerWidth, containerHeight, naturalWidth, naturalHeight } =\n        sizePosition;\n      const aspectRatio = naturalWidth / naturalHeight;\n      const boxAspectRatio = containerWidth / containerHeight;\n      let width = naturalWidth;\n      if (aspectRatio >= boxAspectRatio) {\n        width = containerWidth;\n      } else if (aspectRatio >= 1 / 2.2) {\n        // 0.4545454545...\n        //微信 iphone 横竖屏和微信 android 竖屏时\n        width = containerHeight * aspectRatio;\n      } /* else if (aspectRatio >= 0.4) {\n        // 微信 android 横屏时\n        width = containerHeight * aspectRatio;\n      } */ else {\n        // 微信 iphone 是取 containerWidth 和 naturalWidth 最小值\n        width = Math.min(containerWidth, naturalWidth);\n        // 微信 android 直接是取 containerWidth;\n        // width = containerWidth;\n      }\n      const height = width / aspectRatio;\n      this._sizePosition = {\n        containerCenter,\n        containerWidth,\n        containerHeight,\n        naturalWidth,\n        naturalHeight,\n        elementWidth: width || 0,\n        elementHeight: height || 0,\n      };\n      this.reset();\n    }\n    return this._sizePosition;\n  }\n  setRotation(a?: number[]) {\n    if (a && typeof a[0] === 'number' && typeof a[1] === 'number' && a[1] >= a[0]) {\n      // 最大范围 -Infinity 到 + Infinity\n      this._rotation = a;\n      return;\n    }\n    // 测微信得到的结论，是不给旋转的\n    // 如果设置不合理，则取默认\n    this._rotation = () => [0, 0];\n  }\n  getRotation() {\n    return effectuate(this._rotation);\n  }\n  setScalation(k?: number[]) {\n    if (k && typeof k[0] === 'number' && typeof k[1] === 'number' && k[1] >= k[0] && k[0] > 0) {\n      this._scalation = k; // 最大范围 0 到 +Infinity (不等于0)\n      return;\n    }\n    // 测微信得到的结论，最小值为1，最大值永远是双击值放大值的2倍\n    // 如果设置不合理，则取默认\n    this._scalation = () => [1, 2 * this.getDblScale()];\n  }\n  getScalation() {\n    return effectuate(this._scalation);\n  }\n  setTranslation(xy?: number[][]) {\n    this.setXTranslation(xy && xy[0]);\n    this.setYTranslation(xy && xy[1]);\n  }\n  getTranslation(k?: number) {\n    return [this.getXTranslation(k), this.getYTranslation()];\n  }\n  setXTranslation(x?: number[]) {\n    if (x && typeof x[0] === 'number' && typeof x[1] === 'number' && x[1] >= x[0]) {\n      this._translation[0] = x; // 最大范围 -Infinity 到 + Infinity\n      return;\n    }\n    // 测微信得到的结论，边界范围是元素按照当前比例缩放后宽度和容器宽度之差，左右各一半的范围\n    this._translation[0] = (k: number) => {\n      const { containerWidth, elementWidth } = this.sizePosition();\n      const bx = Math.max((elementWidth * k - containerWidth) / 2, 0);\n      return [-bx, bx];\n    };\n  }\n  getXTranslation(k?: number) {\n    return effectuate(this._translation[0], k || this.value().transform.k || 1);\n  }\n  setYTranslation(y?: number[]) {\n    if (y && typeof y[0] === 'number' && typeof y[1] === 'number' && y[1] >= y[0]) {\n      this._translation[1] = y; // 最大范围 -Infinity 到 +Infinity\n      return;\n    }\n    // 测微信得到的结论，边界范围是元素按照当前比例缩放后高度和容器高度之差，上下各一半的范围\n    this._translation[1] = (k: number) => {\n      const { containerHeight, elementHeight } = this.sizePosition();\n      const by = Math.max((elementHeight * k - containerHeight) / 2, 0);\n      return [-by, by];\n    };\n  }\n  getYTranslation(k?: number) {\n    return effectuate(this._translation[1], k || this.value().transform.k || 1);\n  }\n  setDblScale(k?: number) {\n    if (typeof k === 'number' && k > 0) {\n      this._dblScale = k;\n      return;\n    }\n    // 测微信得到的结论，双击放大比例是\n    // 1，容器宽/元素宽 和 容器高/元素高 的最大值\n    // 2，元素实际宽/容器宽 和 元素实际高/容器高 的最小值\n    // 3，在1、2两个值和数值2这三个之中的最大值\n    this._dblScale = () => {\n      const {\n        containerWidth,\n        containerHeight,\n        naturalWidth,\n        naturalHeight,\n        elementWidth,\n        elementHeight,\n      } = this.sizePosition();\n      return (\n        Math.max(\n          2,\n          Math.max(containerWidth / elementWidth, containerHeight / elementHeight),\n          Math.min(naturalWidth / containerWidth, naturalHeight / containerHeight),\n        ) || 1\n      );\n    };\n  }\n  getDblScale() {\n    return effectuate(this._dblScale);\n  }\n  setDblAdjust(aj: boolean = true) {\n    this._dblAdjust = aj;\n  }\n  getDblAdjust() {\n    return this._dblAdjust;\n  }\n  isDamping(key: IDamping) {\n    return this._damping?.indexOf(key) !== -1;\n  }\n  setDamping(damping?: IDamping[]) {\n    if (damping) {\n      this._damping = damping;\n      return;\n    }\n    // 如果不设置，默认只对缩放比例和位移进行阻尼\n    this._damping = ['scale', 'translate'];\n  }\n  rotate(a: number) {\n    // 负数顺时针，正数逆时针\n    // 在原来的基础上再旋转 a\n    return this.transform(new Transform({ a }));\n  }\n  rotateTo(a: number) {\n    // 负数顺时针，正数逆时针\n    // 直接旋转到 a\n    return this.transformTo(new Transform({ a }));\n  }\n  scale(k: number, point?: number[]) {\n    // 在原来的基础上相对 point 点缩放 k\n    return this.transform(new Transform({ k }), point);\n  }\n  scaleTo(k: number, point?: number[]) {\n    // 直接相对 point 点缩放到 k\n    return this.transformTo(new Transform({ k }), point);\n  }\n  translate(x: number, y: number) {\n    // 在原来的基础上平移 x, y\n    return this.transform(new Transform({ x, y }));\n  }\n  translateTo(x: number, y: number) {\n    // 直接平移到 x, y\n    return this.transformTo(new Transform({ x, y }));\n  }\n  translateX(x: number) {\n    // 在原来的基础上横向平移 x\n    return this.transform(new Transform({ x }));\n  }\n  translateXTo(x: number) {\n    // 直接横向平移到 x\n    return this.transformTo(new Transform({ x }));\n  }\n  translateY(y: number) {\n    // 在原来的基础上竖向平移  y\n    return this.transform(new Transform({ y }));\n  }\n  translateYTo(y: number) {\n    // 直接竖向平移到 y\n    return this.transformTo(new Transform({ y }));\n  }\n  transform(\n    transform: Transform,\n    point?: number[] | IAnimationExtendOptions,\n    options?: IAnimationExtendOptions,\n  ) {\n    const t = this.value().transform;\n    let { a, k, x, y } = transform;\n    if (typeof a === 'number') {\n      a += t.a || 0;\n    }\n    if (typeof k === 'number') {\n      k *= t.k || 1;\n    }\n    if (typeof x === 'number') {\n      x += t.x || 0;\n    }\n    if (typeof y === 'number') {\n      y += t.y || 0;\n    }\n    return this.transformTo(new Transform({ a, k, x, y }), point, options);\n  }\n  transformTo(\n    transform: Transform,\n    point?: number[] | IAnimationExtendOptions,\n    options?: IAnimationExtendOptions,\n  ) {\n    let _point = point;\n    let _options = options;\n    if (!options && !Array.isArray(point)) {\n      _options = point;\n      _point = undefined;\n    }\n    const { a: _a, k: _k, x: _x, y: _y } = transform;\n    const _transform = new Transform();\n    if (typeof _a === 'number') {\n      _transform.a = between(_a, this.getRotation());\n    }\n    if (typeof _k === 'number') {\n      const k = (_transform.k = between(_k, this.getScalation()));\n      if (Array.isArray(_point)) {\n        const [ox, oy] = this.computeOffset(_point, k);\n        const t = this.value().transform;\n        _transform.x = between((typeof _x === 'number' ? _x : t.x) + ox, this.getXTranslation(k));\n        _transform.y = between((typeof _y === 'number' ? _y : t.y) + oy, this.getYTranslation(k));\n      } else {\n        if (typeof _x === 'number') {\n          _transform.x = between(_x, this.getXTranslation(k));\n        }\n        if (typeof _y === 'number') {\n          _transform.y = between(_y, this.getYTranslation(k));\n        }\n      }\n    } else {\n      if (typeof _x === 'number') {\n        _transform.x = between(_x, this.getXTranslation());\n      }\n      if (typeof _y === 'number') {\n        _transform.y = between(_y, this.getYTranslation());\n      }\n    }\n    return this.apply(new Value(_transform.toRaw()), {\n      ...defaultAnimationExtendOptions,\n      ..._options,\n    });\n  }\n  computeOffset(point: number[], k: number, adjust: boolean = false) {\n    const { containerCenter, containerWidth, containerHeight, elementWidth, elementHeight } =\n      this.sizePosition();\n    const t = this.value().transform;\n    const dk = k / t.k;\n    const [cx, cy] = containerCenter;\n    let ox = (typeof point[0] === 'number' ? point[0] : cx) - (cx + t.x);\n    let oy = (typeof point[1] === 'number' ? point[1] : cy) - (cy + t.y);\n    if (adjust) {\n      // 思路：对元素进行划线分界\n      // 1，在元素上边的时候，用元素实际高度一半(eh/2)的基础上在除以双击比例 k 即 eh/2k 作为上分界线，分界线到元素上边缘区域内点击，全部视为在元素上边缘线上点击，即放大后元素上边缘会紧贴在容器上边缘\n      // 2，在元素下边的时候，先用容器的高(ch)比上元素实际高(eh)，即ch/eh（但是这个比例值只能在1和2之间（即只针对元素高小于容器高且大于容器高一半的情况）），用这个比例减去1/2k，得到的结果乘以元素实际高(eh)，再以此作为下分界线，分界线到元素下边缘区域内点击，全部视为在元素下边缘线上点击，即放大后元素下边缘会紧贴在容器下边缘\n      // 3，找出元素在不受偏移量和边界限制的影响下，点击元素中心点放大后，元素上下各存在一条界线正好与容器边缘重合，计算出该界线到中心点的距离，该距离一定是在元素中心点到元素边缘之间即0,ew/2之间，并且两条界线等距\n      // 4，在1，2中算出的上下分界线之间内点击，计算均匀分布对应到在3中算出的上下界线之间内点击，分界线中点处对应元素中点处，最后得到对应的偏移量oy\n      // 5，元素左右计算方式如同上下方式一样得到ox\n      // 测微信得到的结论\n      // 这个偏移量需要要向着边缘点发散\n      const cw = containerWidth / 1;\n      const ch = containerHeight / 1;\n      const ew = elementWidth / t.k;\n      const eh = elementHeight / t.k;\n      ox =\n        between(ew - (cw - ew) / (dk - 1), [0, ew]) *\n          ratioOffset(ox / ew, dk, between(cw / ew, [1, 2])) || 0;\n      oy =\n        between(eh - (ch - eh) / (dk - 1), [0, eh]) *\n          ratioOffset(oy / eh, dk, between(ch / eh, [1, 2])) || 0;\n    }\n    ox *= 1 - dk;\n    oy *= 1 - dk;\n    return [ox, oy];\n  }\n  moveBounce(angle: number, scale: number, deltaX: number, deltaY: number, point: number[] = []) {\n    let { a, k, x, y } = this.value().transform;\n    const aRange = this.getRotation();\n    if (this.isDamping('rotate')) {\n      // 先把当前值反算出阻尼之前的原值\n      let ba = between(a, aRange);\n      a = ba + revokeDamping(a - ba, { max: 180 });\n      // 再对总值进行总体阻尼计算\n      ba = between((a += angle), aRange);\n      a = ba + performDamping(a - ba, { max: 180 });\n    } else {\n      a = between((a += angle), aRange);\n    }\n    const kRange = this.getScalation();\n    if (this.isDamping('scale')) {\n      // 先把当前值反算出阻尼之前的原值\n      let bk = between(k, kRange);\n      k = bk * revokeDamping(k / bk, { max: 2, mode: 1 });\n      // 再对总值进行总体阻尼计算\n      bk = between((k *= scale), kRange);\n      k = bk * performDamping(k / bk, { max: 2, mode: 1 });\n    } else {\n      k = between((k *= scale), kRange);\n    }\n    const [ox, oy] = this.computeOffset(point, k);\n    if (this.isDamping('scale')) {\n      const { containerWidth: xMax, containerHeight: yMax } = this.sizePosition();\n      // 先把当前值反算出阻尼之前的原值\n      let bx = between(x, this.getXTranslation());\n      x = bx + revokeDamping(x - bx, { max: xMax });\n      // 再对总值进行总体阻尼计算\n      bx = between((x += ox + deltaX), this.getXTranslation(k));\n      x = bx + performDamping(x - bx, { max: xMax });\n      // 先把当前值反算出阻尼之前的原值\n      let by = between(y, this.getYTranslation());\n      y = by + revokeDamping(y - by, { max: yMax });\n      // 再对总值进行总体阻尼计算\n      by = between((y += oy + deltaY), this.getYTranslation(k));\n      y = by + performDamping(y - by, { max: yMax });\n    } else {\n      x = between((x += ox + deltaX), this.getXTranslation(k));\n      y = between((y += oy + deltaY), this.getYTranslation(k));\n    }\n    this.apply(new Value({ a, k, x, y }));\n  }\n  resetBounce(point: number[] = [], cancel: boolean = false) {\n    let { a, k, x, y } = this.value().transform;\n    // 若允许阻尼，首先应该先把当前值反算出阻尼之前的原值\n    if (this.isDamping('rotate')) {\n      const ba = between(a, this.getRotation());\n      a = ba + revokeDamping(a - ba, { max: 180 });\n    }\n    if (this.isDamping('scale')) {\n      const bk = between(k, this.getScalation());\n      k = bk * revokeDamping(k / bk, { max: 2, mode: 1 });\n    }\n    if (this.isDamping('translate')) {\n      const { containerWidth: xMax, containerHeight: yMax } = this.sizePosition();\n      const bx = between(x, this.getXTranslation());\n      x = bx + revokeDamping(x - bx, { max: xMax });\n      const by = between(y, this.getYTranslation());\n      y = by + revokeDamping(y - by, { max: yMax });\n    }\n    // 重置之前是双指移动，是不允许取消动画的\n    this.transformTo(new Transform({ a, k, x, y }), point, { cancel });\n  }\n  dblScale(point: number[] = []) {\n    // 这三个比例都是用保留三位小数的结果进行比较\n    // 其实这里的3应该用1/屏幕的宽高算出的小数位数\n    // 此刻比例和位移\n    const tk = this.value().transform.k || 1;\n    // 双击变化的比例\n    const dk = between(this.getDblScale(), this.getScalation());\n    // 再次双击恢复的比例（初始比例）\n    const bk = between(1, this.getScalation());\n    // 双击变化（如果设置的双击比例大于初始比例并且此刻比例小于或等于初始比例\n    // 或者设置的双击比例小于初始比例且此刻比例大于或等于初始比例）\n    if ((dk > bk && tk <= bk) || (dk < bk && tk >= bk)) {\n      if (this.getDblAdjust()) {\n        // 需要调整的情况，自己算偏移量，并且旋转置为0\n        const [ox, oy] = this.computeOffset(point, dk, this.getDblAdjust());\n        const t = this.value().transform;\n        this.transformTo(new Transform({ a: 0, k: dk, x: t.x + ox, y: t.y + oy }), {\n          cancel: false,\n        });\n      } else {\n        // 交给transformTo\n        this.transformTo(new Transform({ k: dk }), point, { cancel: false });\n      }\n    } else {\n      // 再次双击恢复\n      if (this.getDblAdjust()) {\n        // 需要调整的情况，置为初始状态\n        this.transformTo(new Transform({ a: 0, k: bk, x: 0, y: 0 }), { cancel: false });\n      } else {\n        // 交给transformTo\n        this.transformTo(new Transform({ k: bk }), point, { cancel: false });\n      }\n    }\n  }\n  swipeBounce(\n    duration: number,\n    stretch: number,\n    key: 'x' | 'y',\n    transition?: (\n      key: 'x' | 'y',\n      xySwipe: number,\n      xyBounce: number,\n      option: (v: number) => IAnimationExtendOptions,\n    ) => void,\n  ) {\n    const sizeInfo = this.sizePosition();\n    const maxBounce = sizeInfo[key === 'x' ? 'containerWidth' : 'containerHeight'];\n    const xyScale = 1.2 * this.getDblScale();\n    const xyPos = this.value().transform[key] || 0;\n    const xyRange = this.getTranslation()[key === 'x' ? 0 : 1];\n    const sign = stretch > 0 ? 1 : -1;\n    // 对距离进行优化(最大值是当前双击比例下图片宽度)\n    const _stretch = Math.max(1, Math.min(Math.abs(stretch), xyScale * maxBounce)) * sign;\n    // 对时间进行优化\n    const _duration = Math.max(800, Math.min(2500, duration));\n    if (isBetween(xyPos + _stretch, xyRange)) {\n      if (typeof transition === 'function') {\n        // 交给调用者去计算分配如何transition，并使用回调计算transition配置\n        transition(key, _stretch, 0, () => ({\n          duration: _duration,\n          easing: easeOutQuad,\n        }));\n      } else {\n        // 如果加上惯性滑动距离之后图片未超出边界，则图片直接移动\n        this.apply(new Value({ [key]: xyPos + _stretch }), {\n          ...defaultAnimationExtendOptions,\n          easing: easeOutQuad,\n          duration: _duration,\n        });\n      }\n    } else {\n      // 根据边界算出到达边界要走的的距离，有可能松开时已经超出边界，此时xySwipe是需要减掉的超出部分距离\n      const xySwipe = between(xyPos + _stretch, xyRange) - xyPos;\n      let xyBounce = 0;\n      if (this.isDamping('translate')) {\n        // 计算速度时，如果松开时超出边界，xySwipe肯定为0，其实得到的就是初始速度\n        const velocity =\n          (isBetween(xyPos, xyRange) ? Math.sqrt(1 - Math.abs(xySwipe / _stretch)) : 1) *\n          ((2 * Math.abs(_stretch)) / _duration);\n        // 根据到达边界时速度的大小计算出将要Damping的距离（一个与速度成正比计算方式，最大值不能超过容器宽度的1/4）\n        xyBounce = Math.min(30 * velocity, maxBounce / 4) * sign;\n      }\n      if (typeof transition === 'function') {\n        // 交给调用者去计算分配如何transition，并使用回调计算transition配置\n        transition(key, xySwipe, xyBounce, (xyMove: number) => {\n          // 根据实际走的距离xyMove算出时间占比\n          const kt = 1 - Math.sqrt(1 - Math.abs(xyMove / _stretch));\n          return {\n            duration: kt * _duration,\n            easing: easeOutQuad,\n          };\n        });\n      } else {\n        // 如果松开时超出边界，相当于在xyBounce里减掉超出的部分得到的结果，如果超出很多，远远大于xyBounce，则直接就是0\n        const xyMove = Math.max((xySwipe + xyBounce) * sign, 0) * sign;\n        // 整个减速运动中，移动xyMove的时间占比\n        const kt = 1 - Math.sqrt(1 - Math.abs(xyMove / _stretch));\n        if (xyMove === 0) {\n          // 如果swipe抬起没有移动的距离，则直接归位\n          this.apply(new Value({ [key]: between(xyPos + xyMove, xyRange) }), {\n            ...defaultAnimationExtendOptions,\n          });\n        } else {\n          // 先移动xyMove距离\n          this.apply(new Value({ [key]: xyPos + xyMove }), {\n            ...defaultAnimationExtendOptions,\n            duration: kt * _duration,\n            easing: easeOutQuad,\n          }).then(() => {\n            // 移动后归位\n            this.apply(new Value({ [key]: between(xyPos + xyMove, xyRange) }), {\n              ...defaultAnimationExtendOptions,\n            });\n          });\n        }\n      }\n    }\n  }\n}\n\nexport type IDamping = 'rotate' | 'scale' | 'translate';\n\nexport type ISizePosition = {\n  containerCenter: number[];\n  containerWidth: number;\n  containerHeight: number;\n  naturalWidth: number;\n  naturalHeight: number;\n};\n\nexport type IItemModelOption = {\n  sizePosition?: ISizePosition; // 容器尺寸和元素实际尺寸\n  dblAdjust?: boolean; // 双击中心点是否调整\n  dblScale?: number; // 双击放大比例\n  damping?: IDamping[]; // 哪些操作超出边界可以进行阻尼效果，如果对rotate,scale,translate设置了无边界限制(Infinity)，则阻尼无效\n  scalation?: number[]; // 缩放范围 [0.1, 10]，最小比例0.1和最大比例10\n  translation?: number[][]; // 平移范围 [[-10, 20], [-20, 10]]，x最小-10，最大20，y最小-20，最大10\n  rotation?: number[]; // 旋转范围 [-10, 20]，逆时针可旋转20度和顺时针可旋转10度\n} & ITransitionOptions & { transitionEl?: IElement };\n\nexport default ItemModel;\n","<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 80 80\" xmlns=\"http://www.w3.org/2000/svg\">\n  <defs>\n    <linearGradient\n      x1=\"94.0869141%\"\n      y1=\"0%\"\n      x2=\"94.0869141%\"\n      y2=\"90.559082%\"\n      id=\"linearGradient-1\"\n    >\n      <stop stop-color=\"#fff\" stop-opacity=\"0\" offset=\"0%\" />\n      <stop stop-color=\"#fff\" stop-opacity=\"0.3\" offset=\"100%\" />\n    </linearGradient>\n    <linearGradient\n      x1=\"100%\"\n      y1=\"8.67370605%\"\n      x2=\"100%\"\n      y2=\"90.6286621%\"\n      id=\"linearGradient-2\"\n    >\n      <stop stop-color=\"#fff\" offset=\"0%\" />\n      <stop stop-color=\"#fff\" stop-opacity=\"0.3\" offset=\"100%\" />\n    </linearGradient>\n  </defs>\n  <g\n    stroke=\"none\"\n    stroke-width=\"1\"\n    fill=\"none\"\n    fill-rule=\"evenodd\"\n    opacity=\"0.9\"\n  >\n    <g>\n      <path\n        d=\"M40,0 C62.09139,0 80,17.90861 80,40 C80,62.09139 62.09139,80 40,80 L40,73 C58.2253967,73 73,58.2253967 73,40 C73,21.7746033 58.2253967,7 40,7 L40,0 Z\"\n        fill=\"url(#linearGradient-1)\"\n      />\n      <path\n        d=\"M40,0 L40,7 C21.7746033,7 7,21.7746033 7,40 C7,58.2253967 21.7746033,73 40,73 L40,80 C17.90861,80 0,62.09139 0,40 C0,17.90861 17.90861,0 40,0 Z\"\n        fill=\"url(#linearGradient-2)\"\n      />\n      <circle id=\"Oval\" fill=\"#fff\" cx=\"40.5\" cy=\"3.5\" r=\"3.5\" />\n    </g>\n    <animateTransform\n      attributeName=\"transform\"\n      begin=\"0s\"\n      dur=\"1s\"\n      type=\"rotate\"\n      values=\"0 40 40;360 40 40\"\n      repeatCount=\"indefinite\"\n    />\n  </g>\n</svg>\n","<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" fill=\"#fff\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path\n    d=\"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.763-15.864l.11 7.596h1.305l.11-7.596h-1.525zm.759 10.967c.512 0 .902-.383.902-.882 0-.5-.39-.882-.902-.882a.878.878 0 00-.896.882c0 .499.396.882.896.882z\" />\n</svg>\n","/*\n * @Author: Huangjs\n * @Date: 2023-08-08 16:47:13\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 16:07:38\n * @Description: ******\n */\n\nimport React from 'react';\nimport { isTouchable } from '@huangjs888/gesture';\nimport { useChanged } from './useChanged';\nimport { useDerivedState } from './useDerivedState';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { ItemModel, type ISPBox } from '../core';\nimport Loading from '../svg/loading.svg';\nimport Error from '../svg/error.svg';\nimport '../style/image.less';\n\ntype IImageRef = {\n  findImageElement: () => HTMLImageElement | null | undefined;\n  findDOMElement: () => HTMLDivElement | null | undefined;\n  getInstance: () => ItemModel | null | undefined;\n};\n\nexport interface IImageProps {\n  className?: string; // 样式类\n  style?: React.CSSProperties; // 样式\n  imgStyle?: React.CSSProperties; // 图片样式\n  src?: string; // 图片url地址\n  alt?: string; // 图片说明\n  error?: false | (() => React.ReactElement | null); // 是否显示错误提示\n  loading?: false | (() => React.ReactElement | null); // 是否显示loading信息\n  active?: boolean; // 是否准备加载\n  vspBox?: ISPBox; // 装在image的容器的位置和尺寸\n}\n\nconst defaultRenderError = () => {\n  return (\n    <div className=\"preview-image__image__error\">\n      <span>\n        <Error width=\"100%\" height=\"100%\" />\n      </span>\n      <span style={{ marginTop: 16 }}>图片加载失败</span>\n    </div>\n  );\n};\nconst defaultRenderLoading = () => {\n  return (\n    <span className=\"preview-image__image__loading\">\n      <Loading width=\"100%\" height=\"100%\" />\n    </span>\n  );\n};\n\nexport default React.forwardRef<IImageRef, IImageProps>(\n  (\n    { src = '', alt = '', style, imgStyle, className, vspBox, loading, error, active = true },\n    ref,\n  ) => {\n    const wrapperRef = React.useRef<HTMLDivElement | null>(null);\n    const imageRef = React.useRef<HTMLImageElement | null>(null);\n    const itemModelRef = React.useRef<ItemModel | null>(null);\n    const [status, setStatus] = useDerivedState<number>(0, function useCompare(prev) {\n      let _status = prev;\n      if (useChanged(src)) {\n        _status = 0;\n      }\n      if (_status === 0 && active) {\n        _status = 1;\n      }\n      return _status;\n    });\n    useIsomorphicLayoutEffect(() => {\n      itemModelRef.current = new ItemModel({\n        transitionEl: () => imageRef.current,\n        rotation: !isTouchable() ? [-Number.MAX_VALUE, Number.MAX_VALUE] : undefined,\n        scalation: !isTouchable() ? [0.1, 10] : undefined,\n      });\n    }, []);\n\n    React.useImperativeHandle(\n      ref,\n      (): IImageRef => ({\n        findImageElement: () => (status === 2 ? imageRef.current : null),\n        findDOMElement: () => (status === 2 ? wrapperRef.current : null),\n        getInstance: () => (status === 2 ? itemModelRef.current : null),\n      }),\n      [status],\n    );\n\n    const imageSize = React.useMemo(() => {\n      const size = {\n        containerCenter: [0, 0],\n        containerWidth: 0,\n        containerHeight: 0,\n        naturalWidth: 0,\n        naturalHeight: 0,\n      };\n      const imageEl = imageRef.current;\n      if (imageEl && status === 2) {\n        const nWidth = imageEl.naturalWidth;\n        const nHeight = imageEl.naturalHeight;\n        const { x = 0, y = 0, w = 0, h = 0 } = vspBox || {};\n        size.containerCenter = [x, y];\n        size.containerWidth = w;\n        size.containerHeight = h;\n        size.naturalWidth = nWidth;\n        size.naturalHeight = nHeight;\n      }\n      const itemModel = itemModelRef.current;\n      const _imageSize = { width: 0, height: 0 };\n      if (itemModel) {\n        const { elementWidth, elementHeight } = itemModel.sizePosition(size);\n        _imageSize.width = elementWidth;\n        _imageSize.height = elementHeight;\n      }\n      return _imageSize;\n    }, [vspBox, status]);\n\n    return (\n      <div\n        ref={wrapperRef}\n        className={`preview-image__image__wrapper${!className ? '' : ` ${className}`}`}\n        style={{\n          alignItems: (vspBox?.h || 0) < imageSize.height ? 'flex-start' : 'center',\n          ...(style || {}),\n        }}>\n        <img\n          ref={imageRef}\n          style={{ ...imgStyle }}\n          alt={alt}\n          onLoad={() => setStatus(2)}\n          onError={() => setStatus(3)}\n          {...(status > 0 ? { src } : {})}\n          {...imageSize}\n        />\n        {}\n        {status <= 1 && loading !== false && (loading || defaultRenderLoading)()}\n        {status === 3 && error !== false && (error || defaultRenderError)()}\n      </div>\n    );\n  },\n);\n","let e;function t(t){if(\"undefined\"==typeof document)return 0;if(t||void 0===e){const t=document.createElement(\"div\");t.style.width=\"100%\",t.style.height=\"200px\";const n=document.createElement(\"div\"),o=n.style;o.position=\"absolute\",o.top=\"0\",o.left=\"0\",o.pointerEvents=\"none\",o.visibility=\"hidden\",o.width=\"200px\",o.height=\"150px\",o.overflow=\"hidden\",n.appendChild(t),document.body.appendChild(n);const i=t.offsetWidth;n.style.overflow=\"scroll\";let r=t.offsetWidth;i===r&&(r=n.clientWidth),document.body.removeChild(n),e=i-r}return e}function n(e){const n=e.match(/^(.*)px$/),o=Number(null==n?void 0:n[1]);return Number.isNaN(o)?t():o}function o(e){return e.replace(/([A-Z])/g,\"-$1\").toLocaleLowerCase()}function i(e){return e.replace(/-(.?)/g,(e=>e.replace(\"-\",\"\").toLocaleUpperCase()))}function r(e){if(\"boolean\"==typeof e){const n=t(e);return{width:n,height:n}}if(!(\"undefined\"!=typeof document&&e&&e instanceof Element))return{width:0,height:0};const{width:o,height:i}=getComputedStyle(e,\"::-webkit-scrollbar\");return{width:n(o),height:n(i)}}function c(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function d(e,t){let n=document.querySelector(\"#\"+e);n||(n=document.createElement(\"style\"),n.id=e,n.appendChild(document.createTextNode(t)),(document.head||document.getElementsByTagName(\"head\")[0]).appendChild(n))}const l=/^(?:-border(?:-top|-right|-bottom|-left)?(?:-width|)|(?:-margin|-padding)?(?:-top|-right|-bottom|-left)?|(?:-min|-max)?(?:-width|-height))$/;function s(e,t){if(e&&t){let n=\"\";Object.keys(t).forEach((i=>{const r=o(i),c=t[i];if(c||0===c){const e=\"number\"==typeof c&&/^[a-z]/.test(r)&&l.test(\"-\"+r)?\"px\":\"\";n+=`${r}: ${c}${e};`}else e.style.removeProperty(r)})),e.style.cssText+=n}return e}function u(e,t){return!(!e||!t)&&e.classList.contains(t)}function a(e,t){return e&&t&&(Array.isArray(t)?t:t.split(\" \")).forEach((t=>t&&e.classList.add(t))),e}function h(e,t){return e&&t&&(Array.isArray(t)?t:t.split(\" \")).forEach((t=>t&&e.classList.remove(t))),e}function f(e){let t=e;return\"string\"==typeof e&&(t=document.querySelector(e)),\"function\"==typeof e&&(t=e()),t||null}function m(e,t,n,i){var r;let c,d,l,u;\"string\"==typeof e?(c=e,d=t||{},l=Array.isArray(n)?n:[n],u=i):(c=\"div\",d=e||{},l=Array.isArray(t)?t:[t],u=n);const h=s(a(document.createElement(c),d.className),d.style),m=d.attrs||{};return Object.keys(m).forEach((e=>{const t=o(e);\"innerHTML\"!==e&&\"className\"!==e&&\"style\"!==e&&t in h&&(h[t]=m[e])})),l.forEach((e=>{e instanceof Element?null==h||h.appendChild(e):h&&null!=e&&(h.innerHTML=e+\"\")})),null==(r=f(u))||r.appendChild(h),h}export{a as addClass,m as createElement,d as cssInject,f as getElement,r as getScrollBarSize,u as hasClass,o as humpToHyphen,i as hyphenToHump,c as isBodyOverflowing,h as removeClass,s as setStyle};\n//# sourceMappingURL=lightdom.min.js.map\n","/*\n * @Author: Huangjs\n * @Date: 2023-08-08 16:47:13\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 16:07:53\n * @Description: ******\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { getScrollBarSize, isBodyOverflowing } from '@huangjs888/lightdom';\nimport { canUseDOM, useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n\nfunction getContainer(container?: IContainer) {\n  if (container === false) {\n    return false;\n  }\n  if (!canUseDOM()) {\n    return null;\n  }\n  let _container: any = container;\n  if (typeof container === 'string') {\n    _container = document.querySelector(container);\n  }\n  if (typeof container === 'function') {\n    _container = container();\n  }\n  return _container || null;\n}\n\ntype IElement = Element | DocumentFragment | null;\n\nexport type IContainer = false | string | IElement | (() => IElement);\n\nexport type IPortalProps = {\n  container?: IContainer;\n  lockOverflow?: boolean;\n  destroy?: boolean;\n  children?: React.ReactNode;\n};\n\nexport default ({ container, destroy, lockOverflow, children }: IPortalProps) => {\n  const [specifyEle, setSpecifyEle] = React.useState<IElement | null | false>(() =>\n    getContainer(container),\n  );\n  const [defalutEle] = React.useState<IElement | null>(() => {\n    if (!canUseDOM()) {\n      return null;\n    }\n    return document.createElement('div');\n  });\n\n  useIsomorphicLayoutEffect(() => setSpecifyEle(getContainer(container)), [container]);\n\n  const defaultEleRender = !destroy && specifyEle === null;\n  useIsomorphicLayoutEffect(() => {\n    if (defaultEleRender) {\n      defalutEle && document.body.appendChild(defalutEle);\n    } else {\n      defalutEle?.parentElement?.removeChild(defalutEle);\n    }\n    return () => {\n      defalutEle?.parentElement?.removeChild(defalutEle);\n    };\n  }, [defalutEle, defaultEleRender]);\n\n  const finalEle = specifyEle ?? defalutEle;\n  const lock =\n    lockOverflow && canUseDOM() && (finalEle === defalutEle || finalEle === document.body);\n  const overflowRef = React.useRef<string>('');\n  useIsomorphicLayoutEffect(() => {\n    const body = document.body;\n    const html = body.parentElement;\n    if (lock) {\n      const isOverflow = isBodyOverflowing();\n      const scrollbarSize = getScrollBarSize(body).width;\n      const width = isOverflow ? `calc(100% - ${scrollbarSize}px)` : '';\n      const overflow = [];\n      overflow[0] = body.style.overflow;\n      body.style.overflow = 'hidden';\n      overflow[1] = body.style.width;\n      body.style.width = width;\n      if (html) {\n        overflow[2] = html.style.overflow;\n        html.style.overflow = 'hidden';\n        overflow[3] = html.style.width;\n        html.style.width = width;\n      }\n      overflowRef.current = overflow.join('-');\n    } else {\n      const overflow = overflowRef.current.split('-');\n      overflowRef.current = '';\n      body.style.overflow = overflow[0];\n      body.style.width = overflow[1];\n      if (html) {\n        html.style.overflow = overflow[2];\n        html.style.width = overflow[3];\n      }\n    }\n    return () => {\n      const overflow = overflowRef.current.split('-');\n      overflowRef.current = '';\n      body.style.overflow = overflow[0];\n      body.style.width = overflow[1];\n      if (html) {\n        html.style.overflow = overflow[2];\n        html.style.width = overflow[3];\n      }\n    };\n  }, [lock]);\n\n  if (destroy || !canUseDOM() || finalEle === null) {\n    return null;\n  }\n  return (\n    <React.Fragment>\n      {finalEle === false ? children : ReactDOM.createPortal(children, finalEle)}\n    </React.Fragment>\n  );\n};\n","/*\n * @Author: Huangjs\n * @Date: 2023-08-24 16:40:36\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-09-07 13:16:35\n * @Description: ******\n */\n\nimport React from 'react';\n\n// 父组件传来的数据不断变化，但是最返回的包装数据是始终不变的，防止因为父组件传来的数据变化增加不必需要的渲染\nexport function useStableMemo<T>(data: T) {\n  const dataRef = React.useRef<{ data: T }>({ data });\n  dataRef.current.data = data;\n  return React.useMemo(() => dataRef.current, []);\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-07-28 09:57:17\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-09-13 15:28:46\n * @Description: ******\n */\n\nimport { isTouchable, type IGestureEvent } from '@huangjs888/gesture';\nimport type { SwiperModel, ItemModel } from '../core';\n\nexport default function rotate(this: SwiperModel<ItemModel | null>, event: IGestureEvent) {\n  // 只有鼠标操作才可以，touch操作被放入到pointerMove中了\n  if (isTouchable()) {\n    return;\n  }\n  const item = this.currentItem();\n  if (this.running() || item?.running()) {\n    return;\n  }\n  // diff===0表示目前没有进行任何move操作（使用Math.round，因为像素精确到1）\n  const translate = -this.activeIndex() * this.itemSize();\n  const diff = Math.round(this.value().transform.default - translate);\n  if (diff === 0) {\n    const { angle: a = 0 } = event;\n    if (isNaN(a)) {\n      // 表示停止旋转，应该重置\n      item?.resetBounce();\n    } else {\n      item?.moveBounce(a, 1, 0, 0);\n    }\n  }\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-07-28 09:57:17\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-09-12 17:43:53\n * @Description: ******\n */\n\nimport { isTouchable, type IGestureEvent } from '@huangjs888/gesture';\nimport type { SwiperModel, ItemModel } from '../core';\n\nexport default function scale(this: SwiperModel<ItemModel | null>, event: IGestureEvent) {\n  // 只有鼠标操作才可以，touch操作被放入到pointerMove中了\n  if (isTouchable()) {\n    return;\n  }\n  const item = this.currentItem();\n  if (this.running() || item?.running()) {\n    return;\n  }\n  // diff===0表示目前没有进行任何move操作（使用Math.round，因为像素精确到1）\n  const translate = -this.activeIndex() * this.itemSize();\n  const diff = Math.round(this.value().transform.default - translate);\n  if (diff === 0) {\n    // const point = event.getPoint();\n    const { scale: k = 1 } = event;\n    if (isNaN(k)) {\n      // 表示停止缩放，应该重置\n      item?.resetBounce();\n    } else {\n      item?.moveBounce(0, k, 0, 0 /* , point */);\n    }\n  }\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-07-28 09:57:17\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-09-18 17:25:24\n * @Description: ******\n */\n\nimport type { IGestureEvent } from '@huangjs888/gesture';\nimport type { SwiperModel, ItemModel, ICallback } from '../core';\n\nexport default function longTap(\n  this: SwiperModel<ItemModel | null>,\n  event: IGestureEvent,\n  { popupMenu }: ICallback,\n) {\n  const item = this.currentItem();\n  if (this.running() || item?.running()) {\n    return;\n  }\n  popupMenu?.(event);\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-07-28 09:57:17\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 16:11:44\n * @Description: ******\n */\n\nimport type { IGestureEvent } from '@huangjs888/gesture';\nimport type { SwiperModel, ItemModel, ICallback } from '../core';\n\nexport default function singleTap(\n  this: SwiperModel<ItemModel | null>,\n  event: IGestureEvent,\n  { internalClose }: ICallback,\n) {\n  const item = this.currentItem();\n  if (this.running() || item?.running()) {\n    return;\n  }\n  internalClose?.(event);\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-07-28 09:57:17\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 16:11:24\n * @Description: ******\n */\n\nimport type { IGestureEvent } from '@huangjs888/gesture';\nimport { Value, type IAnimationExtendOptions } from '@huangjs888/transition';\nimport {\n  type SwiperModel,\n  type ItemModel,\n  type ICallback,\n  defaultAnimationExtendOptions,\n} from '../core';\n\nexport default function swipe(\n  this: SwiperModel<ItemModel | null>,\n  event: IGestureEvent,\n  { internalClose, slideBefore, slideAfter }: ICallback,\n) {\n  const item = this.currentItem();\n  if (this.running() || item?.running()) {\n    return;\n  }\n  const { direction } = event;\n  const isForward =\n    (direction === 'Right' && this.isHorizontal()) || (direction === 'Down' && this.isVertical());\n  const translate = -this.activeIndex() * this.itemSize();\n  // 启动swipe时，已经Damping的部分\n  const diff = this.value().transform.default - translate;\n  const diffXY =\n    ((isForward && diff < 0) || (!isForward && diff > 0)) && Math.round(diff) !== 0 ? -diff : 0;\n  if (this._moveTarget === 'inside') {\n    if (item) {\n      const { velocity = 0, swipeComputed } = event;\n      if (velocity > 0 && swipeComputed) {\n        const that = this;\n        const transition = (\n          key: 'x' | 'y',\n          xySwipe: number,\n          xyBounce: number,\n          option: (v: number) => IAnimationExtendOptions,\n        ) => {\n          if (xySwipe !== 0) {\n            const { duration, easing } = option(xySwipe + xyBounce);\n            // 在未超出边界时启动swipe\n            if (xyBounce !== 0) {\n              // 超出边界\n              Promise.all([\n                // 外部damping反方向恢复\n                diffXY !== 0\n                  ? that.apply(new Value(translate), {\n                      ...defaultAnimationExtendOptions,\n                      duration,\n                      easing,\n                      // 先走 diffXY ，走完之后，后面就一直 1\n                      before: (progress) =>\n                        Math.min(\n                          (Math.abs(diffXY + xySwipe + xyBounce) * progress) / Math.abs(diffXY),\n                          1,\n                        ),\n                    })\n                  : Promise.resolve(),\n                // 图片走到边界距离xySwipe\n                item.apply(new Value({ [key]: (item.value().transform[key] || 0) + xySwipe }), {\n                  ...defaultAnimationExtendOptions,\n                  duration,\n                  easing,\n                  // 接着走 xySwipe ，没走到之前都是0，走完之后，后面就一直 1\n                  before: (progress) =>\n                    Math.min(\n                      Math.max(\n                        (Math.abs(diffXY + xySwipe + xyBounce) * progress - Math.abs(diffXY)) /\n                          Math.abs(xySwipe),\n                        0,\n                      ),\n                      1,\n                    ),\n                }),\n                // 外部走damping距离xyBounce\n                that.apply(new Value(translate + xyBounce), {\n                  ...defaultAnimationExtendOptions,\n                  duration,\n                  easing,\n                  // 后走 xyBounce ，没走之前，前面一直 0\n                  before: (progress) =>\n                    Math.max(\n                      (Math.abs(diffXY + xySwipe + xyBounce) * progress -\n                        Math.abs(diffXY) -\n                        Math.abs(xySwipe)) /\n                        Math.abs(xyBounce),\n                      0,\n                    ),\n                }),\n              ]).then(() => {\n                // 外部归位\n                that.apply(new Value(translate), {\n                  ...defaultAnimationExtendOptions,\n                });\n              });\n            } else {\n              // 未超出边界\n              if (diffXY !== 0) {\n                // 外部damping反方向恢复\n                that.apply(new Value(translate), {\n                  ...defaultAnimationExtendOptions,\n                  duration,\n                  easing,\n                  // 先走 diffXY ，走完之后，后面就一直 1\n                  before: (progress) =>\n                    Math.min((Math.abs(diffXY + xySwipe) * progress) / Math.abs(diffXY), 1),\n                });\n              }\n              // 图片走xySwipe\n              item.apply(new Value({ [key]: (item.value().transform[key] || 0) + xySwipe }), {\n                ...defaultAnimationExtendOptions,\n                duration,\n                easing,\n                // 后走 xySwipe ，没走之前，前面一直 0\n                before: (progress) =>\n                  Math.max(\n                    (Math.abs(diffXY + xySwipe) * progress - Math.abs(diffXY)) / Math.abs(xySwipe),\n                    0,\n                  ),\n              });\n            }\n          } else {\n            // 在超出边界时启动swipe，且swipe方向是远离超出边界的方向\n            const sign = diff > 0 ? 1 : -1;\n            // 如果松开时超出边界，相当于在xyBounce里减掉超出的部分得到的结果，如果超出很多，远远大于xyBounce，则直接就是0\n            const xyMove = Math.max((xyBounce - diff) * sign, 0) * sign;\n            const { duration, easing } = option(xyMove);\n            if (xyMove === 0) {\n              // 外部直接归位\n              that.apply(new Value(translate), {\n                ...defaultAnimationExtendOptions,\n              });\n            } else {\n              that\n                .apply(new Value(translate + diff + xyMove), {\n                  ...defaultAnimationExtendOptions,\n                  duration,\n                  easing,\n                })\n                .then(() => {\n                  // 外部归位\n                  that.apply(new Value(translate), {\n                    ...defaultAnimationExtendOptions,\n                  });\n                });\n            }\n          }\n        };\n        // 按照0.003的减速度减速运行得到减速到0时的时间和x，y方向的分量距离\n        const { duration, stretchX, stretchY } = swipeComputed(0.003);\n        if (this.isVertical()) {\n          const xRange = item.getXTranslation();\n          // 竖向的时候固定x\n          if (!(xRange[0] === 0 && xRange[1] === 0)) {\n            item.swipeBounce(duration, stretchX, 'x');\n          }\n          item.swipeBounce(duration, stretchY - diffXY, 'y', transition);\n        } else {\n          item.swipeBounce(duration, stretchX - diffXY, 'x', transition);\n          const yRange = item.getYTranslation();\n          // 横向的时候固定y\n          if (!(yRange[0] === 0 && yRange[1] === 0)) {\n            item.swipeBounce(duration, stretchY, 'y');\n          }\n        }\n      }\n    } else {\n      // 如果item不存在，却越界了，则抬起需要恢复\n      this.slide(this.activeIndex(), {\n        before: slideBefore as (v: number) => void,\n        after: slideAfter as (v: number) => void,\n      });\n    }\n    return;\n  }\n  if (this._moveTarget === 'closures') {\n    // 如果滑动方向是向下的或向右的，执行关闭操作\n    const isClose =\n      (direction === 'Down' && this.isHorizontal()) || (direction === 'Right' && this.isVertical());\n    if (this.swipeClose() && isClose && internalClose?.(event)) {\n      // 这里设置目的是真正关闭后不再执行end里的closures\n      this._moveTarget = 'none';\n    }\n    return;\n  }\n  const size = this.itemSize();\n  const index = size === 0 ? 0 : -this.value().transform.default / size;\n  this.slide(Math[isForward ? 'floor' : 'ceil'](index), {\n    before: slideBefore as (v: number) => void,\n    after: slideAfter as (v: number) => void,\n  });\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-07-28 09:57:17\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 16:09:31\n * @Description: ******\n */\n\nimport type { IGestureEvent } from '@huangjs888/gesture';\nimport type { SwiperModel, ItemModel } from '../core';\n\nexport default function doubleTap(this: SwiperModel<ItemModel | null>, event: IGestureEvent) {\n  const item = this.currentItem();\n  if (this.running() || item?.running()) {\n    return;\n  }\n  // diff===0 表示目前没有进行任何move操作（使用Math.round，因为像素精确到1）\n  const translate = -this.activeIndex() * this.itemSize();\n  const diff = Math.round(this.value().transform.default - translate);\n  if (diff === 0) {\n    item?.dblScale(event.getPoint());\n  }\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-07-28 09:57:17\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 16:10:33\n * @Description: ******\n */\nimport type { IGestureEvent } from '@huangjs888/gesture';\nimport { Value } from '@huangjs888/transition';\nimport { between, isBetween } from '../utils';\nimport type { SwiperModel, ItemModel, ICallback } from '../core';\n\nexport default function pointerStart(\n  this: SwiperModel<ItemModel | null>,\n  event: IGestureEvent,\n  { preventAllTap }: ICallback,\n) {\n  if (this._fgBehavior === 0 && event.pointers.length > 1) {\n    // 第一根手指放上去，紧接着再放一根手指（或者直接一下子放了两个手指），此时标记为2\n    this._fgBehavior = 2;\n  }\n  let stopCount = 0;\n  stopCount += this.cancel();\n  const item = this.currentItem();\n  stopCount += item?.cancel() || 0;\n  if (stopCount > 0) {\n    // 如果有动画停止，此时处于内外部同时，则非边缘图片的内部damping需要立马恢复（微信这么干的）\n    if (item) {\n      const { x: tx = 0, y: ty = 0, ...rest } = item.value().transform;\n      const [xRange, yRange] = item.getTranslation();\n      // 是否是边缘图片\n      const isFirst = this.activeIndex() === 0;\n      const isLast = this.activeIndex() === this.countItems() - 1;\n      if (this.isVertical()) {\n        if (\n          !isBetween(tx, xRange) &&\n          ((ty <= yRange[0] && !isLast) || (ty >= yRange[1] && !isFirst))\n        ) {\n          // 非边缘图片，且y方向超出边界，x方向也超出边界的，x给予恢复到边界\n          item.apply(new Value({ x: between(tx, xRange), y: ty, ...rest }));\n        }\n      } else {\n        if (\n          !isBetween(ty, yRange) &&\n          ((tx <= xRange[0] && !isLast) || (tx >= xRange[1] && !isFirst))\n        ) {\n          // 非边缘图片，且x方向超出边界，y方向也超出边界的，y给予恢复到边界\n          item.apply(new Value({ x: tx, y: between(ty, yRange), ...rest }));\n        }\n      }\n    }\n    // 如果有动画停止，则阻止所有单指点击相关事件（就像是移动了一下一样）\n    preventAllTap?.();\n  }\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-07-28 09:57:17\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 16:10:07\n * @Description: ******\n */\n\nimport type { IGestureEvent } from '@huangjs888/gesture';\nimport { Value } from '@huangjs888/transition';\nimport { revokeDamping, performDamping } from '@huangjs888/damping';\nimport { between } from '../utils';\nimport type { SwiperModel, ItemModel, ICallback, IOpenStyle, ISPBox } from '../core';\n\nconst minScale = 0.3; // swipeClose下拉最小缩放比例\nconst minOpacity = 0.01; // swipeClose下拉最小透明度\nconst isRightDown = (isVertical: boolean, [x0, y0]: number[], [x1, y1]: number[]) => {\n  if (isVertical) {\n    return Math.abs(x0 - x1) > 4 * Math.abs(y0 - y1) && x0 - x1 <= 0;\n  } else {\n    return Math.abs(y0 - y1) > 4 * Math.abs(x0 - x1) && y0 - y1 <= 0;\n  }\n};\nexport default function pointerMove(\n  this: SwiperModel<ItemModel | null>,\n  event: IGestureEvent,\n  { openStyleChange }: ICallback,\n) {\n  if (this._fgBehavior === 0 && event.pointers.length === 1) {\n    // 第一根手指放上去，然后直接移动，此时标记为1\n    this._fgBehavior = 1;\n  }\n  const item = this.currentItem();\n  if (this.running() || item?.running()) {\n    return;\n  }\n  const onePointer = event.pointers.length === 1 || this._fgBehavior === 1;\n  const maxOption = { max: this.itemSize() };\n  const {\n    getPoint,\n    direction,\n    angle = 0,\n    scale = 1,\n    deltaX = 0,\n    deltaY = 0,\n    moveX = 0,\n    moveY = 0,\n  } = event;\n  const point = getPoint();\n  if (this._moveTarget === 'none') {\n    const point0 = getPoint('previous');\n    // 多指或者不满足以下条件的，则做图片操作\n    if (item) {\n      this._moveTarget = 'inside';\n      if (onePointer) {\n        // 是否是边缘图片\n        const isFirst = this.activeIndex() === 0;\n        const isLast = this.activeIndex() === this.countItems() - 1;\n        const rightDown = isRightDown(this.isVertical(), point0, point);\n        const { x: tx = 0, y: ty = 0 } = item.value().transform;\n        const [xRange, yRange] = item.getTranslation();\n        // 单指行为时，根据图片位置，判断后续为外部swiper操作还是内部图片操作\n        if (this.isVertical()) {\n          if (this.swipeClose() && tx >= xRange[1] && rightDown) {\n            this._moveTarget = 'closures';\n          } else {\n            // 如果x方向没有可以移动的范围，则判断向上还是向下使用deltaY的正负，否则使用direction值\n            const fixedX = xRange[0] === 0 && xRange[1] === 0;\n            // 如果x的范围是[0,0]，则判断上下移动，直接根据deltaY的正负\n            // 否则需要根据移动方向（因为移动方向是按照45度分开的）\n            const upMove = fixedX ? deltaY < 0 : direction === 'Up';\n            const downMove = fixedX ? deltaY > 0 : direction === 'Down';\n            // 如果图片上边抵达或超出上边界，仍然向下滑动（不是第一张图）\n            // 或者下边抵达或超出下边界，仍然向上滑动（不是最后一张图），则为swiper，反之为图片操作\n            // 因为第一张图片和最后一张都是边缘图片（边缘图片向两边swipe时，是没有上一张或下一张的），无需外部swipe操作，直接走内部图片操作\n            if (\n              (ty <= yRange[0] && upMove && !isLast) ||\n              (ty >= yRange[1] && downMove && !isFirst)\n            ) {\n              this._moveTarget = 'outside';\n            }\n          }\n        } else {\n          if (this.swipeClose() && ty >= yRange[1] && rightDown) {\n            this._moveTarget = 'closures';\n          } else {\n            // 如果y方向没有可以移动的范围，则判断向左还是向右使用deltaX的正负，否则使用direction值\n            const fixedY = yRange[0] === 0 && yRange[1] === 0;\n            // 如果y的范围是[0,0]，则判断左右移动，直接根据deltaX的正负\n            // 否则需要根据移动方向（因为移动方向是按照45度分开的）\n            const leftMove = fixedY ? deltaX < 0 : direction === 'Left';\n            const rightMove = fixedY ? deltaX > 0 : direction === 'Right';\n            // 如果图片左边抵达或超出左边界，仍然向右滑动（不是第一张图）\n            // 或者右边抵达或超出右边界，仍然向左滑动（不是最后一张图），则为swiper操作，反之为图片操作\n            if (\n              (tx <= xRange[0] && leftMove && !isLast) ||\n              (tx >= xRange[1] && rightMove && !isFirst)\n            ) {\n              this._moveTarget = 'outside';\n            }\n          }\n        }\n      }\n    } else {\n      this._moveTarget =\n        this.swipeClose() && isRightDown(this.isVertical(), point0, point) ? 'closures' : 'outside';\n    }\n  }\n  // 进入内部图片操作\n  if (this._moveTarget === 'inside') {\n    if (item) {\n      // 计算出外部swiper移动的原始距离diff\n      const translate = -this.activeIndex() * this.itemSize();\n      const diff = revokeDamping(this.value().transform.default - translate, maxOption);\n      let _deltaX = deltaX;\n      let _deltaY = deltaY;\n      // 把swiper移动的原始距离加进去\n      if (this.isVertical()) {\n        _deltaY += diff;\n      } else {\n        _deltaX += diff;\n      }\n      if (onePointer) {\n        const { x: tx = 0, y: ty = 0 } = item.value().transform;\n        const [xRange, yRange] = item.getTranslation();\n        let _delta = 0;\n        if (this.isVertical()) {\n          // 如果x方向没有可以移动的范围，则判断向上还是向下使用deltaY的正负，否则使用direction值\n          const fixedX = xRange[0] === 0 && xRange[1] === 0;\n          _delta = _deltaY;\n          // 竖向的时候固定x\n          _deltaX = fixedX ? 0 : _deltaX;\n          // 内部图片，最多移动到边界\n          _deltaY = between(_deltaY + ty, yRange) - ty;\n          // 超出部分由外部swiper移动\n          _delta -= _deltaY;\n        } else {\n          // 如果y方向没有可以移动的范围，则判断向左还是向右使用deltaX的正负，否则使用direction值\n          const fixedY = yRange[0] === 0 && yRange[1] === 0;\n          _delta = _deltaX;\n          // 内部图片，最多移动到边界\n          _deltaX = between(_deltaX + tx, xRange) - tx;\n          // 横向的时候固定y\n          _deltaY = fixedY ? 0 : _deltaY;\n          // 超出部分由外部swiper移动\n          _delta -= _deltaX;\n        }\n        // 内部图片需要移动的距离\n        item.moveBounce(0, 1, _deltaX, _deltaY, point);\n        // 外部swiper需要移动的距离\n        this.apply(new Value(translate + performDamping(_delta, maxOption)));\n      } else {\n        item.moveBounce(angle, scale, _deltaX, _deltaY, point);\n        if (diff !== 0) {\n          // 多指移动前，将外部swiper移动的部分归位（内部image会把swiper的距离加进去）\n          this.apply(new Value(translate));\n        }\n      }\n    }\n    return;\n  }\n  if (this._moveTarget === 'closures') {\n    openStyleChange?.((prevStyle: IOpenStyle, vspBox: ISPBox) => {\n      const { w = 0, h = 0, x: sx = 0, y: sy = 0 } = vspBox;\n      const k = Math.min(\n        Math.max(1 - ((this.isVertical() ? moveX / w : moveY / h) || 0), minScale),\n        1,\n      );\n      const o = minOpacity + ((k - minScale) * (1 - minOpacity)) / (1 - minScale);\n      const { k: _k = 1, x: _x = 0, y: _y = 0 } = prevStyle;\n      const x = _x + deltaX + (point[0] - (_x + sx)) * (1 - k / _k);\n      const y = _y + deltaY + (point[1] - (_y + sy)) * (1 - k / _k);\n      return { o, k, x, y };\n    });\n    return;\n  }\n  // 非内部图片操作，均是外部swiper操作\n  const swiperRange = [(1 - this.countItems()) * this.itemSize(), 0];\n  // 先把当前值反算出阻尼之前的原值\n  let bt = between(this.value().transform.default, swiperRange);\n  let t = bt + revokeDamping(this.value().transform.default - bt, maxOption);\n  // 再对总值进行总体阻尼计算\n  bt = between((t += this.isVertical() ? deltaY : deltaX), swiperRange);\n  t = bt + performDamping(t - bt, maxOption);\n  this.apply(new Value(t));\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-07-28 09:57:17\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-09-19 14:13:38\n * @Description: ******\n */\n\nimport type { IGestureEvent } from '@huangjs888/gesture';\nimport type { SwiperModel, ItemModel, ICallback } from '../core';\n\nexport default function pointerEnd(\n  this: SwiperModel<ItemModel | null>,\n  event: IGestureEvent,\n  { openStyleChange, slideBefore, slideAfter }: ICallback,\n) {\n  // 单指抬起的情况才可以取消动画\n  const target = this._moveTarget;\n  const cancel = event.leavePointers.length === 1 || this._fgBehavior === 1;\n  if (event.pointers.length === 0) {\n    // 抬起最后一根手指时，重置以下参数\n    this._fgBehavior = 0;\n    this._moveTarget = 'none';\n  } else if (this._fgBehavior === 1) {\n    // 多指视作单指时，抬起非最后一根手指，不做任何操作\n    // 微信这种情况下是slide了，其实我觉得吧，可以不用，影响不大\n    if (!this.running() && target === 'outside') {\n      const size = this.itemSize();\n      const index = size === 0 ? 0 : -this.value().transform.default / size;\n      this.slide(Math.round(index), {\n        before: slideBefore as (v: number) => void,\n        after: slideAfter as (v: number) => void,\n      });\n    }\n    return;\n  }\n  const item = this.currentItem();\n  if (this.running() || item?.running()) {\n    return;\n  }\n  if (target === 'closures') {\n    openStyleChange?.(() => ({ o: 1, k: 1, x: 0, y: 0, t: 300 }));\n    return;\n  }\n  item?.resetBounce(event.getPoint(), cancel);\n  // 如果移动到越界，则抬起需要恢复\n  let index = this.activeIndex();\n  if (target === 'outside') {\n    const size = this.itemSize();\n    // Math.round代表移动超过一半，就下一张\n    index = Math.round(size === 0 ? 0 : -this.value().transform.default / size);\n  }\n  this.slide(index, {\n    before: slideBefore as (v: number) => void,\n    after: slideAfter as (v: number) => void,\n  });\n}\n","/*\n * @Author: Huangjs\n * @Date: 2023-08-08 16:47:13\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 11:47:02\n * @Description: ******\n */\n\nimport React from 'react';\nimport Gesture, { type IGestureEvent } from '@huangjs888/gesture/react';\nimport Image from './image';\nimport Portal, { type IContainer } from './portal';\nimport { useStableMemo } from './useStableMemo';\nimport { useDerivedState } from './useDerivedState';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport {\n  SwiperModel,\n  type ItemModel,\n  type ICallback,\n  type IOpenStyle,\n  type ISPBox,\n  type IDirection,\n} from '../core';\nimport {\n  pointerStart,\n  pointerMove,\n  pointerEnd,\n  doubleTap,\n  singleTap,\n  longTap,\n  rotate,\n  scale,\n  swipe,\n} from '../events';\nimport { getSPBox } from '../utils';\nimport '../style/gallery.less';\n\ntype IGalleryRef = {\n  findDOMElement: () => Element | null | undefined;\n  getInstance: () => SwiperModel<ItemModel | null> | null | undefined;\n};\n\nexport type IGalleryProps = {\n  style?: React.CSSProperties; // 全局样式\n  className?: string; // 全局样式类\n  backdropStyle?: React.CSSProperties; // 背景样式\n  backdropClassName?: string; // 背景样式类\n  wrapperStyle?: React.CSSProperties; // 图片包装器样式\n  wrapperClassName?: string; // 图片包装器样式类\n  indicatorStyle?: React.CSSProperties; // 指示器（页码）样式\n  indicatorClassName?: string; // 指示器（页码）样式类\n  open?: boolean; // 是否打开画廊\n  current?: number; // 当前展示的图片下标\n  container?: IContainer; // 挂载的元素\n  destroyOnClose?: boolean; // 关闭时是否销毁组件\n  enableSwipeClose?: boolean; // 是否开启垂直下拉关闭\n  thumbnail?: ISPBox; // 计算展示和结束画廊时动画移动的位置信息，一般是缩略图的bbox\n  imageUrls?: string[]; // image的url列表\n  itemGap?: number; // 图片之间的间距\n  direction?: IDirection; // 图片排列方向（上下滑动，还是左右滑动）\n  isLazy?: boolean; // 图片是否是懒加载（滑到这个图片时再加载），否则一次性加载完\n  hasLoading?: boolean; // 加载图片是否展示loading\n  hasError?: boolean; // 图片错误是否显示错误提示\n  renderError?: () => React.ReactElement | null; // 图片加载错误自定义渲染\n  hasIndicator?: boolean; // 多图片时是否需要指示器（页码）\n  renderLoading?: () => React.ReactElement | null; // 图片加载中自定义渲染\n  onPopupMenu?: (e: IGestureEvent) => void; // 长按弹出菜单事件\n  onChange?: (v: number) => void; // index改变时事件\n  onAfterChange?: (v: number) => void; // index改变后事件\n  onClose?: (e: IGestureEvent) => void; // 触发关闭事件，需要调用者在该事件内更新open参数\n  onAfterClose?: () => void; // 关闭之后（关闭动画结束）事件\n  onAfterOpenChange?: (o: boolean) => void; // 打开和关闭动画结束之后\n};\n\n//   open(T|F)和openStatus(0|1|2)按照逆时针转变\n//\n//                      关闭且动画结束(无动画)\n//                             F(0)\n//                          /\\       \\\n//                         /          \\\n//                        /            \\/\n//    关闭并执行关闭动画  F(1)          T(0)  打开且准备打开动画\n//                        |\\            |\n//                        |             |\n//                        |             |/\n//    关闭并准备关闭动画  F(2)          T(1)  打开并执行开始动画\n//                       /\\            /\n//                         \\          /\n//                          \\       \\/\n//                             T(2)\n//                      打开且动画结束(无动画)\n\nexport default React.forwardRef<IGalleryRef, IGalleryProps>(\n  (\n    {\n      style,\n      className,\n      backdropStyle,\n      backdropClassName,\n      wrapperStyle,\n      wrapperClassName,\n      indicatorStyle,\n      indicatorClassName,\n      open = false,\n      current = 0,\n      container,\n      thumbnail,\n      imageUrls = [],\n      itemGap = 20,\n      direction = 'horizontal',\n      isLazy = true,\n      hasLoading = true,\n      renderLoading,\n      hasError = true,\n      renderError,\n      hasIndicator = true,\n      destroyOnClose = false,\n      enableSwipeClose = true,\n      onPopupMenu,\n      onChange,\n      onAfterChange,\n      onClose,\n      onAfterClose,\n      onAfterOpenChange,\n    },\n    ref,\n  ) => {\n    const defaultTotal = imageUrls.length;\n    const defaultCurrent = !current || current < 0 || current >= defaultTotal ? 0 : current;\n    const gestureRef = React.useRef<React.ElementRef<typeof Gesture> | null>(null);\n    const swiperModelRef = React.useRef<SwiperModel<ItemModel | null> | null>(null);\n    const wrapperRef = React.useRef<HTMLDivElement | null>(null);\n    const [openStatus, setOpenStatus] = React.useState<number>(0);\n    const [openStyle, setOpenStyle] = React.useState<IOpenStyle>({});\n    const [vspBox, setVSPBox] = React.useState<ISPBox>({});\n    const [activeIndex, setActiveIndex] = useDerivedState<number>(defaultCurrent);\n\n    React.useImperativeHandle(\n      ref,\n      (): IGalleryRef => ({\n        findDOMElement: () => gestureRef.current?.findDOMElement(),\n        getInstance: () => swiperModelRef.current,\n      }),\n      [],\n    );\n\n    useIsomorphicLayoutEffect(() => {\n      swiperModelRef.current = new SwiperModel<ItemModel | null>({\n        transitionEl: () => wrapperRef.current,\n      });\n    }, []);\n\n    const stableOptions = useStableMemo({\n      // 只有在打开时并且动画已结束时，才可以有slide过渡\n      ...(open && openStatus === 2 ? {} : { duration: 0 }),\n      before: onChange,\n      after: onAfterChange,\n    });\n    useIsomorphicLayoutEffect(() => {\n      const swiperModel = swiperModelRef.current;\n      if (swiperModel) {\n        swiperModel.slide(activeIndex, { ...stableOptions.data });\n      }\n    }, [activeIndex, stableOptions]);\n\n    useIsomorphicLayoutEffect(() => {\n      // T(0)状态\n      if (open && openStatus === 0) {\n        setVSPBox(getSPBox(gestureRef.current?.findDOMElement()));\n        // 开启打开动画\n        setOpenStatus(1);\n      }\n      // F(2)状态\n      if (!open && openStatus === 2) {\n        // 开启关闭动画\n        setOpenStatus(1);\n      }\n    }, [open]);\n\n    // 在打开和关闭动画过程中thumbnail或vspBox发生变化，则不再重新动画\n    const stableBox = useStableMemo({ ospBox: thumbnail, vspBox });\n    useIsomorphicLayoutEffect(() => {\n      // 进行开启关闭动画，F(1)或T(1)状态\n      if (openStatus === 1) {\n        const item = swiperModelRef.current?.currentItem();\n        // 动画之前重置内部图片的transform\n        item?.reset();\n        const { elementWidth: ew = 0, elementHeight: eh = 0 } = item?.sizePosition() || {};\n        const { x: vx = 0, y: vy = 0, w: vw = 0, h: vh = 0 } = stableBox.data.vspBox || {};\n        const { x: ox = 0, y: oy = 0, w: ow = 0, h: oh = 0 } = stableBox.data.ospBox || {};\n        const x = ow === 0 && oh === 0 ? 0 : ox - vx;\n        const y = ow === 0 && oh === 0 ? 0 : oy - vy;\n        const evw = ew == 0 && eh === 0 ? vw : ew;\n        const evh = ew == 0 && eh === 0 ? vh : eh;\n        const rat = evw / evh > ow / oh;\n        const k = (rat ? oh / evh : ow / evw) || 0.001;\n        const w = (rat ? evh * (ow / oh) : evw) || 0;\n        const h = (rat ? evh : evw / (ow / oh)) || 0;\n        const hideStyle = { o: 0, k, x, y, w, h };\n        const showStyle = { o: 1, k: 1, x: 0, y: 0, w: ew, h: eh };\n        // 动画开始样式\n        setOpenStyle((prevOpenStyle) => ({\n          // 这里在关闭的时候，优先从当前状态prevOpenStyle开始动画\n          ...(open ? hideStyle : { ...showStyle, ...prevOpenStyle }),\n        }));\n        // 使用Promise是为了使上述setState生效，在下一次渲染操作新的setState\n        Promise.resolve().then(() => {\n          // 走一次getSPBox为了使上次渲染的样式立马生效，然后进行下次渲染\n          getSPBox(gestureRef.current?.findDOMElement());\n          // 以上两步可以可以合并只使用：setTimeout(() => {}, 0);\n          // 动画结束样式\n          setOpenStyle({ ...(open ? showStyle : hideStyle), t: 300 });\n        });\n      }\n    }, [open, openStatus, stableBox]);\n\n    useIsomorphicLayoutEffect(() => {\n      const swiperModel = swiperModelRef.current;\n      if (swiperModel) {\n        swiperModel.swipeClose(enableSwipeClose);\n      }\n    }, [enableSwipeClose]);\n\n    useIsomorphicLayoutEffect(() => {\n      const swiperModel = swiperModelRef.current;\n      if (swiperModel) {\n        swiperModel.direction(direction);\n      }\n    }, [direction]);\n\n    useIsomorphicLayoutEffect(() => {\n      const swiperModel = swiperModelRef.current;\n      if (swiperModel) {\n        const { w: width, h: height } = vspBox;\n        let size = direction !== 'horizontal' ? height : width;\n        size = !size ? 0 : size + itemGap;\n        swiperModel.itemSize(size);\n      }\n    }, [direction, itemGap, vspBox]);\n\n    useIsomorphicLayoutEffect(() => {\n      const contextmenu = (e: Event) => {\n        e.preventDefault();\n        e.stopPropagation();\n      };\n      const resize = () => setVSPBox(getSPBox(gestureRef.current?.findDOMElement()));\n      window.addEventListener('resize', resize);\n      window.addEventListener('contextmenu', contextmenu);\n      return () => {\n        window.removeEventListener('resize', resize);\n        window.removeEventListener('contextmenu', contextmenu);\n      };\n    }, []);\n\n    const _wrapperStyle = React.useMemo(() => {\n      let { w: width = 0, h: height = 0 } = vspBox;\n      const totalGap = (defaultTotal - 1) * itemGap;\n      if (direction !== 'horizontal') {\n        height = height * defaultTotal + totalGap;\n      } else {\n        width = width * defaultTotal + totalGap;\n      }\n      return { width, height };\n    }, [direction, itemGap, vspBox, defaultTotal]);\n\n    function renderImages() {\n      return imageUrls.map((url, index) => {\n        return (\n          <Image\n            ref={(_ref) => swiperModelRef.current?.itemModels(_ref && _ref.getInstance(), index)}\n            key={index}\n            style={{\n              ...(index === activeIndex\n                ? {\n                    transform: `translate(${openStyle.x}px,${openStyle.y}px) scale(${openStyle.k})`,\n                    transition: openStyle.t ? `transform ${openStyle.t}ms` : '',\n                    // 在图片放大的情况下，图片超出部分会被hidden，这里对于整体缩小的情况将需要visible\n                    overflow: (openStyle.k || 1) < 1 || openStyle.t ? 'visible' : undefined,\n                  }\n                : {}),\n              // 给予图片之间一个间隔gap\n              marginTop: direction !== 'horizontal' && index !== 0 ? itemGap : 0,\n              marginLeft: direction !== 'horizontal' || index === 0 ? 0 : itemGap,\n            }}\n            imgStyle={\n              index === activeIndex\n                ? {\n                    width: openStyle.w || undefined,\n                    height: openStyle.h || undefined,\n                    transition:\n                      openStyle.t && openStyle.w && openStyle.h\n                        ? `width ${openStyle.t}ms, height ${openStyle.t}ms`\n                        : '',\n                    // 在带开和关闭动画过程中，图片的object-fit使用cover，保持宽高变化的情况下图片不变形\n                    objectFit: openStyle.w && openStyle.h ? 'cover' : undefined,\n                  }\n                : {}\n            }\n            src={url}\n            error={hasError ? renderError : false}\n            loading={hasLoading ? renderLoading : false}\n            active={!isLazy || activeIndex === index}\n            vspBox={vspBox}\n          />\n        );\n      });\n    }\n\n    const bind = (emitter: (e: IGestureEvent, o: ICallback) => void, event: IGestureEvent) => {\n      const swiperModel = swiperModelRef.current;\n      if (swiperModel) {\n        emitter.apply(swiperModel, [\n          event,\n          {\n            preventAllTap: () => {\n              // 曲线救国：这里使用回调阻止所有Tap事件触发\n              const gesture = gestureRef.current?.getInstance();\n              if (gesture) {\n                gesture.preventAllTap();\n              }\n            },\n            popupMenu: (e: IGestureEvent) => {\n              onPopupMenu?.(e);\n            },\n            internalClose: (e: IGestureEvent) => {\n              if (typeof onClose === 'function') {\n                onClose(e);\n                // 返回true通知真的关闭了\n                return true;\n              }\n            },\n            openStyleChange: (computedStyle: (style: IOpenStyle, bbox: ISPBox) => IOpenStyle) => {\n              setOpenStyle((prevOpenStyle) => computedStyle(prevOpenStyle, vspBox));\n            },\n            slideBefore: (index: number) => {\n              setActiveIndex(index);\n              onChange?.(index);\n            },\n            slideAfter: (index: number) => onAfterChange?.(index),\n          },\n        ]);\n      }\n    };\n    // F(0)状态时destroyOnClose，则销毁元素\n    if (destroyOnClose && !open && openStatus === 0) {\n      return null;\n    }\n\n    return (\n      <Portal lockOverflow={open && openStatus === 2} container={container}>\n        <Gesture\n          ref={gestureRef}\n          onPointerStart={(e) => bind(pointerStart, e)}\n          onPointerMove={(e) => bind(pointerMove, e)}\n          onPointerEnd={(e) => bind(pointerEnd, e)}\n          onDoubleTap={(e) => bind(doubleTap, e)}\n          onSingleTap={(e) => bind(singleTap, e)}\n          onLongTap={(e) => bind(longTap, e)}\n          onRotate={(e) => bind(rotate, e)}\n          onScale={(e) => bind(scale, e)}\n          onSwipe={(e) => bind(swipe, e)}>\n          <div\n            className={`preview-image__gallery__container preview-image__gallery__container-${direction}${\n              !className ? '' : ` ${className}`\n            }${open || openStatus !== 0 ? ' visible' : ''}`}\n            style={style}>\n            <div\n              className={`preview-image__gallery__backdrop${\n                !backdropClassName ? '' : ` ${backdropClassName}`\n              }`}\n              style={{\n                backgroundColor: '#000f',\n                ...(backdropStyle || {}),\n                opacity: openStyle.o,\n                transition: !openStyle.t ? '' : `opacity ${openStyle.t}ms`,\n              }}\n              onTransitionEnd={(e: React.SyntheticEvent<HTMLDivElement, TransitionEvent>) => {\n                if (e.nativeEvent.propertyName === 'opacity') {\n                  if (openStatus === 1) {\n                    //动画结束转换到T(2)或F(0)状态\n                    setOpenStatus(open ? 2 : 0);\n                    if (!open) {\n                      onAfterClose?.();\n                    }\n                    onAfterOpenChange?.(open);\n                  }\n                  setOpenStyle(({ o, k, x, y }) => ({ o, k, x, y }));\n                }\n              }}\n            />\n            <div\n              ref={wrapperRef}\n              className={`preview-image__gallery__wrapper${\n                !wrapperClassName ? '' : ` ${wrapperClassName}`\n              }`}\n              style={{\n                ...(wrapperStyle || {}),\n                ..._wrapperStyle,\n              }}>\n              {renderImages()}\n            </div>\n            {hasIndicator && defaultTotal > 1 && (\n              <div\n                className={`preview-image__gallery__indicator${\n                  !indicatorClassName ? '' : ` ${indicatorClassName}`\n                }${open && openStatus === 2 ? ' visible' : ''}`}\n                style={indicatorStyle}>\n                {imageUrls.map((_, index) => (\n                  <span\n                    key={index}\n                    className={`preview-image__gallery__indicator-item${\n                      activeIndex === index ? ' active' : ''\n                    }`}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n        </Gesture>\n      </Portal>\n    );\n  },\n);\n","/*\n * @Author: Huangjs\n * @Date: 2022-05-11 17:49:45\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 16:09:01\n * @Description: ******\n */\n\nimport React from 'react';\nimport Gallery from './gallery';\nimport Image from './image';\nimport Portal from './portal';\nimport type { ISPBox } from '../core';\n\nexport * from '../core';\n\nexport * from './gallery';\n\nexport * from './image';\n\nexport * from './portal';\n\nexport { Gallery, Image, Portal };\n\nexport default function PreviewImage({\n  open = false,\n  urls = [],\n  current = '',\n  onClose,\n  showMenu,\n  thumbnail,\n}: {\n  open?: boolean;\n  onClose?: () => void;\n  urls?: string[];\n  current?: string;\n  showMenu?: () => void;\n  thumbnail?: ISPBox;\n}) {\n  const index = urls.indexOf(current);\n  return (\n    <Gallery\n      open={open}\n      current={index}\n      imageUrls={urls}\n      enableSwipeClose={true}\n      destroyOnClose={true}\n      onPopupMenu={showMenu}\n      onClose={onClose}\n      thumbnail={thumbnail}\n    />\n  );\n}\n"],"names":["i","Object","assign","bind","e","t","arguments","length","n","prototype","hasOwnProperty","call","apply","this","window","document","createElement","useLayoutEffect","useEffect","o","on","off","r$2","constructor","events","one","pool","single","push","splice","emit","s","parentNode","p","l","touches","Array","filter","target","currentTarget","map","pageX","pageY","identifier","points","isFirst","changedTouches","slice","h","Math","sqrt","pow","u","atan2","PI","c","r","m","abs","f$1","super","wheelDelay","longTapInterval","doubleTapInterval","doubleTapDistance","touchMoveDistance","swipeVelocity","swipeDuration","raiseDuration","_rotateAngle","_singleTapTimer","_longTapTimer","_wheelTimerEnd","_preventTap","_swipePoints","_preventSingleTap","_preventDoubleTap","_firstPointer","_pointer0","_pointer1","resetOptions","a","preventAllTap","clearTimeout","d","sourceEvent","timestamp","Date","now","pointers","leavePointers","getPoint","timer","wheelEnd","changed","start","previous","current","setTimeout","waitTime","_","f","direction","moveDirection","deltaX","moveX","deltaY","moveY","v","g","scale","moveScale","T","angle","moveAngle","point","delayTime","intervalTime","velocity","swipeComputed","cos","sin","duration","stretchX","stretchY","deceleration","removeEventListener","documentElement","preventDefault","stopPropagation","button","NaN","addEventListener","capture","passive","w","deltaMode","b","P","forwardRef","children","options","keys","indexOf","useRef","onPan","onTap","onSwipe","onSingleTap","onLongTap","onDoubleTap","onMultiPan","onScale","onRotate","onPointerStart","onPointerMove","onPointerEnd","onPointerCancel","onGestureStart","onGestureMove","onGestureEnd","useCallback","useImperativeHandle","findDOMElement","getInstance","Element","Component","findDOMNode","E","Children","only","cloneElement","ref","navigator","maxTouchPoints","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown","onWheel","console","warn","useChanged","value","compare","prev","next","propsRef","React","useDerivedState","useCompare","_value","nowValueRef","forceUpdate","setState","useState","useForceUpdate","updateValue","val","canUseDOM","useIsomorphicLayoutEffect","global","requestAnimationFrame","cancelAnimationFrame","cancelRequestAnimationFrame","max","easing","delay","_delay","_frameId","_elapsed","_sleepId","_delayId","_tick","_delayFn","restart","stop","sleep","end","default","forEach","precision","transform","toRaw","y","cssProperties","_cssProperties","_animations","_apply","update","running","replace","toLocaleLowerCase","join","Promise","before","after","cancel","animation","remain","findIndex","test","style","removeProperty","cssText","querySelector","defaultAnimationExtendOptions","SwiperModel","Transition","_ref","itemModels","itemSize","enableSwipeClose","transitionEl","_objectWithoutPropertiesLoose","_excluded","_direction","_itemModels","_itemSize","_activeIndex","_enableSwipeClose","_fgBehavior","_moveTarget","Value","swipeClose","activeIndex","isHorizontal","isVertical","xy","index","isArray","currentItem","countItems","slide","restOptions","_excluded2","min","isChanged","translate","_extends","then","multiply","M","x","k","A","F","I","j","q","R","S","$","z","identity","rotate","Float32Array","rotateEuler","perspective","tan","e$2","toString","mode","expo","ratioOffset","effectuate","fn","args","isBetween","between","getSPBox","element","left","top","width","height","getBoundingClientRect","ItemModel","sizePosition","dblAdjust","dblScale","damping","rotation","scalation","translation","_dblAdjust","_dblScale","_damping","_rotation","_scalation","_translation","_sizePosition","containerCenter","containerWidth","containerHeight","naturalWidth","naturalHeight","elementWidth","elementHeight","Transform","setDblAdjust","setDamping","setDblScale","setRotation","setScalation","setTranslation","reset","getRotation","getScalation","getXTranslation","getYTranslation","aspectRatio","getDblScale","setXTranslation","setYTranslation","getTranslation","bx","by","aj","getDblAdjust","isDamping","key","_this$_damping","rotateTo","transformTo","scaleTo","translateTo","translateX","translateXTo","translateY","translateYTo","_point","_options","undefined","_a","_k","_x","_y","_transform","ox","oy","computeOffset","adjust","dk","cx","cy","cw","ch","ew","eh","moveBounce","aRange","ba","revokeDamping","performDamping","kRange","bk","xMax","yMax","resetBounce","tk","swipeBounce","stretch","transition","maxBounce","xyScale","xyPos","xyRange","sign","_stretch","_duration","easeOutQuad","xySwipe","xyBounce","xyMove","kt","_defs","_g","source","_path","SvgLoading","props","xmlns","viewBox","id","x1","x2","y1","y2","offset","stopColor","stopOpacity","fill","fillRule","opacity","attributeName","begin","dur","repeatCount","type","values","SvgError","defaultRenderError","className","Error","marginTop","defaultRenderLoading","Loading","Image","src","alt","imgStyle","vspBox","loading","error","active","wrapperRef","imageRef","itemModelRef","status","setStatus","_status","isTouchable","Number","MAX_VALUE","findImageElement","imageSize","useMemo","size","imageEl","nWidth","nHeight","itemModel","_imageSize","alignItems","onLoad","onError","position","pointerEvents","visibility","overflow","appendChild","body","offsetWidth","clientWidth","removeChild","match","isNaN","getContainer","container","_container","Portal","destroy","lockOverflow","specifyEle","setSpecifyEle","defalutEle","defaultEleRender","_defalutEle$parentEle","parentElement","_defalutEle$parentEle2","finalEle","lock","overflowRef","html","isOverflow","scrollHeight","innerHeight","clientHeight","innerWidth","scrollbarSize","getComputedStyle","getScrollBarSize","split","Fragment","ReactDOM","createPortal","useStableMemo","data","dataRef","event","item","round","longTap","popupMenu","singleTap","internalClose","swipe","slideBefore","slideAfter","isForward","diff","diffXY","that","option","all","progress","resolve","xRange","yRange","isClose","doubleTap","pointerStart","stopCount","_item$value$transform","tx","ty","rest","isLast","isRightDown","x0","y0","pointerMove","openStyleChange","onePointer","maxOption","point0","rightDown","fixedX","fixedY","_deltaX","_deltaY","_delta","prevStyle","sx","sy","swiperRange","bt","pointerEnd","Gallery","backdropStyle","backdropClassName","wrapperStyle","wrapperClassName","indicatorStyle","indicatorClassName","open","thumbnail","imageUrls","itemGap","isLazy","hasLoading","renderLoading","hasError","renderError","hasIndicator","destroyOnClose","onPopupMenu","onChange","onAfterChange","onClose","onAfterClose","onAfterOpenChange","defaultTotal","defaultCurrent","gestureRef","swiperModelRef","openStatus","setOpenStatus","openStyle","setOpenStyle","setVSPBox","setActiveIndex","_gestureRef$current","stableOptions","swiperModel","_gestureRef$current2","stableBox","ospBox","_swiperModelRef$curre","vx","vy","vw","vh","ow","oh","evw","evh","rat","hideStyle","showStyle","prevOpenStyle","_gestureRef$current3","contextmenu","resize","_gestureRef$current4","_wrapperStyle","totalGap","emitter","_gestureRef$current5","gesture","computedStyle","Gesture","backgroundColor","onTransitionEnd","nativeEvent","propertyName","url","_swiperModelRef$curre2","marginLeft","objectFit","PreviewImage","urls","showMenu"],"mappings":"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","x_google_ignoreList":[0,1,5,6,9,10,16]}