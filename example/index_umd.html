<!--
 * @Author: Huangjs
 * @Date: 2021-10-15 15:24:21
 * @LastEditors: Huangjs
 * @LastEditTime: 2023-08-04 16:43:08
 * @Description: ******
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scaleable=no"
      name="viewport" />
    <title>图片查看</title>
    <script src="../dist/previewImage.min.js"></script>
    <style>
      html,
      body {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
        overflow-y: auto;
        background-color: #eee;
      }
      .imglist {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      .img {
        width: 320px;
        margin: 12px;
      }
    </style>
  </head>

  <body>
    <div class="imglist">
      <img class="img" src="/http/maxAgeImage" />
      <img
        class="img"
        src="https://github.githubassets.com/images/modules/site/home/globe.jpg" />
      <img
        class="img"
        src="https://github.githubassets.com/images/modules/site/home-campaign/hero-bg.webp" />
      <img
        class="img"
        src="https://react.docschina.org/images/home/community/react_india_hallway.webp" />
      <img
        class="img"
        src="https://react.docschina.org/images/home/community/react_conf_nat.webp" />
      <img
        class="img"
        src="https://react.docschina.org/images/home/conf2019/cover.svg" />
      <img
        class="img"
        src="https://react.docschina.org/images/home/community/react_conf_hallway.webp" />
    </div>
    <script>
      (function () {
        const imgDoms = document.querySelectorAll('.img');
        const imgUrls = [];
        imgDoms.forEach((a) => {
          const current = a.src;
          imgUrls.push(current);
          a.onclick = () => {
            const { left, top, width, height } = a.getBoundingClientRect();
            window.PreviewImage.default({
              urls: imgUrls,
              current,
              showMenu: () => {
                sendMessage('showMenu');
              },
              originRect: { left, top, width, height },
            });
          };
        });
      })();
    </script>
  </body>
</html>
